zk.load('zul',function(){zk._n='zk.zuml';try{zk._p=zk.$package(zk._n,false,true);
zk.zuml.Parser={create:function(c,e,b){if(typeof e=="string"){e=zUtl.parseXML(e)}var d=[];zk.zuml.Parser._cw(c,e.documentElement,d,b);var a=d.length;return a?a==1?d[0]:d:null},createAt:function(e,a,k){var e=jq(e)[0],i=e.innerHTML,h=i.indexOf("<!--");if(h>=0){i=i.substring(h+4,i.lastIndexOf("-->"))}var q=this.create(null,"<div>"+i.trim()+"</div>",k),g=[];for(var o=q.firstChild,d;o;){d=o.nextSibling;q.removeChild(o);g.push(o);o=d}var f=g.length;if(!f){return null}if(!a||a.replaceHTML!==false){var m=[e];if(f>1){var b=e.parentNode,d=e.nextSibling;for(h=f;--h>0;){var c=document.createElement("DIV");m.push(c);b.insertBefore(c,d)}}for(h=0;h<f;++h){g[h].replaceHTML(m[h])}}return f==1?g[0]:g},_cw:function(k,f,c,h){if(!f){return null}var g=zk.zuml.Parser,d=g._eval(k,f.getAttribute("forEach"),h);if(d!=null){var i=window.each;for(var a=d.length,b=0;b<a;b++){window.each=d[b];g._cw2(k,f,c,h)}window.each=i}else{g._cw2(k,f,c,h)}},_cw2:function(f,s,r,b){var q=zk.zuml.Parser;var o=q._eval(f,s.getAttribute("if"),b),t=q._eval(f,s.getAttribute("unless"),b);if((o==null||o)&&(t==null||!t)){var c=s.tagName,d;if("zk"==c){d=f}else{if("attribute"==c){var g=q._eval(f,s.getAttribute("name"),b);if(!g){throw"The name attribute required, "+s}f.set(g,zUtl.getElementValue(s));return}else{var k=s.attributes;d=zk.Widget.newInstance(c);if(r){r.push(d)}if(f){f.appendChild(d)}for(var n=k.length,p=0;p<n;++p){var m=k[p];d.set(m.name,q._eval(d,m.value,b))}}}var u;for(s=s.firstChild;s;s=s.nextSibling){var v=s.nodeType;if(v==1){var a=[];q._cw(d,s,a,b);if(u&&(a=a[0])){a.prolog=u;u=null}}else{if(v==3){var i=q._eval(d,s.nodeValue,b);if(i.trim().length){var h=new zk.Native();h.prolog=i;d.appendChild(h)}else{if(d.blankPreserved){u=i}}}}}}},_eval:function(n,o,f){if(o){for(var c=0,b,a,m,i=o.length-1,h;;){b=o.indexOf("${",c);if(b<0){if(h){o=h+o.substring(c)}break}m=o.substring(c,b);a=o.indexOf("}",b+2);if(a<0){o=h?h+m:m;break}h=h?h+m:m;m=o.substring(b+2,a);try{var g=new Function("var _=arguments[0];return "+m);m=n?g.call(n,f):g(f)}catch(d){throw"Failed to evaluate "+m}if(!h&&a==i){return m}if(m){h+=m}c=a+1}}return o}};
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zk.zuml',1);