//ZK, Copyright 2009 Potix Corporation. Distributed under LGPL 3.0
//jQuery, Copyright 2009 John Resig
function $eval(s){return eval(s);}if(!window.zk){(function(){var n=this,i,B=n.jQuery,s=n.$,q=n.jQuery=n.$=function(I,J){return new q.fn.init(I,J)},H=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,h=/^.[^:#\[\.,]*$/;q.fn=q.prototype={init:function(I,L){I=I||document;if(I.nodeType){this[0]=I;this.length=1;this.context=I;return this}if(typeof I==="string"){var K=H.exec(I);if(K&&(K[1]||!L)){if(K[1]){I=q.clean([K[1]],L)}else{var M=document.getElementById(K[3]);if(M&&M.id!=K[3]){return q().find(I)}var J=q(M||[]);J.context=document;J.selector=I;return J}}else{return q(L).find(I)}}else{if(q.isFunction(I)){return q(document).ready(I)}}if(I.selector&&I.context){this.selector=I.selector;this.context=I.context}return this.setArray(q.isArray(I)?I:q.makeArray(I))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(I){return I===i?Array.prototype.slice.call(this):this[I]},pushStack:function(J,L,I){var K=q(J);K.prevObject=this;K.context=this.context;if(L==="find"){K.selector=this.selector+(this.selector?" ":"")+I}else{if(L){K.selector=this.selector+"."+L+"("+I+")"}}return K},setArray:function(I){this.length=0;Array.prototype.push.apply(this,I);return this},each:function(J,I){return q.each(this,J,I)},index:function(I){return q.inArray(I&&I.jquery?I[0]:I,this)},attr:function(J,L,K){var I=J;if(typeof J==="string"){if(L===i){return this[0]&&q[K||"attr"](this[0],J)}else{I={};I[J]=L}}return this.each(function(M){for(J in I){q.attr(K?this.style:this,J,q.prop(this,I[J],K,M,J))}})},css:function(I,J){if((I=="width"||I=="height")&&parseFloat(J)<0){J=i}return this.attr(I,J,"curCSS")},text:function(J){if(typeof J!=="object"&&J!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(J))}var I="";q.each(J||this,function(){q.each(this.childNodes,function(){if(this.nodeType!=8){I+=this.nodeType!=1?this.nodeValue:q.fn.text([this])}})});return I},wrapAll:function(I){if(this[0]){var J=q(I,this[0].ownerDocument).clone();if(this[0].parentNode){J.insertBefore(this[0])}J.map(function(){var K=this;while(K.firstChild){K=K.firstChild}return K}).append(this)}return this},wrapInner:function(I){return this.each(function(){q(this).contents().wrapAll(I)})},wrap:function(I){return this.each(function(){q(this).wrapAll(I)})},append:function(){return this.domManip(arguments,true,function(I){if(this.nodeType==1){this.appendChild(I)}})},prepend:function(){return this.domManip(arguments,true,function(I){if(this.nodeType==1){this.insertBefore(I,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(I){this.parentNode.insertBefore(I,this)})},after:function(){return this.domManip(arguments,false,function(I){this.parentNode.insertBefore(I,this.nextSibling)})},end:function(){return this.prevObject||q([])},push:[].push,sort:[].sort,splice:[].splice,find:function(I){if(this.length===1){var J=this.pushStack([],"find",I);J.length=0;q.find(I,this[0],J);return J}else{return this.pushStack(q.unique(q.map(this,function(K){return q.find(I,K)})),"find",I)}},clone:function(K){var I=this.map(function(){if(!q.support.noCloneEvent&&!q.isXMLDoc(this)){var M=this.outerHTML;if(!M){var N=this.ownerDocument.createElement("div");N.appendChild(this.cloneNode(true));M=N.innerHTML}return q.clean([M.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]}else{return this.cloneNode(true)}});if(K===true){var L=this.find("*").andSelf(),J=0;I.find("*").andSelf().each(function(){if(this.nodeName!==L[J].nodeName){return}var M=q.data(L[J],"events");for(var O in M){for(var N in M[O]){q.event.add(this,O,M[O][N],M[O][N].data)}}J++})}return I},filter:function(I){return this.pushStack(q.isFunction(I)&&q.grep(this,function(K,J){return I.call(K,J)})||q.multiFilter(I,q.grep(this,function(J){return J.nodeType===1})),"filter",I)},closest:function(I){var K=q.expr.match.POS.test(I)?q(I):null,J=0;return this.map(function(){var L=this;while(L&&L.ownerDocument){if(K?K.index(L)>-1:q(L).is(I)){q.data(L,"closest",J);return L}L=L.parentNode;J++}})},not:function(I){if(typeof I==="string"){if(h.test(I)){return this.pushStack(q.multiFilter(I,this,true),"not",I)}else{I=q.multiFilter(I,this)}}var J=I.length&&I[I.length-1]!==i&&!I.nodeType;return this.filter(function(){return J?q.inArray(this,I)<0:this!=I})},add:function(I){return this.pushStack(q.unique(q.merge(this.get(),typeof I==="string"?q(I):q.makeArray(I))))},is:function(I){return !!I&&q.multiFilter(I,this).length>0},hasClass:function(I){return !!I&&this.is("."+I)},val:function(O){if(O===i){var I=this[0];if(I){if(q.nodeName(I,"option")){return(I.attributes.value||{}).specified?I.value:I.text}if(q.nodeName(I,"select")){var M=I.selectedIndex,P=[],Q=I.options,L=I.type=="select-one";if(M<0){return null}for(var J=L?M:0,N=L?M+1:Q.length;J<N;J++){var K=Q[J];if(K.selected){O=q(K).val();if(L){return O}P.push(O)}}return P}return(I.value||"").replace(/\r/g,"")}return i}if(typeof O==="number"){O+=""}return this.each(function(){if(this.nodeType!=1){return}if(q.isArray(O)&&/radio|checkbox/.test(this.type)){this.checked=(q.inArray(this.value,O)>=0||q.inArray(this.name,O)>=0)}else{if(q.nodeName(this,"select")){var R=q.makeArray(O);q("option",this).each(function(){this.selected=(q.inArray(this.value,R)>=0||q.inArray(this.text,R)>=0)});if(!R.length){this.selectedIndex=-1}}else{this.value=O}}})},html:function(I){return I===i?(this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null):this.empty().append(I)},replaceWith:function(I){return this.after(I).remove()},eq:function(I){return this.slice(I,+I+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(I){return this.pushStack(q.map(this,function(K,J){return I.call(K,J,K)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(N,Q,P){if(this[0]){var M=(this[0].ownerDocument||this[0]).createDocumentFragment(),J=q.clean(N,(this[0].ownerDocument||this[0]),M),L=M.firstChild;if(L){for(var K=0,I=this.length;K<I;K++){P.call(O(this[K],L),this.length>1||K>0?M.cloneNode(true):M)}}if(J){q.each(J,D)}}return this;function O(R,S){return Q&&q.nodeName(R,"table")&&q.nodeName(S,"tr")?(R.getElementsByTagName("tbody")[0]||R.appendChild(R.ownerDocument.createElement("tbody"))):R}}};q.fn.init.prototype=q.fn;function D(I,J){if(J.src){q.ajax({url:J.src,async:false,dataType:"script"})}else{q.globalEval(J.text||J.textContent||J.innerHTML||"")}if(J.parentNode){J.parentNode.removeChild(J)}}function f(){return +new Date}q.extend=q.fn.extend=function(){var N=arguments[0]||{},L=1,M=arguments.length,I=false,K;if(typeof N==="boolean"){I=N;N=arguments[1]||{};L=2}if(typeof N!=="object"&&!q.isFunction(N)){N={}}if(M==L){N=this;--L}for(;L<M;L++){if((K=arguments[L])!=null){for(var J in K){var O=N[J],P=K[J];if(N===P){continue}if(I&&P&&typeof P==="object"&&!P.nodeType){N[J]=q.extend(I,O||(P.length!=null?[]:{}),P)}else{if(P!==i){N[J]=P}}}}}return N};var b=/z-?index|font-?weight|opacity|zoom|line-?height/i,t=document.defaultView||{},v=Object.prototype.toString;q.extend({noConflict:function(I){n.$=s;if(I){n.jQuery=B}return q},isFunction:function(I){return v.call(I)==="[object Function]"},isArray:function(I){return v.call(I)==="[object Array]"},isXMLDoc:function(I){return I.nodeType===9&&I.documentElement.nodeName!=="HTML"||!!I.ownerDocument&&q.isXMLDoc(I.ownerDocument)},globalEval:function(K){if(K&&/\S/.test(K)){var J=document.getElementsByTagName("head")[0]||document.documentElement,I=document.createElement("script");I.type="text/javascript";if(q.support.scriptEval){I.appendChild(document.createTextNode(K))}else{I.text=K}J.insertBefore(I,J.firstChild);J.removeChild(I)}},nodeName:function(J,I){return J.nodeName&&J.nodeName.toUpperCase()==I.toUpperCase()},each:function(K,O,J){var I,L=0,M=K.length;if(J){if(M===i){for(I in K){if(O.apply(K[I],J)===false){break}}}else{for(;L<M;){if(O.apply(K[L++],J)===false){break}}}}else{if(M===i){for(I in K){if(O.call(K[I],I,K[I])===false){break}}}else{for(var N=K[0];L<M&&O.call(N,L,N)!==false;N=K[++L]){}}}return K},prop:function(L,M,K,J,I){if(q.isFunction(M)){M=M.call(L,J)}return typeof M==="number"&&K=="curCSS"&&!b.test(I)?M+"px":M},className:{add:function(I,J){q.each((J||"").split(/\s+/),function(K,L){if(I.nodeType==1&&!q.className.has(I.className,L)){I.className+=(I.className?" ":"")+L}})},remove:function(I,J){if(I.nodeType==1){I.className=J!==i?q.grep(I.className.split(/\s+/),function(K){return !q.className.has(J,K)}).join(" "):""}},has:function(J,I){return J&&q.inArray(I,(J.className||J).toString().split(/\s+/))>-1}},swap:function(L,K,M){var I={};for(var J in K){I[J]=L.style[J];L.style[J]=K[J]}M.call(L);for(var J in K){L.style[J]=I[J]}},css:function(L,J,N,I){if(J=="width"||J=="height"){var P,K={position:"absolute",visibility:"hidden",display:"block"},O=J=="width"?["Left","Right"]:["Top","Bottom"];function M(){P=J=="width"?L.offsetWidth:L.offsetHeight;if(I==="border"){return}q.each(O,function(){if(!I){P-=parseFloat(q.curCSS(L,"padding"+this,true))||0}if(I==="margin"){P+=parseFloat(q.curCSS(L,"margin"+this,true))||0}else{P-=parseFloat(q.curCSS(L,"border"+this+"Width",true))||0}})}if(L.offsetWidth!==0){M()}else{q.swap(L,K,M)}return Math.max(0,Math.round(P))}return q.curCSS(L,J,N)},curCSS:function(M,J,K){var P,I=M.style;if(J=="opacity"&&!q.support.opacity){P=q.attr(I,"opacity");return P==""?"1":P}if(J.match(/float/i)){J=z}if(!K&&I&&I[J]){P=I[J]}else{if(t.getComputedStyle){if(J.match(/float/i)){J="float"}J=J.replace(/([A-Z])/g,"-$1").toLowerCase();var Q=t.getComputedStyle(M,null);if(Q){P=Q.getPropertyValue(J)}if(J=="opacity"&&P==""){P="1"}}else{if(M.currentStyle){var N=J.replace(/\-(\w)/g,function(R,S){return S.toUpperCase()});P=M.currentStyle[J]||M.currentStyle[N];if(!/^\d+(px)?$/i.test(P)&&/^\d/.test(P)){var L=I.left,O=M.runtimeStyle.left;M.runtimeStyle.left=M.currentStyle.left;I.left=P||0;P=I.pixelLeft+"px";I.left=L;M.runtimeStyle.left=O}}}}return P},clean:function(J,K,O){K=K||document;if(typeof K.createElement==="undefined"){K=K.ownerDocument||K[0]&&K[0].ownerDocument||document}if(!O&&J.length===1&&typeof J[0]==="string"){var N=/^<(\w+)\s*\/?>$/.exec(J[0]);if(N){return[K.createElement(N[1])]}}var P=[],L=[],Q=K.createElement("div"),I;q.each(J,function(U,X){if(typeof X==="number"){X+=""}if(!X){return}if(typeof X==="string"){X=X.replace(/(<(\w+)[^>]*?)\/>/g,function(aa,ab,Z){return Z.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?aa:ab+"></"+Z+">"});var T=X.replace(/^\s+/,"").substring(0,10).toLowerCase();var V=!T.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!T.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||T.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!T.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!T.indexOf("<td")||!T.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!T.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!q.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];(I=Q).innerHTML=V[1]+X+V[2];while(V[0]--){I=I.lastChild}if(!q.support.tbody){var W=/<tbody/i.test(X),S=!T.indexOf("<table")&&!W?I.firstChild&&I.firstChild.childNodes:V[1]=="<table>"&&!W?I.childNodes:[];for(var R=S.length-1;R>=0;--R){if(q.nodeName(S[R],"tbody")&&!S[R].childNodes.length){G(S[R])}}}if(!q.support.leadingWhitespace&&/^\s/.test(X)){I.insertBefore(K.createTextNode(X.match(/^\s*/)[0]),I.firstChild)}X=[];var Y;while(Y=I.firstChild){X.push(I.removeChild(Y))}}if(X.nodeType){P.push(X)}else{P=q.merge(P,X)}});if(Q){G(Q);Q=I=null}if(O){for(var M=0;P[M];M++){if(q.nodeName(P[M],"script")&&(!P[M].type||P[M].type.toLowerCase()==="text/javascript")){L.push(P[M].parentNode?P[M].parentNode.removeChild(P[M]):P[M])}else{if(P[M].nodeType===1){P.splice.apply(P,[M+1,0].concat(q.makeArray(P[M].getElementsByTagName("script"))))}O.appendChild(P[M])}}return L}return P},attr:function(N,K,O){if(!N||N.nodeType==3||N.nodeType==8){return i}var L=!q.isXMLDoc(N),P=O!==i;K=L&&q.props[K]||K;if(N.tagName){var J=/href|src|style/.test(K);if(K=="selected"&&N.parentNode){N.parentNode.selectedIndex}if(K in N&&L&&!J){if(P){if(K=="type"&&q.nodeName(N,"input")&&N.parentNode){throw"type property can't be changed"}N[K]=O}if(q.nodeName(N,"form")&&N.getAttributeNode(K)){return N.getAttributeNode(K).nodeValue}if(K=="tabIndex"){var M=N.getAttributeNode("tabIndex");return M&&M.specified?M.value:N.nodeName.match(/(button|input|object|select|textarea)/i)?0:N.nodeName.match(/^(a|area)$/i)&&N.href?0:i}return N[K]}if(!q.support.style&&L&&K=="style"){return q.attr(N.style,"cssText",O)}if(P){N.setAttribute(K,""+O)}var I=!q.support.hrefNormalized&&L&&J?N.getAttribute(K,2):N.getAttribute(K);return I===null?i:I}if(!q.support.opacity&&K=="opacity"){if(P){N.zoom=1;N.filter=(N.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(O)+""=="NaN"?"":"alpha(opacity="+O*100+")")}return N.filter&&N.filter.indexOf("opacity=")>=0?(parseFloat(N.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}K=K.replace(/-([a-z])/ig,function(Q,R){return R.toUpperCase()});if(P){N[K]=O}return N[K]},trim:function(I){return(I||"").replace(/^\s+|\s+$/g,"")},makeArray:function(K){var I=[];if(K!=null){var J=K.length;if(J==null||typeof K==="string"||q.isFunction(K)||K.setInterval){I[0]=K}else{while(J){I[--J]=K[J]}}}return I},inArray:function(K,L){for(var I=0,J=L.length;I<J;I++){if(L[I]===K){return I}}return -1},merge:function(L,I){var J=0,K,M=L.length;if(!q.support.getAll){while((K=I[J++])!=null){if(K.nodeType!=8){L[M++]=K}}}else{while((K=I[J++])!=null){L[M++]=K}}return L},unique:function(O){var J=[],I={};try{for(var K=0,L=O.length;K<L;K++){var N=q.data(O[K]);if(!I[N]){I[N]=true;J.push(O[K])}}}catch(M){J=O}return J},grep:function(J,N,I){var K=[];for(var L=0,M=J.length;L<M;L++){if(!I!=!N(J[L],L)){K.push(J[L])}}return K},map:function(I,N){var J=[];for(var K=0,L=I.length;K<L;K++){var M=N(I[K],K);if(M!=null){J[J.length]=M}}return J.concat.apply([],J)}});var F=navigator.userAgent.toLowerCase();q.browser={version:(F.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(F),opera:/opera/.test(F),msie:/msie/.test(F)&&!/opera/.test(F),mozilla:/mozilla/.test(F)&&!/(compatible|webkit)/.test(F)};var G=function(I){if(I.parentNode){I.parentNode.removeChild(I)}},d,g,r;if(q.browser.msie){r=[];d=G;G=function(J){if(document.body){var K="_z_iegc";d=document.getElementById(K);if(!d){d=document.createElement("div");d.id=K;d.style.display="none";document.body.appendChild(d)}G=g;for(var I=r.length;I--;){G(r[I])}r=null;return G(J)}d(J);r.push(J)};g=function(I){d.appendChild(I);d.innerHTML=""}}q.each({parent:function(I){return I.parentNode},parents:function(I){return q.dir(I,"parentNode")},next:function(I){return q.nth(I,2,"nextSibling")},prev:function(I){return q.nth(I,2,"previousSibling")},nextAll:function(I){return q.dir(I,"nextSibling")},prevAll:function(I){return q.dir(I,"previousSibling")},siblings:function(I){return q.sibling(I.parentNode.firstChild,I)},children:function(I){return q.sibling(I.firstChild)},contents:function(I){return q.nodeName(I,"iframe")?I.contentDocument||I.contentWindow.document:q.makeArray(I.childNodes)}},function(I,J){q.fn[I]=function(K){var L=q.map(this,J);if(K&&typeof K=="string"){L=q.multiFilter(K,L)}return this.pushStack(q.unique(L),I,K)}});q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(I,J){q.fn[I]=function(K){var N=[],P=q(K);for(var O=0,L=P.length;O<L;O++){var M=(O>0?this.clone(true):this).get();q.fn[J].apply(q(P[O]),M);N=N.concat(M)}return this.pushStack(N,I,K)}});q.each({removeAttr:function(I){q.attr(this,I,"");if(this.nodeType==1){this.removeAttribute(I)}},addClass:function(I){q.className.add(this,I)},removeClass:function(I){q.className.remove(this,I)},toggleClass:function(J,I){if(typeof I!=="boolean"){I=!q.className.has(this,J)}q.className[I?"add":"remove"](this,J)},remove:function(I){if(!I||q.filter(I,[this]).length){q("*",this).add([this]).each(function(){q.event.remove(this);q.removeData(this)});G(this)}},empty:function(){q(this).children().remove();while(this.firstChild){G(this.firstChild)}}},function(I,J){q.fn[I]=function(){return this.each(J,arguments)}});function l(I,J){return I[0]&&parseInt(q.curCSS(I[0],J,true),10)||0}var j="jQuery"+f(),y=0,C={};q.extend({cache:{},data:function(J,I,K){J=J==n?C:J;var L=J[j];if(!L){L=J[j]=++y}if(I&&!q.cache[L]){q.cache[L]={}}if(K!==i){q.cache[L][I]=K}return I?q.cache[L][I]:L},removeData:function(J,I){J=J==n?C:J;var L=J[j];if(I){if(q.cache[L]){delete q.cache[L][I];I="";for(I in q.cache[L]){break}if(!I){q.removeData(J)}}}else{try{delete J[j]}catch(K){if(J.removeAttribute){J.removeAttribute(j)}}delete q.cache[L]}},queue:function(J,I,L){if(J){I=(I||"fx")+"queue";var K=q.data(J,I);if(!K||q.isArray(L)){K=q.data(J,I,q.makeArray(L))}else{if(L){K.push(L)}}}return K},dequeue:function(L,K){var I=q.queue(L,K),J=I.shift();if(!K||K==="fx"){J=I[0]}if(J!==i){J.call(L)}}});q.fn.extend({data:function(I,K){var L=I.split(".");L[1]=L[1]?"."+L[1]:"";if(K===i){var J=this.triggerHandler("getData"+L[1]+"!",[L[0]]);if(J===i&&this.length){J=q.data(this[0],I)}return J===i&&L[1]?this.data(L[0]):J}else{return this.trigger("setData"+L[1]+"!",[L[0],K]).each(function(){q.data(this,I,K)})}},removeData:function(I){return this.each(function(){q.removeData(this,I)})},queue:function(I,J){if(typeof I!=="string"){J=I;I="fx"}if(J===i){return q.queue(this[0],I)}return this.each(function(){var K=q.queue(this,I,J);if(I=="fx"&&K.length==1){K[0].call(this)}})},dequeue:function(I){return this.each(function(){q.dequeue(this,I)})}});(function(){var V=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,P=0,L=Object.prototype.toString;var J=function(ac,Y,af,ag){af=af||[];Y=Y||document;if(Y.nodeType!==1&&Y.nodeType!==9){return[]}if(!ac||typeof ac!=="string"){return af}var ad=[],aa,aj,am,X,ah,Z,ab=true;V.lastIndex=0;while((aa=V.exec(ac))!==null){ad.push(aa[1]);if(aa[2]){Z=RegExp.rightContext;break}}if(ad.length>1&&Q.exec(ac)){if(ad.length===2&&M.relative[ad[0]]){aj=N(ad[0]+ad[1],Y)}else{aj=M.relative[ad[0]]?[Y]:J(ad.shift(),Y);while(ad.length){ac=ad.shift();if(M.relative[ac]){ac+=ad.shift()}aj=N(ac,aj)}}}else{var ai=ag?{expr:ad.pop(),set:I(ag)}:J.find(ad.pop(),ad.length===1&&Y.parentNode?Y.parentNode:Y,U(Y));aj=J.filter(ai.expr,ai.set);if(ad.length>0){am=I(aj)}else{ab=false}while(ad.length){var al=ad.pop(),ak=al;if(!M.relative[al]){al=""}else{ak=ad.pop()}if(ak==null){ak=Y}M.relative[al](am,ak,U(Y))}}if(!am){am=aj}if(!am){throw"Syntax error, unrecognized expression: "+(al||ac)}if(L.call(am)==="[object Array]"){if(!ab){af.push.apply(af,am)}else{if(Y.nodeType===1){for(var ae=0;am[ae]!=null;ae++){if(am[ae]&&(am[ae]===true||am[ae].nodeType===1&&O(Y,am[ae]))){af.push(aj[ae])}}}else{for(var ae=0;am[ae]!=null;ae++){if(am[ae]&&am[ae].nodeType===1){af.push(aj[ae])}}}}}else{I(am,af)}if(Z){J(Z,Y,af,ag);if(K){hasDuplicate=false;af.sort(K);if(hasDuplicate){for(var ae=1;ae<af.length;ae++){if(af[ae]===af[ae-1]){af.splice(ae--,1)}}}}}return af};J.matches=function(X,Y){return J(X,null,null,Y)};J.find=function(ae,X,af){var ad,ab;if(!ae){return[]}for(var aa=0,Z=M.order.length;aa<Z;aa++){var ac=M.order[aa],ab;if((ab=M.match[ac].exec(ae))){var Y=RegExp.leftContext;if(Y.substr(Y.length-1)!=="\\"){ab[1]=(ab[1]||"").replace(/\\/g,"");ad=M.find[ac](ab,X,af);if(ad!=null){ae=ae.replace(M.match[ac],"");break}}}}if(!ad){ad=X.getElementsByTagName("*")}return{set:ad,expr:ae}};J.filter=function(ah,ag,ak,aa){var Z=ah,am=[],ae=ag,ac,X,ad=ag&&ag[0]&&U(ag[0]);while(ah&&ag.length){for(var af in M.filter){if((ac=M.match[af].exec(ah))!=null){var Y=M.filter[af],al,aj;X=false;if(ae==am){am=[]}if(M.preFilter[af]){ac=M.preFilter[af](ac,ae,ak,am,aa,ad);if(!ac){X=al=true}else{if(ac===true){continue}}}if(ac){for(var ab=0;(aj=ae[ab])!=null;ab++){if(aj){al=Y(aj,ac,ab,ae);var ai=aa^!!al;if(ak&&al!=null){if(ai){X=true}else{ae[ab]=false}}else{if(ai){am.push(aj);X=true}}}}}if(al!==i){if(!ak){ae=am}ah=ah.replace(M.match[af],"");if(!X){return[]}break}}}if(ah==Z){if(X==null){throw"Syntax error, unrecognized expression: "+ah}else{break}}Z=ah}return ae};var M=J.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(X){return X.getAttribute("href")}},relative:{"+":function(ae,X,ad){var ab=typeof X==="string",af=ab&&!/\W/.test(X),ac=ab&&!af;if(af&&!ad){X=X.toUpperCase()}for(var aa=0,Z=ae.length,Y;aa<Z;aa++){if((Y=ae[aa])){while((Y=Y.previousSibling)&&Y.nodeType!==1){}ae[aa]=ac||Y&&Y.nodeName===X?Y||false:Y===X}}if(ac){J.filter(X,ae,true)}},">":function(ad,Y,ae){var ab=typeof Y==="string";if(ab&&!/\W/.test(Y)){Y=ae?Y:Y.toUpperCase();for(var Z=0,X=ad.length;Z<X;Z++){var ac=ad[Z];if(ac){var aa=ac.parentNode;ad[Z]=aa.nodeName===Y?aa:false}}}else{for(var Z=0,X=ad.length;Z<X;Z++){var ac=ad[Z];if(ac){ad[Z]=ab?ac.parentNode:ac.parentNode===Y}}if(ab){J.filter(Y,ad,true)}}},"":function(aa,Y,ac){var Z=P++,X=W;if(!Y.match(/\W/)){var ab=Y=ac?Y:Y.toUpperCase();X=T}X("parentNode",Y,Z,aa,ab,ac)},"~":function(aa,Y,ac){var Z=P++,X=W;if(typeof Y==="string"&&!Y.match(/\W/)){var ab=Y=ac?Y:Y.toUpperCase();X=T}X("previousSibling",Y,Z,aa,ab,ac)}},find:{ID:function(Y,Z,aa){if(typeof Z.getElementById!=="undefined"&&!aa){var X=Z.getElementById(Y[1]);return X?[X]:[]}},NAME:function(Z,ac,ad){if(typeof ac.getElementsByName!=="undefined"){var Y=[],ab=ac.getElementsByName(Z[1]);for(var aa=0,X=ab.length;aa<X;aa++){if(ab[aa].getAttribute("name")===Z[1]){Y.push(ab[aa])}}return Y.length===0?null:Y}},TAG:function(X,Y){return Y.getElementsByTagName(X[1])}},preFilter:{CLASS:function(aa,Y,Z,X,ad,ae){aa=" "+aa[1].replace(/\\/g,"")+" ";if(ae){return aa}for(var ab=0,ac;(ac=Y[ab])!=null;ab++){if(ac){if(ad^(ac.className&&(" "+ac.className+" ").indexOf(aa)>=0)){if(!Z){X.push(ac)}}else{if(Z){Y[ab]=false}}}}return false},ID:function(X){return X[1].replace(/\\/g,"")},TAG:function(Y,X){for(var Z=0;X[Z]===false;Z++){}return X[Z]&&U(X[Z])?Y[1]:Y[1].toUpperCase()},CHILD:function(X){if(X[1]=="nth"){var Y=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(X[2]=="even"&&"2n"||X[2]=="odd"&&"2n+1"||!/\D/.test(X[2])&&"0n+"+X[2]||X[2]);X[2]=(Y[1]+(Y[2]||1))-0;X[3]=Y[3]-0}X[0]=P++;return X},ATTR:function(ab,Y,Z,X,ac,ad){var aa=ab[1].replace(/\\/g,"");if(!ad&&M.attrMap[aa]){ab[1]=M.attrMap[aa]}if(ab[2]==="~="){ab[4]=" "+ab[4]+" "}return ab},PSEUDO:function(ab,Y,Z,X,ac){if(ab[1]==="not"){if(ab[3].match(V).length>1||/^\w/.test(ab[3])){ab[3]=J(ab[3],null,null,Y)}else{var aa=J.filter(ab[3],Y,Z,true^ac);if(!Z){X.push.apply(X,aa)}return false}}else{if(M.match.POS.test(ab[0])||M.match.CHILD.test(ab[0])){return true}}return ab},POS:function(X){X.unshift(true);return X}},filters:{enabled:function(X){return X.disabled===false&&X.type!=="hidden"},disabled:function(X){return X.disabled===true},checked:function(X){return X.checked===true},selected:function(X){X.parentNode.selectedIndex;return X.selected===true},parent:function(X){return !!X.firstChild},empty:function(X){return !X.firstChild},has:function(Z,Y,X){return !!J(X[3],Z).length},header:function(X){return/h\d/i.test(X.nodeName)},text:function(X){return"text"===X.type},radio:function(X){return"radio"===X.type},checkbox:function(X){return"checkbox"===X.type},file:function(X){return"file"===X.type},password:function(X){return"password"===X.type},submit:function(X){return"submit"===X.type},image:function(X){return"image"===X.type},reset:function(X){return"reset"===X.type},button:function(X){return"button"===X.type||X.nodeName.toUpperCase()==="BUTTON"},input:function(X){return/input|select|textarea|button/i.test(X.nodeName)}},setFilters:{first:function(Y,X){return X===0},last:function(Z,Y,X,aa){return Y===aa.length-1},even:function(Y,X){return X%2===0},odd:function(Y,X){return X%2===1},lt:function(Z,Y,X){return Y<X[3]-0},gt:function(Z,Y,X){return Y>X[3]-0},nth:function(Z,Y,X){return X[3]-0==Y},eq:function(Z,Y,X){return X[3]-0==Y}},filter:{PSEUDO:function(ad,Z,aa,ae){var Y=Z[1],ab=M.filters[Y];if(ab){return ab(ad,aa,Z,ae)}else{if(Y==="contains"){return(ad.textContent||ad.innerText||"").indexOf(Z[3])>=0}else{if(Y==="not"){var ac=Z[3];for(var aa=0,X=ac.length;aa<X;aa++){if(ac[aa]===ad){return false}}return true}}}},CHILD:function(X,aa){var ad=aa[1],Y=X;switch(ad){case"only":case"first":while(Y=Y.previousSibling){if(Y.nodeType===1){return false}}if(ad=="first"){return true}Y=X;case"last":while(Y=Y.nextSibling){if(Y.nodeType===1){return false}}return true;case"nth":var Z=aa[2],ag=aa[3];if(Z==1&&ag==0){return true}var ac=aa[0],af=X.parentNode;if(af&&(af.sizcache!==ac||!X.nodeIndex)){var ab=0;for(Y=af.firstChild;Y;Y=Y.nextSibling){if(Y.nodeType===1){Y.nodeIndex=++ab}}af.sizcache=ac}var ae=X.nodeIndex-ag;if(Z==0){return ae==0}else{return(ae%Z==0&&ae/Z>=0)}}},ID:function(Y,X){return Y.nodeType===1&&Y.getAttribute("id")===X},TAG:function(Y,X){return(X==="*"&&Y.nodeType===1)||Y.nodeName===X},CLASS:function(Y,X){return(" "+(Y.className||Y.getAttribute("class"))+" ").indexOf(X)>-1},ATTR:function(ac,aa){var Z=aa[1],X=M.attrHandle[Z]?M.attrHandle[Z](ac):ac[Z]!=null?ac[Z]:ac.getAttribute(Z),ad=X+"",ab=aa[2],Y=aa[4];return X==null?ab==="!=":ab==="="?ad===Y:ab==="*="?ad.indexOf(Y)>=0:ab==="~="?(" "+ad+" ").indexOf(Y)>=0:!Y?ad&&X!==false:ab==="!="?ad!=Y:ab==="^="?ad.indexOf(Y)===0:ab==="$="?ad.substr(ad.length-Y.length)===Y:ab==="|="?ad===Y||ad.substr(0,Y.length+1)===Y+"-":false},POS:function(ab,Y,Z,ac){var X=Y[2],aa=M.setFilters[X];if(aa){return aa(ab,Z,Y,ac)}}}};var Q=M.match.POS;for(var S in M.match){M.match[S]=RegExp(M.match[S].source+/(?![^\[]*\])(?![^\(]*\))/.source)}var I=function(Y,X){Y=Array.prototype.slice.call(Y);if(X){X.push.apply(X,Y);return X}return Y};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(R){I=function(ab,aa){var Y=aa||[];if(L.call(ab)==="[object Array]"){Array.prototype.push.apply(Y,ab)}else{if(typeof ab.length==="number"){for(var Z=0,X=ab.length;Z<X;Z++){Y.push(ab[Z])}}else{for(var Z=0;ab[Z];Z++){Y.push(ab[Z])}}}return Y}}var K;if(document.documentElement.compareDocumentPosition){K=function(Y,X){var Z=Y.compareDocumentPosition(X)&4?-1:Y===X?0:1;if(Z===0){hasDuplicate=true}return Z}}else{if("sourceIndex" in document.documentElement){K=function(Y,X){var Z=Y.sourceIndex-X.sourceIndex;if(Z===0){hasDuplicate=true}return Z}}else{if(document.createRange){K=function(aa,Y){var Z=aa.ownerDocument.createRange(),X=Y.ownerDocument.createRange();Z.selectNode(aa);Z.collapse(true);X.selectNode(Y);X.collapse(true);var ab=Z.compareBoundaryPoints(Range.START_TO_END,X);if(ab===0){hasDuplicate=true}return ab}}}}(function(){var Y=document.createElement("div"),Z="script"+(new Date).getTime();Y.innerHTML="<form><input name='"+Z+"'/></form>";var X=document.documentElement;X.insertBefore(Y,X.firstChild);if(!!document.getElementById(Z)){M.find.ID=function(ab,ac,ad){if(typeof ac.getElementById!=="undefined"&&!ad){var aa=ac.getElementById(ab[1]);return aa?aa.id===ab[1]||typeof aa.getAttributeNode!=="undefined"&&aa.getAttributeNode("id").nodeValue===ab[1]?[aa]:i:[]}};M.filter.ID=function(ac,aa){var ab=typeof ac.getAttributeNode!=="undefined"&&ac.getAttributeNode("id");return ac.nodeType===1&&ab&&ab.nodeValue===aa}}G(Y);X=Y=null})();(function(){var X=document.createElement("div");X.appendChild(document.createComment(""));if(X.getElementsByTagName("*").length>0){M.find.TAG=function(Y,ac){var ab=ac.getElementsByTagName(Y[1]);if(Y[1]==="*"){var aa=[];for(var Z=0;ab[Z];Z++){if(ab[Z].nodeType===1){aa.push(ab[Z])}}ab=aa}return ab}}X.innerHTML="<a href='#'></a>";if(X.firstChild&&typeof X.firstChild.getAttribute!=="undefined"&&X.firstChild.getAttribute("href")!=="#"){M.attrHandle.href=function(Y){return Y.getAttribute("href",2)}}G(X);X=null})();if(document.querySelectorAll){(function(){var X=J,Y=document.createElement("div");Y.innerHTML="<p class='TEST'></p>";if(Y.querySelectorAll&&Y.querySelectorAll(".TEST").length===0){G(Y);Y=null;return}G(Y);Y=null;J=function(ac,ab,Z,aa){ab=ab||document;if(!aa&&ab.nodeType===9&&!U(ab)){try{return I(ab.querySelectorAll(ac),Z)}catch(ad){}}return X(ac,ab,Z,aa)};J.find=X.find;J.filter=X.filter;J.selectors=X.selectors;J.matches=X.matches})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var X=document.createElement("div");X.innerHTML="<div class='test e'></div><div class='test'></div>";if(X.getElementsByClassName("e").length===0){G(X);X=null;return}X.lastChild.className="e";if(X.getElementsByClassName("e").length===1){G(X);X=null;return}G(X);X=null;M.order.splice(1,0,"CLASS");M.find.CLASS=function(Y,Z,aa){if(typeof Z.getElementsByClassName!=="undefined"&&!aa){return Z.getElementsByClassName(Y[1])}}})()}function T(Y,ad,ac,ah,ae,ag){var af=Y=="previousSibling"&&!ag;for(var aa=0,Z=ah.length;aa<Z;aa++){var X=ah[aa];if(X){if(af&&X.nodeType===1){X.sizcache=ac;X.sizset=aa}X=X[Y];var ab=false;while(X){if(X.sizcache===ac){ab=ah[X.sizset];break}if(X.nodeType===1&&!ag){X.sizcache=ac;X.sizset=aa}if(X.nodeName===ad){ab=X;break}X=X[Y]}ah[aa]=ab}}}function W(Y,ad,ac,ah,ae,ag){var af=Y=="previousSibling"&&!ag;for(var aa=0,Z=ah.length;aa<Z;aa++){var X=ah[aa];if(X){if(af&&X.nodeType===1){X.sizcache=ac;X.sizset=aa}X=X[Y];var ab=false;while(X){if(X.sizcache===ac){ab=ah[X.sizset];break}if(X.nodeType===1){if(!ag){X.sizcache=ac;X.sizset=aa}if(typeof ad!=="string"){if(X===ad){ab=true;break}}else{if(J.filter(ad,[X]).length>0){ab=X;break}}}X=X[Y]}ah[aa]=ab}}}var O=document.compareDocumentPosition?function(Y,X){return Y.compareDocumentPosition(X)&16}:function(Y,X){return Y!==X&&(Y.contains?Y.contains(X):true)};var U=function(X){return X.nodeType===9&&X.documentElement.nodeName!=="HTML"||!!X.ownerDocument&&U(X.ownerDocument)};var N=function(X,ae){var aa=[],ab="",ac,Z=ae.nodeType?[ae]:ae;while((ac=M.match.PSEUDO.exec(X))){ab+=ac[0];X=X.replace(M.match.PSEUDO,"")}X=M.relative[X]?X+"*":X;for(var ad=0,Y=Z.length;ad<Y;ad++){J(X,Z[ad],aa)}return J.filter(ab,aa)};q.find=J;q.filter=J.filter;q.expr=J.selectors;q.expr[":"]=q.expr.filters;J.selectors.filters.hidden=function(X){return X.offsetWidth===0||X.offsetHeight===0};J.selectors.filters.visible=function(X){return X.offsetWidth>0||X.offsetHeight>0};J.selectors.filters.animated=function(X){return q.grep(q.timers,function(Y){return X===Y.elem}).length};q.multiFilter=function(Z,X,Y){if(Y){Z=":not("+Z+")"}return J.matches(Z,X)};q.dir=function(Z,Y){var X=[],aa=Z[Y];while(aa&&aa!=document){if(aa.nodeType==1){X.push(aa)}aa=aa[Y]}return X};q.nth=function(ab,X,Z,aa){X=X||1;var Y=0;for(;ab;ab=ab[Z]){if(ab.nodeType==1&&++Y==X){break}}return ab};q.sibling=function(Z,Y){var X=[];for(;Z;Z=Z.nextSibling){if(Z.nodeType==1&&Z!=Y){X.push(Z)}}return X};return;n.Sizzle=J})();q.event={add:function(M,J,L,O){if(M.nodeType==3||M.nodeType==8){return}if(M.setInterval&&M!=n){M=n}if(!L.guid){L.guid=this.guid++}if(O!==i){var K=L;L=this.proxy(K);L.data=O}var I=q.data(M,"events")||q.data(M,"events",{}),N=q.data(M,"handle")||q.data(M,"handle",function(){return typeof q!=="undefined"&&!q.event.triggered?q.event.handle.apply(arguments.callee.elem,arguments):i});N.elem=M;q.each(J.split(/\s+/),function(Q,R){var S=R.split(".");R=S.shift();L.type=S.slice().sort().join(".");var P=I[R];if(q.event.specialAll[R]){q.event.specialAll[R].setup.call(M,O,S)}if(!P){P=I[R]={};if(!q.event.special[R]||q.event.special[R].setup.call(M,O,S)===false){if(M.addEventListener){M.addEventListener(R,N,false)}else{if(M.attachEvent){M.attachEvent("on"+R,N)}}}}P[L.guid]=L;q.event.global[R]=true});M=null},guid:1,global:{},remove:function(O,L,N){if(O.nodeType==3||O.nodeType==8){return}var K=q.data(O,"events"),J,I;if(K){if(L===i||(typeof L==="string"&&L.charAt(0)==".")){for(var M in K){this.remove(O,M+(L||""))}}else{if(L.type){N=L.handler;L=L.type}q.each(L.split(/\s+/),function(Q,S){var U=S.split(".");S=U.shift();var R=RegExp("(^|\\.)"+U.slice().sort().join(".*\\.")+"(\\.|$)");if(K[S]){if(N){delete K[S][N.guid]}else{for(var T in K[S]){if(R.test(K[S][T].type)){delete K[S][T]}}}if(q.event.specialAll[S]){q.event.specialAll[S].teardown.call(O,U)}for(J in K[S]){break}if(!J){if(!q.event.special[S]||q.event.special[S].teardown.call(O,U)===false){if(O.removeEventListener){O.removeEventListener(S,q.data(O,"handle"),false)}else{if(O.detachEvent){O.detachEvent("on"+S,q.data(O,"handle"))}}}J=null;delete K[S]}}})}for(J in K){break}if(!J){var P=q.data(O,"handle");if(P){P.elem=null}q.removeData(O,"events");q.removeData(O,"handle")}}},trigger:function(M,O,L,I){var K=M.type||M;if(!I){M=typeof M==="object"?M[j]?M:q.extend(q.Event(K),M):q.Event(K);if(K.indexOf("!")>=0){M.type=K=K.slice(0,-1);M.exclusive=true}if(!L){M.stopPropagation();if(this.global[K]){q.each(q.cache,function(){if(this.events&&this.events[K]){q.event.trigger(M,O,this.handle.elem)}})}}if(!L||L.nodeType==3||L.nodeType==8){return i}M.result=i;M.target=L;O=q.makeArray(O);O.unshift(M)}M.currentTarget=L;var N=q.data(L,"handle");if(N){N.apply(L,O)}if((!L[K]||(q.nodeName(L,"a")&&K=="click"))&&L["on"+K]&&L["on"+K].apply(L,O)===false){M.result=false}if(!I&&L[K]&&!M.isDefaultPrevented()&&!(q.nodeName(L,"a")&&K=="click")){this.triggered=true;try{L[K]()}catch(P){}}this.triggered=false;if(!M.isPropagationStopped()){var J=L.parentNode||L.ownerDocument;if(J){q.event.trigger(M,O,J,true)}}},handle:function(O){var N,I;O=arguments[0]=q.event.fix(O||n.event);O.currentTarget=this;var P=O.type.split(".");O.type=P.shift();N=!P.length&&!O.exclusive;var M=RegExp("(^|\\.)"+P.slice().sort().join(".*\\.")+"(\\.|$)");I=(q.data(this,"events")||{})[O.type];for(var K in I){var L=I[K];if(N||M.test(L.type)){O.handler=L;O.data=L.data;var J=L.apply(this,arguments);if(J!==i){O.result=J;if(J===false){O.preventDefault();O.stopPropagation()}}if(O.isImmediatePropagationStopped()){break}}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(L){if(L[j]){return L}var J=L;L=q.Event(J);for(var K=this.props.length,N;K;){N=this.props[--K];L[N]=J[N]}if(!L.target){L.target=L.srcElement||document}if(L.target.nodeType==3){L.target=L.target.parentNode}if(!L.relatedTarget&&L.fromElement){L.relatedTarget=L.fromElement==L.target?L.toElement:L.fromElement}if(L.pageX==null&&L.clientX!=null){var M=document.documentElement,I=document.body;L.pageX=L.clientX+(M&&M.scrollLeft||I&&I.scrollLeft||0)-(M.clientLeft||0);L.pageY=L.clientY+(M&&M.scrollTop||I&&I.scrollTop||0)-(M.clientTop||0)}if(!L.which&&((L.charCode||L.charCode===0)?L.charCode:L.keyCode)){L.which=L.charCode||L.keyCode}if(!L.metaKey&&L.ctrlKey){L.metaKey=L.ctrlKey}if(!L.which&&L.button){L.which=(L.button&1?1:(L.button&2?3:(L.button&4?2:0)))}return L},proxy:function(J,I){I=I||function(){return J.apply(this,arguments)};I.guid=J.guid=J.guid||I.guid||this.guid++;return I},special:{ready:{setup:E,teardown:function(){}}},specialAll:{live:{setup:function(I,J){q.event.add(this,J[0],c)},teardown:function(K){if(K.length){var I=0,J=RegExp("(^|\\.)"+K[0]+"(\\.|$)");q.each((q.data(this,"events").live||{}),function(){if(J.test(this.type)){I++}});if(I<1){q.event.remove(this,K[0],c)}}}}}};q.Event=function(I){if(!this.preventDefault){return new q.Event(I)}if(I&&I.type){this.originalEvent=I;this.type=I.type}else{this.type=I}this.timeStamp=f();this[j]=true};function m(){return false}function x(){return true}q.Event.prototype={preventDefault:function(){this.isDefaultPrevented=x;var I=this.originalEvent;if(!I){return}if(I.preventDefault){I.preventDefault()}I.returnValue=false},stopPropagation:function(){this.isPropagationStopped=x;var I=this.originalEvent;if(!I){return}if(I.stopPropagation){I.stopPropagation()}I.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=x;this.stopPropagation()},isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m};var a=function(J){var I=J.relatedTarget;while(I&&I!=this){try{I=I.parentNode}catch(K){I=this}}if(I!=this){J.type=J.data;q.event.handle.apply(this,arguments)}};q.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(J,I){q.event.special[I]={setup:function(){q.event.add(this,J,a,I)},teardown:function(){q.event.remove(this,J,a)}}});q.fn.extend({bind:function(J,K,I){return J=="unload"?this.one(J,K,I):this.each(function(){q.event.add(this,J,I||K,I&&K)})},one:function(K,L,J){var I=q.event.proxy(J||L,function(M){q(this).unbind(M,I);return(J||L).apply(this,arguments)});return this.each(function(){q.event.add(this,K,I,J&&L)})},unbind:function(J,I){return this.each(function(){q.event.remove(this,J,I)})},trigger:function(I,J){return this.each(function(){q.event.trigger(I,J,this)})},triggerHandler:function(I,K){if(this[0]){var J=q.Event(I);J.preventDefault();J.stopPropagation();q.event.trigger(J,K,this[0]);return J.result}},toggle:function(K){var I=arguments,J=1;while(J<I.length){q.event.proxy(K,I[J++])}return this.click(q.event.proxy(K,function(L){this.lastToggle=(this.lastToggle||0)%J;L.preventDefault();return I[this.lastToggle++].apply(this,arguments)||false}))},hover:function(I,J){return this.mouseenter(I).mouseleave(J)},ready:function(I){E();if(q.isReady){I.call(document,q)}else{q.readyList.push(I)}return this},live:function(K,J){var I=q.event.proxy(J);I.guid+=this.selector+K;q(document).bind(k(K,this.selector),this.selector,I);return this},die:function(J,I){q(document).unbind(k(J,this.selector),I?{guid:I.guid+this.selector+J}:null);return this}});function c(L){var I=RegExp("(^|\\.)"+L.type+"(\\.|$)"),K=true,J=[];q.each(q.data(this,"events").live||[],function(M,N){if(I.test(N.type)){var O=q(L.target).closest(N.data)[0];if(O){J.push({elem:O,fn:N})}}});J.sort(function(N,M){return q.data(N.elem,"closest")-q.data(M.elem,"closest")});q.each(J,function(){if(this.fn.call(this.elem,L,this.fn.data)===false){return(K=false)}});return K}function k(J,I){return["live",J,I.replace(/\./g,"`").replace(/ /g,"|")].join(".")}q.extend({isReady:false,readyList:[],ready:function(){if(!q.isReady){q.isReady=true;if(q.readyList){q.each(q.readyList,function(){this.call(document,q)});q.readyList=null}q(document).triggerHandler("ready")}}});var A=false;function E(){if(A){return}A=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);q.ready()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);q.ready()}});if(document.documentElement.doScroll&&n==n.top){(function(){if(q.isReady){return}try{document.documentElement.doScroll("left")}catch(I){setTimeout(arguments.callee,0);return}q.ready()})()}}}q.event.add(n,"load",q.ready)}q.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error").split(","),function(J,I){q.fn[I]=function(K){return K?this.bind(I,K):this.trigger(I)}});q(n).bind("unload",function(){for(var I in q.cache){if(I!=1&&q.cache[I].handle){q.event.remove(q.cache[I].handle.elem)}}d=t=null});(function(){q.support={};var J=document.documentElement,K=document.createElement("script"),P=document.createElement("div"),O="script"+(new Date).getTime();P.style.display="none";P.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var L=P.getElementsByTagName("*"),I=P.getElementsByTagName("a")[0];if(!L||!L.length||!I){G(P);J=L=I=P=K=null;return}q.support={leadingWhitespace:P.firstChild.nodeType==3,tbody:!P.getElementsByTagName("tbody").length,objectAll:!!P.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!P.getElementsByTagName("link").length,style:/red/.test(I.getAttribute("style")),hrefNormalized:I.getAttribute("href")==="/a",opacity:I.style.opacity==="0.5",cssFloat:!!I.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};K.type="text/javascript";try{K.appendChild(document.createTextNode("window."+O+"=1;"))}catch(M){}J.insertBefore(K,J.firstChild);if(n[O]){q.support.scriptEval=true;delete n[O]}J.removeChild(K);if(P.attachEvent&&P.fireEvent){P.attachEvent("onclick",function(){q.support.noCloneEvent=false;P.detachEvent("onclick",arguments.callee)});var N;(N=P.cloneNode(true)).fireEvent("onclick");G(N);N=null}G(P);J=L=I=P=K=null})();q(function(){var I=document.createElement("div");I.style.width=I.style.paddingLeft="1px";document.body.appendChild(I);q.boxModel=q.support.boxModel=I.offsetWidth===2;G(I);I=null});var z=q.support.cssFloat?"cssFloat":"styleFloat";q.props={"for":"htmlFor","class":"className","float":z,cssFloat:z,styleFloat:z,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};q.fn.extend({_load:q.fn.load,load:function(K,N,O){if(typeof K!=="string"){return this._load(K)}var M=K.indexOf(" ");if(M>=0){var I=K.slice(M,K.length);K=K.slice(0,M)}var L="GET";if(N){if(q.isFunction(N)){O=N;N=null}else{if(typeof N==="object"){N=q.param(N);L="POST"}}}var J=this;q.ajax({url:K,type:L,dataType:"html",data:N,complete:function(Q,P){if(P=="success"||P=="notmodified"){J.html(I?q("<div/>").append(Q.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(I):Q.responseText)}if(O){J.each(O,[Q.responseText,P,Q])}}});return this},serialize:function(){return q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?q.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(I,J){var K=q(this).val();return K==null?null:q.isArray(K)?q.map(K,function(M,L){return{name:J.name,value:M}}):{name:J.name,value:K}}).get()}});q.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(I,J){q.fn[J]=function(K){return this.bind(J,K)}});var u=f();q.extend({get:function(I,K,L,J){if(q.isFunction(K)){L=K;K=null}return q.ajax({type:"GET",url:I,data:K,success:L,dataType:J})},getScript:function(I,J){return q.get(I,null,J,"script")},getJSON:function(I,J,K){return q.get(I,J,K,"json")},post:function(I,K,L,J){if(q.isFunction(K)){L=K;K={}}return q.ajax({type:"POST",url:I,data:K,success:L,dataType:J})},ajaxSetup:function(I){q.extend(q.ajaxSettings,I)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return n.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(Q){Q=q.extend(true,Q,q.extend(true,{},q.ajaxSettings,Q));var aa,J=/=\?(&|$)/g,V,Z,K=Q.type.toUpperCase();if(Q.data&&Q.processData&&typeof Q.data!=="string"){Q.data=q.param(Q.data)}if(Q.dataType=="jsonp"){if(K=="GET"){if(!Q.url.match(J)){Q.url+=(Q.url.match(/\?/)?"&":"?")+(Q.jsonp||"callback")+"=?"}}else{if(!Q.data||!Q.data.match(J)){Q.data=(Q.data?Q.data+"&":"")+(Q.jsonp||"callback")+"=?"}}Q.dataType="json"}if(Q.dataType=="json"&&(Q.data&&Q.data.match(J)||Q.url.match(J))){aa="jsonp"+u++;if(Q.data){Q.data=(Q.data+"").replace(J,"="+aa+"$1")}Q.url=Q.url.replace(J,"="+aa+"$1");Q.dataType="script";n[aa]=function(ab){Z=ab;M();P();n[aa]=i;try{delete n[aa]}catch(ac){}if(L){L.removeChild(X)}}}if(Q.dataType=="script"&&Q.cache==null){Q.cache=false}if(Q.cache===false&&K=="GET"){var I=f();var Y=Q.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+I+"$2");Q.url=Y+((Y==Q.url)?(Q.url.match(/\?/)?"&":"?")+"_="+I:"")}if(Q.data&&K=="GET"){Q.url+=(Q.url.match(/\?/)?"&":"?")+Q.data;Q.data=null}if(Q.global&&!q.active++){q.event.trigger("ajaxStart")}var U=/^(\w+:)?\/\/([^\/?#]+)/.exec(Q.url);if(Q.dataType=="script"&&K=="GET"&&U&&(U[1]&&U[1]!=location.protocol||U[2]!=location.host)){var L=document.getElementsByTagName("head")[0];var X=document.createElement("script");X.src=Q.url;if(Q.scriptCharset){X.charset=Q.scriptCharset}if(!aa){var S=false;X.onload=X.onreadystatechange=function(){if(!S&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){S=true;M();P();X.onload=X.onreadystatechange=null;L.removeChild(X)}}}L.appendChild(X);return i}var O=false;var N=Q.xhr();if(Q.username){N.open(K,Q.url,Q.async,Q.username,Q.password)}else{N.open(K,Q.url,Q.async)}try{if(Q.data){N.setRequestHeader("Content-Type",Q.contentType)}if(Q.ifModified){N.setRequestHeader("If-Modified-Since",q.lastModified[Q.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}N.setRequestHeader("X-Requested-With","XMLHttpRequest");N.setRequestHeader("Accept",Q.dataType&&Q.accepts[Q.dataType]?Q.accepts[Q.dataType]+", */*":Q.accepts._default)}catch(W){}if(Q.beforeSend&&Q.beforeSend(N,Q)===false){if(Q.global&&!--q.active){q.event.trigger("ajaxStop")}N.abort();return false}if(Q.global){q.event.trigger("ajaxSend",[N,Q])}var R=function(ab){if(N.readyState==0){if(T){clearInterval(T);T=null;if(Q.global&&!--q.active){q.event.trigger("ajaxStop")}}}else{if(!O&&N&&(N.readyState==4||ab=="timeout")){O=true;if(T){clearInterval(T);T=null}V=ab=="timeout"?"timeout":!q.httpSuccess(N)?"error":Q.ifModified&&q.httpNotModified(N,Q.url)?"notmodified":"success";if(V=="success"){try{Z=q.httpData(N,Q.dataType,Q)}catch(ad){V="parsererror"}}if(V=="success"){var ac;try{ac=N.getResponseHeader("Last-Modified")}catch(ad){}if(Q.ifModified&&ac){q.lastModified[Q.url]=ac}if(!aa){M()}}else{q.handleError(Q,N,V)}P();if(ab){N.abort()}if(Q.async){N=null}}}};if(Q.async){var T=setInterval(R,13);if(Q.timeout>0){setTimeout(function(){if(N&&!O){R("timeout")}},Q.timeout)}}try{N.send(Q.data)}catch(W){q.handleError(Q,N,null,W)}if(!Q.async){R()}function M(){if(Q.success){Q.success(Z,V)}if(Q.global){q.event.trigger("ajaxSuccess",[N,Q])}}function P(){if(Q.complete){Q.complete(N,V)}if(Q.global){q.event.trigger("ajaxComplete",[N,Q])}if(Q.global&&!--q.active){q.event.trigger("ajaxStop")}}return N},handleError:function(J,L,I,K){if(J.error){J.error(L,I,K)}if(J.global){q.event.trigger("ajaxError",[L,J,K])}},active:0,httpSuccess:function(J){try{return !J.status&&location.protocol=="file:"||(J.status>=200&&J.status<300)||J.status==304||J.status==1223}catch(I){}return false},httpNotModified:function(K,I){try{var L=K.getResponseHeader("Last-Modified");return K.status==304||L==q.lastModified[I]}catch(J){}return false},httpData:function(N,L,K){var J=N.getResponseHeader("content-type"),I=L=="xml"||!L&&J&&J.indexOf("xml")>=0,M=I?N.responseXML:N.responseText;if(I&&M.documentElement.tagName=="parsererror"){throw"parsererror"}if(K&&K.dataFilter){M=K.dataFilter(M,L)}if(typeof M==="string"){if(L=="script"){q.globalEval(M)}if(L=="json"){M=n["eval"]("("+M+")")}}return M},param:function(I){var K=[];function L(M,N){K[K.length]=encodeURIComponent(M)+"="+encodeURIComponent(N)}if(q.isArray(I)||I.jquery){q.each(I,function(){L(this.name,this.value)})}else{for(var J in I){if(q.isArray(I[J])){q.each(I[J],function(){L(J,this)})}else{L(J,q.isFunction(I[J])?I[J]():I[J])}}}return K.join("&").replace(/%20/g,"+")}});var o={},p,e=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function w(J,I){var K={};q.each(e.concat.apply([],e.slice(0,I)),function(){K[this]=J});return K}q.fn.extend({show:function(K,L){if(K){return this.animate(w("show",3),K,L)}else{for(var J=0,I=this.length;J<I;J++){this[J].style.display=""}return this}},hide:function(K,L){if(K){return this.animate(w("hide",3),K,L)}else{for(var J=0,I=this.length;J<I;J++){this[J].style.display="none"}return this}},_toggle:q.fn.toggle,toggle:function(K,J){var I=typeof K==="boolean";return q.isFunction(K)&&q.isFunction(J)?this._toggle.apply(this,arguments):K==null||I?this.each(function(){var L=I?K:q(this).is(":hidden");q(this)[L?"show":"hide"]()}):this.animate(w("toggle",3),K,J)},fadeTo:function(I,K,J){return this.animate({opacity:K},I,J)},animate:function(M,J,L,K){var I=q.speed(J,L,K);return this[I.queue===false?"each":"queue"](function(){var O=q.extend({},I),Q,P=this.nodeType==1&&q(this).is(":hidden"),N=this;for(Q in M){if(M[Q]=="hide"&&P||M[Q]=="show"&&!P){return O.complete.call(this)}if((Q=="height"||Q=="width")&&this.style){O.display=q.css(this,"display");O.overflow=this.style.overflow}}if(O.overflow!=null){this.style.overflow="hidden"}O.curAnim=q.extend({},M);q.each(M,function(S,W){var V=new q.fx(N,O,S);if(/toggle|show|hide/.test(W)){V[W=="toggle"?P?"show":"hide":W](M)}else{var U=W.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),X=V.cur(true)||0;if(U){var R=parseFloat(U[2]),T=U[3]||"px";if(T!="px"){N.style[S]=(R||1)+T;X=((R||1)/V.cur(true))*X;N.style[S]=X+T}if(U[1]){R=((U[1]=="-="?-1:1)*R)+X}V.custom(X,R,T)}else{V.custom(X,W,"")}}});return true})},stop:function(J,I){var K=q.timers;if(J){this.queue([])}this.each(function(){for(var L=K.length-1;L>=0;L--){if(K[L].elem==this){if(I){K[L](true)}K.splice(L,1)}}});if(!I){this.dequeue()}return this}});q.each({slideDown:w("show",1),slideUp:w("hide",1),slideToggle:w("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(I,J){q.fn[I]=function(K,L){return this.animate(J,K,L)}});q.extend({speed:function(K,L,J){var I=typeof K==="object"?K:{complete:J||!J&&L||q.isFunction(K)&&K,duration:K,easing:J&&L||L&&!q.isFunction(L)&&L};I.duration=q.fx.off?0:typeof I.duration==="number"?I.duration:q.fx.speeds[I.duration]||q.fx.speeds._default;I.old=I.complete;I.complete=function(){if(I.queue!==false){q(this).dequeue()}if(q.isFunction(I.old)){I.old.call(this)}};return I},easing:{linear:function(K,L,I,J){return I+J*K},swing:function(K,L,I,J){return((-Math.cos(K*Math.PI)/2)+0.5)*J+I}},timers:[],fx:function(J,I,K){this.options=I;this.elem=J;this.prop=K;if(!I.orig){I.orig={}}}});q.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(q.fx.step[this.prop]||q.fx.step._default)(this);if((this.prop=="height"||this.prop=="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(J){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var I=parseFloat(q.css(this.elem,this.prop,J));return I&&I>-10000?I:parseFloat(q.curCSS(this.elem,this.prop))||0},custom:function(M,L,K){this.startTime=f();this.start=M;this.end=L;this.unit=K||this.unit||"px";this.now=this.start;this.pos=this.state=0;var I=this;function J(N){return I.step(N)}J.elem=this.elem;if(J()&&q.timers.push(J)&&!p){p=setInterval(function(){var O=q.timers;for(var N=0;N<O.length;N++){if(!O[N]()){O.splice(N--,1)}}if(!O.length){clearInterval(p);p=i}},13)}},show:function(){this.options.orig[this.prop]=q.attr(this.elem.style,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());q(this.elem).show()},hide:function(){this.options.orig[this.prop]=q.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(L){var K=f();if(L||K>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var I=true;for(var J in this.options.curAnim){if(this.options.curAnim[J]!==true){I=false}}if(I){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(q.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){q(this.elem).hide()}if(this.options.hide||this.options.show){for(var M in this.options.curAnim){q.attr(this.elem.style,M,this.options.orig[M])}}this.options.complete.call(this.elem)}return false}else{var N=K-this.startTime;this.state=N/this.options.duration;this.pos=q.easing[this.options.easing||(q.easing.swing?"swing":"linear")](this.state,N,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};q.extend(q.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(I){q.attr(I.elem.style,"opacity",I.now)},_default:function(I){if(I.elem.style&&I.elem.style[I.prop]!=null){I.elem.style[I.prop]=I.now+I.unit}else{I.elem[I.prop]=I.now}}}});if(document.documentElement.getBoundingClientRect){q.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return q.offset.bodyOffset(this[0])}var K=this[0].getBoundingClientRect(),N=this[0].ownerDocument,J=N.body,I=N.documentElement,P=I.clientTop||J.clientTop||0,O=I.clientLeft||J.clientLeft||0,M=K.top+(self.pageYOffset||q.boxModel&&I.scrollTop||J.scrollTop)-P,L=K.left+(self.pageXOffset||q.boxModel&&I.scrollLeft||J.scrollLeft)-O;return{top:M,left:L}}}else{q.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return q.offset.bodyOffset(this[0])}q.offset.initialized||q.offset.initialize();var N=this[0],K=N.offsetParent,J=N,S=N.ownerDocument,Q,L=S.documentElement,O=S.body,P=S.defaultView,I=P.getComputedStyle(N,null),R=N.offsetTop,M=N.offsetLeft;while((N=N.parentNode)&&N!==O&&N!==L){Q=P.getComputedStyle(N,null);R-=N.scrollTop,M-=N.scrollLeft;if(N===K){R+=N.offsetTop,M+=N.offsetLeft;if(q.offset.doesNotAddBorder&&!(q.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(N.tagName))){R+=parseInt(Q.borderTopWidth,10)||0,M+=parseInt(Q.borderLeftWidth,10)||0}J=K,K=N.offsetParent}if(q.offset.subtractsBorderForOverflowNotVisible&&Q.overflow!=="visible"){R+=parseInt(Q.borderTopWidth,10)||0,M+=parseInt(Q.borderLeftWidth,10)||0}I=Q}if(I.position==="relative"||I.position==="static"){R+=O.offsetTop,M+=O.offsetLeft}if(I.position==="fixed"){R+=Math.max(L.scrollTop,O.scrollTop),M+=Math.max(L.scrollLeft,O.scrollLeft)}return{top:R,left:M}}}q.offset={initialize:function(){if(this.initialized){return}var P=document.body,J=document.createElement("div"),L,K,R,M,Q,I,N=P.style.marginTop,O='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';Q={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(I in Q){J.style[I]=Q[I]}J.innerHTML=O;P.insertBefore(J,P.firstChild);L=J.firstChild,K=L.firstChild,M=L.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(K.offsetTop!==5);this.doesAddBorderForTableAndCells=(M.offsetTop===5);L.style.overflow="hidden",L.style.position="relative";this.subtractsBorderForOverflowNotVisible=(K.offsetTop===-5);P.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=(P.offsetTop===0);P.style.marginTop=N;G(J);this.initialized=true},bodyOffset:function(I){q.offset.initialized||q.offset.initialize();var K=I.offsetTop,J=I.offsetLeft;if(q.offset.doesNotIncludeMarginInBodyOffset){K+=parseInt(q.curCSS(I,"marginTop",true),10)||0,J+=parseInt(q.curCSS(I,"marginLeft",true),10)||0}return{top:K,left:J}}};q.fn.extend({position:function(){var M=0,L=0,J;if(this[0]){var K=this.offsetParent(),N=this.offset(),I=/^body|html$/i.test(K[0].tagName)?{top:0,left:0}:K.offset();N.top-=l(this,"marginTop");N.left-=l(this,"marginLeft");I.top+=l(K,"borderTopWidth");I.left+=l(K,"borderLeftWidth");J={top:N.top-I.top,left:N.left-I.left}}return J},offsetParent:function(){var I=this[0].offsetParent||document.body;while(I&&(!/^body|html$/i.test(I.tagName)&&q.css(I,"position")=="static")){I=I.offsetParent}return q(I)}});q.each(["Left","Top"],function(J,I){var K="scroll"+I;q.fn[K]=function(L){if(!this[0]){return null}return L!==i?this.each(function(){this==n||this==document?n.scrollTo(!J?L:q(n).scrollLeft(),J?L:q(n).scrollTop()):this[K]=L}):this[0]==n||this[0]==document?self[J?"pageYOffset":"pageXOffset"]||q.boxModel&&document.documentElement[K]||document.body[K]:this[0][K]}});q.each(["Height","Width"],function(M,K){var I=M?"Left":"Top",L=M?"Right":"Bottom",J=K.toLowerCase();q.fn["inner"+K]=function(){return this[0]?q.css(this[0],J,false,"padding"):null};q.fn["outer"+K]=function(O){return this[0]?q.css(this[0],J,false,O?"margin":"border"):null};var N=K.toLowerCase();q.fn[N]=function(O){return this[0]==n?document.compatMode=="CSS1Compat"&&document.documentElement["client"+K]||document.body["client"+K]:this[0]==document?Math.max(document.documentElement["client"+K],document.body["scroll"+K],document.documentElement["scroll"+K],document.body["offset"+K],document.documentElement["offset"+K]):O===i?(this.length?q.css(this[0],N):null):this.css(N,typeof O==="string"?O:O+"px")}})})();
jq=jQuery;zk=function(a){return jq(a,zk).zk};(zk.copy=function(c,b){c=c||{};for(var a in b){c[a]=b[a]}return c})(zk,(function(){var h=0,c=0,g;function b(j,k,l){return function(n,p){if(k){n=k.apply(this,arguments)}var q=this[j];this[j]=n;if(l&&(q!==n||(p&&p.force))){l.apply(this,arguments)}return this}}function i(){if(jq.isReady||zk.mnt.pgbg||zk.Page.contained.length){a(true,"z-initing")}else{setTimeout(i,10)}}function a(j,k){if(zk.processing&&!jq("#zk_proc").length&&!jq("#zk_showBusy").length){zUtl.progressbox("zk_proc",window.mesg?mesg.PLEASE_WAIT:"Processing...",j,k)}}function e(j){var k=j.className.substring(j.className.lastIndexOf(".")+1);return j.id?k+"@"+j.id:k+"#"+j.uuid}function d(t,q){var l=[];for(var r=0,u=t.length;r<u;r++){if(l.length){l.push(", ")}var o=t[r];if(o&&(o.$array||o.zk)){l.push("["+d(o,q)+"]")}else{if(zk.Widget.isInstance(o)){l.push(e(o))}else{if(o&&o.nodeType){var x=zk.Widget.$(o);if(x){l.push(o.tagName,":",e(x))}else{l.push(o.tagName,"#",o.id)}}else{if(q&&o&&(typeof o=="object")&&!o.nodeType){var z=["{\n"];for(var y in o){z.push(y,":",o[y],",\n")}if(z[z.length-1]==",\n"){z.pop()}z.push("\n}");l.push(z.join(""))}else{if(typeof o=="function"){var z=""+o,n=z.indexOf("{"),p=n<0?z.indexOf("\n"):-1;l.push(z.substring(0,n>0?n:p>0?p:z.length))}else{l.push(""+o)}}}}}}return l.join("")}function f(){if(g){var j=jq("#zk_log");if(!j.length){jq(document.body).append('<div id="zk_logbox" class="z-log"><button onclick="jq(\'#zk_logbox\').remove()">X</button><br/><textarea id="zk_log" rows="10"></textarea></div>');j=jq("#zk_log")}j=j[0];j.value+=g;j.scrollTop=j.scrollHeight;g=null}}return{procDelay:900,tipDelay:800,resendDelay:-1,lastPointer:[0,0],currentPointer:[0,0],loading:0,$package:function(r,n,t){for(var q=0,s=window;;){var p=r.indexOf(".",q),l=p>=0?r.substring(q,p):r.substring(q);var o=s[l];if(!o){o=s[l]={}}if(p<0){if(n!==false){zk.setLoaded(r)}if(t){o.$wv=true}return o}s=o;q=p+1}},$import:function(q,r){for(var p=0,s=window;;){var o=q.indexOf(".",p),l=o>=0?q.substring(p,o):q.substring(p);var n=s[l];if(o<0||!n){if(r){if(n){r(n)}else{zk.load(q.substring(0,q.lastIndexOf(".")),function(){r(zk.$import(q))})}}return n}s=n;p=o+1}},$extends:function(s,l,q){if(!s){throw"unknown superclass"}var k=function(){this.$oid=++h;this.$init.apply(this,arguments);var t=this._$ais;if(t){delete this._$ais;for(var p=t.length;p--;){t[p].call(this)}}};var n=k.prototype,j=s.prototype,r=l["$define"];if(typeof r!="undefined"){delete l["$define"]}zk.copy(n,j);zk.copy(n,l);for(var o in s){if(o!="prototype"){k[o]=s[o]}}zk.copy(k,q);n.$class=k;n._$super=j;k.$class=zk.Class;k.superclass=s;if(r){zk.define(k,r)}return k},_$oid:0,$default:function(j,l){j=j||{};for(var k in l){if(j[k]===undefined){j[k]=l[k]}}return j},override:function(n,k,l){for(var j in l){k[j]=n[j];n[j]=l[j]}},define:function(k,o){for(var j in o){var n="_"+j,l=j.charAt(0).toUpperCase()+j.substring(1),q=k.prototype,r=o[j],p=null;if(r&&r.$array){p=r.length?r[0]:null;r=r.length>1?r[1]:null}q["set"+l]=b(n,p,r);q["get"+l]=q["is"+l]=new Function("return this."+n+";")}},$void:function(){},parseInt:function(k,j){k=k?parseInt(k,j||10):0;return isNaN(k)?0:k},set:function(p,l,n,k){var j=p["set"+l.charAt(0).toUpperCase()+l.substring(1)];if(!j){p[l]=n}else{if(arguments.length>=4){j.call(p,n,k)}else{j.call(p,n)}}},get:function(l,k){var j=k.charAt(0).toUpperCase()+k.substring(1);m=l["get"+j];if(m){return m.call(l)}m=l["is"+j];if(m){return m.call(l)}return l[k]},startProcessing:function(j){zk.processing=true;setTimeout(jq.isReady?a:i,j>0?j:0)},endProcessing:function(){zk.processing=false;zUtl.destroyProgressbox("zk_proc")},disableESC:function(){++zk._noESC},enableESC:function(){--zk._noESC},_noESC:0,error:function(j){new zk.eff.Error(j)},errorDismiss:function(){zk.eff.Error.closeAll()},log:function(j){var k=d((j!==zk)?arguments:(function(o){var l=[];for(var n=o.length;--n>0;){l.unshift(o[n])}return l})(arguments),(j===zk));g=(g?g+k:k)+"\n";setTimeout(function(){jq(f)},300)},ajaxURI:function(p,n){var v=zk.Desktop.$(n?n.desktop:null),o=n&&n.au;v=(v?v:zk)[o?"updateURI":"contextURI"];if(!p){return v}var w=p.charAt(0)=="/";if(o&&!w){w=true;p="/"+p}var s=v.lastIndexOf(";"),r=v.lastIndexOf("?");if(s<0&&r<0){return w?v+p:p}if(r>=0&&(s<0||r<s)){s=r}var t=w?v.substring(0,s):"";if(n&&n.ignoreSession){return t+p}var u=v.substring(s),q=p.indexOf("?");return q>=0?r>=0?t+p.substring(0,q)+u+"&"+p.substring(q+1):t+p.substring(0,q)+u+p.substring(q):t+p+u},stateless:function(k,n,j){var o=zk.Desktop,l;k=k||("z_auto"+c++);l=o.all[k];if(l&&!l.stateless){throw"Desktop conflict"}zk.updateURI=zk.updateURI||j;zk.contextURI=zk.contextURI||n;return l||new o(k,n,j,true)}}})());zk.copy(String.prototype,{startsWith:function(a){return this.substring(0,a.length)==a},endsWith:function(a){return this.substring(this.length-a.length)==a},trim:function(){var c=0,b=this.length,a=b-1;while(c<b&&this.charAt(c)<=" "){++c}while(a>=c&&this.charAt(a)<=" "){--a}return c>a?"":this.substring(c,a+1)},$camel:function(){var d=this.split("-"),a=d.length;if(a==1){return d[0]}var c=this.charAt(0)=="-"?d[0].charAt(0).toUpperCase()+d[0].substring(1):d[0];for(var b=1;b<a;b++){c+=d[b].charAt(0).toUpperCase()+d[b].substring(1)}return c},$inc:function(a){return String.fromCharCode(this.charCodeAt(0)+a)},$sub:function(a){return this.charCodeAt(0)-a.charCodeAt(0)}});zk.copy(Array.prototype,{$array:true,$contains:function(c){for(var b=0,a=this.length;b<a;++b){if(c==this[b]){return true}}return false},$equals:function(c){if(c&&c.$array&&c.length==this.length){for(var a=this.length;a--;){var b=this[a];if(b!=c[a]&&(!b||!b.$array||!b.$equals(c[a]))){return false}}return true}},$remove:function(d){for(var c=d!=null&&d.$array,b=0,a=this.length;b<a;++b){if(d==this[b]||(c&&d.$equals(this[b]))){this.splice(b,1);return true}}return false},$clone:function(){return[].concat(this)}});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){for(var b=0,a=this.length;b<a;b++){if(this[b]==c){return b}}return -1}}(function(){zk.agent=navigator.userAgent.toLowerCase();zk.safari=zk.agent.indexOf("safari")>=0;zk.opera=zk.agent.indexOf("opera")>=0;zk.gecko=zk.agent.indexOf("gecko/")>=0&&!zk.safari&&!zk.opera;var a;if(zk.gecko){var b=zk.agent.indexOf("firefox/");b=zk.parseInt(zk.agent.substring(b+8));zk.gecko3=b>=3;zk.gecko2_=!zk.gecko3;a="gecko gecko"+b}else{if(zk.opera){a="opera"}else{var b=zk.agent.indexOf("msie ");zk.ie=b>=0;if(zk.ie){b=zk.parseInt(zk.agent.substring(b+5));zk.ie7=b>=7;zk.ie8All=b>=8;zk.ie8=b>=8&&document.documentMode>=8;zk.ie6_=!zk.ie7;a="ie ie"+b}else{if(zk.safari){a="safari"}}}}if(zk.air=zk.agent.indexOf("adobeair")>=0){a="air"}if(a){jq(function(){var d=document.body,c=d.className;if(c){c+=" "}d.className=c+a})}})();zk.Object=function(){};zk.Object.prototype=(function(){function a(c,b){return function(){return b.apply(c,arguments)}}return{$init:zk.$void,$afterInit:function(b){(this._$ais=this._$ais||[]).unshift(b)},$class:zk.Object,$instanceof:function(b){if(b){var d=this.$class;if(d==zk.Class){return this==zk.Object||this==zk.Class}for(;d;d=d.superclass){if(d==b){return true}}}return false},$super:function(d){var c=[];for(var b=arguments.length;--b>0;){c.unshift(arguments[b])}return this.$supers(d,c)},$supers:function(g,e){var f=this._$supers;if(!f){f=this._$supers={}}var d=f[g],c,h,b;if(d){b=d[g];h=d}else{b=this[g];h=this}for(;;){if(!(h=h._$super)){throw g+" not in superclass"}if(b!=h[g]){c=h[g];if(c){f[g]=h}break}}try{return c.apply(this,e)}finally{f[g]=d}},proxy:function(c){var d=this._$proxies,b;if(!d){this._$proxies=d={}}else{if(b=d[c]){return b}}return d[c]=a(this,c)}}})();zk.Class=function(){};zk.Class.superclass=zk.Object;_zkf={$class:zk.Class,isInstance:function(a){return a&&a.$instanceof&&a.$instanceof(this)},isAssignableFrom:function(a){for(;a;a=a.superclass){if(this==a){return true}}return false},$instanceof:zk.Object.prototype.$instanceof};zk.copy(zk.Class,_zkf);zk.copy(zk.Object,_zkf);
zk.light='1.0.0-RC';zk.spaceless=true;zAu={};
zjq=function(a){this.jq=a};(function(){var b={},r=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-align","text-decoration","text-indent","text-shadow","text-transform","text-overflow","direction","word-spacing","white-space"],d=["color","background-color","background"],i=[],j=0,p=0,l;function n(x,v){var u,t;if(v&&v!==zk){if(v.zk){v=v[0]}if(v){u=zk.Widget.$(v)}}return(t=u||zk.Desktop.sync())&&(t=t.$f(x,!u))?t.$n():null}function k(t){return !t.selector&&t[0]===document}function m(t){if(t.offsetParent){return t.offsetParent}if(t==document.body){return t}while((t=t.parentNode)&&t!=document.body){if(t.style&&jq(t).css("position")!="static"){return t}}return document.body}function g(){if(--j<=0){for(var t=i.length;t--;){i[t].zsync()}}}function f(v){var t=zk.Widget.$(v);if(t){zk.currentFocus=t}try{v.focus()}catch(u){setTimeout(function(){try{v.focus()}catch(w){setTimeout(function(){try{v.focus()}catch(x){}},100)}},0)}}function a(u){try{u.select()}catch(t){setTimeout(function(){try{u.select()}catch(v){}},0)}}var q,e;q=zk.gecko?[function(t){t.style.MozUserSelect="none"},function(t){t.style.MozUserSelect=""}]:zk.safari?[function(t){t.style.KhtmlUserSelect="none"},function(t){t.style.KhtmlUserSelect=""}]:zk.ie?[function(t){t.onselectstart=function(v){v=v||window.event;var w=v.srcElement,u=w?w.tagName:"";return(u=="TEXTAREA"||u=="INPUT")&&(w.type=="text"||w.type=="password")}},function(t){t.onselectstart=null}]:[zk.$void,zk.$void];e=q[1];q=q[0];function c(A,B,v){if(A&&B){var x=zk(A).revisedOffset(),u=v?v.oft:zk(B).revisedOffset(),y=u[1]-x[1]+A.scrollTop,z=v?v.h:B.offsetHeight,t=y+z,w;if(A.scrollTop>y){A.scrollTop=y;w=true}else{if(t>A.clientHeight+A.scrollTop){A.scrollTop=!v?t:t-(A.clientHeight+(B.parentNode==A?0:A.scrollTop));w=true}}if(w||!v){if(!v){v={oft:u,h:B.offsetHeight,el:B}}else{v.oft=zk(v.el).revisedOffset()}}A.scrollTop=A.scrollTop;return v}}function o(A){var x=0,u=0,z;if(zk.gecko){var B=A.parentNode;while(B&&B!=document.body){var v=jq(B),y=v.css("position");if(y=="relative"||y=="absolute"){x+=zk.parseInt(v.css("border-top-width"));u+=zk.parseInt(v.css("border-left-width"))}B=B.offsetParent}}do{var w=jq(A);if(w.css("position")=="fixed"){x+=zk.innerY()+A.offsetTop;u+=zk.innerX()+A.offsetLeft;break}else{if(zk.opera){if(z&&A.nodeName=="DIV"&&A.scrollTop!=0){x+=A.scrollTop||0}z=A.nodeName=="SPAN"||A.nodeName=="INPUT"}x+=A.offsetTop||0;u+=A.offsetLeft||0;A=zk.gecko&&A!=document.body?m(A):A.offsetParent}}while(A);return[u,x]}function h(w){if(zk.safari&&w.tagName==="TR"&&w.cells.length){w=w.cells[0]}var v=0,u=0;do{v+=w.offsetTop||0;u+=w.offsetLeft||0;w=zk.gecko&&w!=document.body?m(w):w.offsetParent;if(w){if(w.tagName=="BODY"){break}var x=jq(w).css("position");if(x=="relative"||x=="absolute"){break}}}while(w);return[u,v]}function s(w,v,t){if(t){var u=w.revisedOffset();v.left=u[0];v.top=u[1]}else{v.left=w.offsetLeft();v.top=w.offsetTop()}return v}zk.override(jq.fn,b,{init:function(w,t){var z;if(typeof w=="string"){z=w.charAt(0);if(z=="@"||z=="$"){var y=w.substring(1),x;if((z=="$"||!(w=document.getElementById(y)))&&!(w=n(y,t))){w="#"+y}}}if(t===zk){if(typeof w=="string"&&zUtl.isChar(z,{digit:1,upper:1,lower:1,_:1})){var v=document.getElementById(w);if(!v||v.id==w){var u=jq(v||[]);u.context=document;u.selector="#"+w;u.zk=new zjq(u);return u}w="#"+w}t=null}if(zk.Widget&&zk.Widget.isInstance(w)){w=w.$n()||"#"+w.uuid}var u=b.init.call(this,w,t);u.zk=new zjq(u);return u},replaceWith:function(t,x,u){if(!zk.Widget.isInstance(t)){return b.replaceWith.apply(this,arguments)}var v=this[0];if(v){t.replaceHTML(v,x,u)}return this},remove:function(){return k(this)?this:b.remove.apply(this,arguments)},show:function(){return k(this)?this:b.show.apply(this,arguments)},hide:function(){return k(this)?this:b.hide.apply(this,arguments)}});jq.fn.init.prototype=jq.fn;jq.each(["before","after","append","prepend"],function(u,t){b[t]=jq.fn[t];jq.fn[t]=function(v,y){if(!zk.Widget.isInstance(v)){return b[t].apply(this,arguments)}if(!this.length){return this}if(!zk.Desktop._ndt){zk.stateless()}var x=b[t].call(this,v._redrawHTML());v.bind(y);zWatch.fireDown("beforeSize",v);zWatch.fireDown("onSize",v);return x}});zjq.prototype={widget:function(){var u=[];for(var v=this.jq.length;v--;){var t=zk.Widget.$(this.jq[v]);if(t){u.unshift(t)}}return u},cleanVisibility:function(){return this.jq.each(function(){zjq._cleanVisi(this)})},isVisible:function(t){var u=this.jq[0];return u&&(!u.style||(u.style.display!="none"&&(!t||u.style.visibility!="hidden")))},isRealVisible:function(t){var u=this.jq[0];return u&&this.isVisible(t)&&(u.offsetWidth>0||u.offsetHeight>0)},scrollTo:function(){if(this.jq.length){var t=this.cmOffset();scrollTo(t[0],t[1])}return this},scrollIntoView:function(t){var w=this.jq[0];if(w){t=t||document.body;for(var u=w,v;(u=u.parentNode)&&w!=t;w=u){v=c(u,w,v)}}return this},sumStyles:function(v,y){var A=0;for(var x=0,t=v.length,z=this.jq;x<t;x++){var u=zk.parseInt(z.css(y[v.charAt(x)]));if(!isNaN(u)){A+=u}}return A},setOffsetHeight:function(t){var u=this.jq;t-=this.padBorderHeight()+zk.parseInt(u.css("margin-top"))+zk.parseInt(u.css("margin-bottom"));u[0].style.height=jq.px(t);return this},revisedOffset:function(w){var v=this.jq[0];if(!w){if(v.getBoundingClientRect){var t=v.getBoundingClientRect();return[t.left+jq.innerX()-v.ownerDocument.documentElement.clientLeft,t.top+jq.innerY()-v.ownerDocument.documentElement.clientTop]}w=this.cmOffset()}var u=zk(v.parentNode).scrollOffset();u[0]-=jq.innerX();u[1]-=jq.innerY();return[w[0]-u[0],w[1]-u[1]]},revisedWidth:function(t,u){t-=this.padBorderWidth();if(t>0&&u){t-=this.sumStyles("lr",jq.margins)}return t<0?0:t},revisedHeight:function(t,u){t-=this.padBorderHeight();if(t>0&&u){t-=this.sumStyles("tb",jq.margins)}return t<0?0:t},borderWidth:function(){return this.sumStyles("lr",jq.borders)},borderHeight:function(){return this.sumStyles("tb",jq.borders)},paddingWidth:function(){return this.sumStyles("lr",jq.paddings)},paddingHeight:function(){return this.sumStyles("tb",jq.paddings)},padBorderWidth:function(){return this.borderWidth()+this.paddingWidth()},padBorderHeight:function(){return this.borderHeight()+this.paddingHeight()},vflexHeight:function(){var v=this.jq[0],t=v.parentNode.clientHeight;if(zk.ie6_){var w=v.parentNode,u=w.style.height;if(u&&u.endsWith("px")){u=zk(w).revisedHeight(zk.parseInt(u));if(u&&u<t){t=u}}}for(var x=v;x=x.previousSibling;){if(x.offsetHeight&&zk(x).isVisible()){t-=x.offsetHeight}}for(var x=v;x=x.nextSibling;){if(x.offsetHeight&&zk(x).isVisible()){t-=x.offsetHeight}}return t},cellIndex:function(){var t=this.jq[0],x=0;if(zk.ie){var w=t.parentNode.cells;for(var v=0,u=w.length;v<u;v++){if(w[v]==t){x=v;break}}}else{x=t.cellIndex}return x},ncols:function(z){var A=this.jq[0],x=0,w;if(A&&(w=A.cells)){for(var v=0,u=w.length;v<u;++v){var t=w[v];if(!z||zk(t).isVisible()){var y=t.colSpan;if(y>=1){x+=y}else{++x}}}}return x},toStyleOffset:function(D,C){var v=this.jq[0],z=v.style.left,w=v.style.top,A=zk.opera||zk.air;if(A||v.style.left==""||v.style.left=="auto"){v.style.left="0"}if(A||v.style.top==""||v.style.top=="auto"){v.style.top="0"}var u=this.cmOffset(),t=zk.parseInt(v.style.left),B=zk.parseInt(v.style.top);u=[D-u[0]+t,C-u[1]+B];v.style.left=z;v.style.top=w;return u},center:function(u){var t=this.jq[0],w=this.offsetWidth(),z=this.offsetHeight();if((!w||!z)&&!this.isVisible()){t.style.left=t.style.top="-10000px";t.style.display="block";w=this.offsetWidth();z=this.offsetHeight(),t.style.display="none"}var v=jq.innerX(),E=jq.innerY();var F,D,C,B;w=jq.innerWidth()-w;if(!u){F=v+w/2}else{if(u.indexOf("left")>=0){F=v}else{if(u.indexOf("right")>=0){F=v+w-1}else{if(u.indexOf("center")>=0){F=v+w/2}else{F=0;C=true}}}}z=jq.innerHeight()-z;if(!u){D=E+z/2}else{if(u.indexOf("top")>=0){D=E}else{if(u.indexOf("bottom")>=0){D=E+z-1}else{if(u.indexOf("center")>=0){D=E+z/2}else{D=0;B=true}}}}if(F<v){F=v}if(D<E){D=E}var A=this.toStyleOffset(F,D);if(!C){t.style.left=jq.px(A[0],true)}if(!B){t.style.top=jq.px(A[1],true)}return this},position:function(D,C,u){C=C||"overlap";if(D.nodeType){D=zk(D).dimension(true)}var I=D.left,H=D.top,z=this.dimension(),A=z.height;z=z.width;switch(C){case"before_start":H-=A;break;case"before_end":H-=A;I+=D.width-z;break;case"after_start":H+=D.height;break;case"after_end":H+=D.height;I+=D.width-z;break;case"start_before":I-=z;break;case"start_after":I-=z;H+=D.height-A;break;case"end_before":I+=D.width;break;case"end_after":I+=D.width;H+=D.height-A;break;case"at_pointer":var B=zk.currentPointer;I=B[0];H=B[1];break;case"after_pointer":var B=zk.currentPointer;I=B[0];H=B[1]+20;break;case"overlap_end":I+=D.width-z;break;case"overlap_before":H+=D.height-A;break;case"overlap_after":I+=D.width-z;H+=D.height-A;break;default:}if(!u||!u.overflow){var G=jq.innerX(),F=jq.innerY(),v=G+jq.innerWidth(),t=F+jq.innerHeight();if(I+z>v){I=v-z}if(I<G){I=G}if(H+A>t){H=t-A}if(H<F){H=F}}var w=this.jq[0],E=this.toStyleOffset(I,H);w.style.left=jq.px(E[0],true);w.style.top=jq.px(E[1],true);return this},scrollOffset:function(){var w=this.jq[0],v=0,u=0;do{v+=w.scrollTop||0;u+=w.scrollLeft||0;w=w.parentNode}while(w);return[u,v]},cmOffset:function(){var t=this.jq[0];if(zk.safari&&t.tagName==="TR"&&t.cells.length){t=t.cells[0]}if(!(zk.gecko||zk.safari)||this.isVisible()||this.offsetWidth()){return o(t)}t.style.display="";var u=o(t);t.style.display="none";return u},absolutize:function(){var u=this.jq[0];if(u.style.position=="absolute"){return this}var v=h(u),x=v[0],w=v[1],t=u.style;u._$orgLeft=x-parseFloat(t.left||0);u._$orgTop=w-parseFloat(t.top||0);t.position="absolute";t.top=jq.px(w,true);t.left=jq.px(x,true);return this},relativize:function(){var u=this.jq[0];if(u.style.position=="relative"){return this}var t=u.style;t.position="relative";var w=parseFloat(t.top||0)-(u._$orgTop||0),v=parseFloat(t.left||0)-(u._$orgLeft||0);t.top=jq.px(w,true);t.left=jq.px(v,true);return this},offsetWidth:function(){var w=this.jq[0];if(!zk.safari||w.tagName!="TR"){return w.offsetWidth}var v=0;for(var u=w.cells,t=u.length;t--;){v+=u[t].offsetWidth}return v},offsetHeight:function(){var x=this.jq[0];if(!zk.safari||x.tagName!="TR"){return x.offsetHeight}var v=0;for(var u=x.cells,t=u.length;t--;){var w=u[t].offsetHeight;if(w>v){v=w}}return v},offsetTop:function(){var t=this.jq[0];if(zk.safari&&t.tagName==="TR"&&t.cells.length){t=t.cells[0]}return t.offsetTop},offsetLeft:function(){var t=this.jq[0];if(zk.safari&&t.tagName==="TR"&&t.cells.length){t=t.cells[0]}return t.offsetLeft},viewportOffset:function(){var v=0,u=0,w=this.jq[0],x=w;do{v+=x.offsetTop||0;u+=x.offsetLeft||0;if(x.offsetParent==document.body){if(jq(x).css("position")=="absolute"){break}}}while(x=x.offsetParent);do{if(!zk.opera||w.tagName=="BODY"){v-=w.scrollTop||0;u-=w.scrollLeft||0}}while(w=w.parentNode);return[u,v]},textSize:function(u){var x=this.jq[0],y=zk._txtSizDiv;if(!y){y=zk._txtSizDiv=document.createElement("DIV");y.style.cssText="left:-1000px;top:-1000px;position:absolute;visibility:hidden;border:none";document.body.appendChild(y)}for(var w=r,v=w.length;v--;){var t=w[v].$camel();y.style[t]=jq(x).css(t)}y.innerHTML=u;return[y.offsetWidth,y.offsetHeight]},dimension:function(v){var y=this.jq.css("display");if(y!="none"&&y!=null){return s(this,{width:this.offsetWidth(),height:this.offsetHeight()},v)}var t=this.jq[0].style,x=t.visibility,w=t.position,u=t.display;t.visibility="hidden";t.position="absolute";t.display="block";try{return s(this,{width:this.offsetWidth(),height:this.offsetHeight()},v)}finally{t.display=u;t.position=w;t.visibility=x}},redoCSS:(function(){var t=[],w,u=function(x){x.className+=" ";if(x.offsetHeight){}x.className.trim()};if(zk.ie){w=u;u=function(x){var y=x.style.zoom;x.style.zoom=1;w(x);setTimeout(function(){try{x.style.zoom=y}catch(z){}})}}function v(){if(t.length){for(var x;x=t.pop();){try{u(x)}catch(y){}}setTimeout(v)}}return function(x){t.push(this.jq[0]);setTimeout(v,x>=0?x:100);return this}})(),vparentNode:function(){var u=this.jq[0];if(u){var t=u.z_vp;if(t){return jq("#"+t)[0]}t=u.z_vpagt;if(t&&(t=jq("#"+t)[0])){return t.parentNode}}},makeVParent:function(){var u=this.jq[0],v=u.parentNode;if(u.z_vp||u.z_vpagt||v==document.body){return this}var t=u.nextSibling,w=document.createElement("SPAN");w.id=u.z_vpagt="_z_vpagt"+p++;w.style.display="none";if(t){v.insertBefore(w,t)}else{v.appendChild(w)}u.z_vp=v.id;document.body.appendChild(u);return this},undoVParent:function(){var u=this.jq[0];if(u.z_vp||u.z_vpagt){var v=u.z_vp,w=u.z_vpagt,t=jq("#"+w);u.z_vp=u.z_vpagt=null;w=t[0];v=v?jq("#"+v)[0]:w?w.parentNode:null;if(v){if(w){v.insertBefore(u,w);t.remove()}else{v.appendChild(u)}}}return this},focus:function(u){var v=this.jq[0];if(!v||!v.focus){return false}var t=v.tagName;if(t!="BUTTON"&&t!="INPUT"&&t!="TEXTAREA"&&t!="A"&&t!="SELECT"&&t!="IFRAME"){return false}if(u>=0){setTimeout(function(){f(v)},u)}else{f(v)}return true},select:function(u,t){var u=this.jq[0];if(!u||typeof u.select!="function"){return false}if(t>=0){setTimeout(function(){a(u)},t)}else{a(u)}return true},getSelectionRange:function(){var w=this.jq[0];try{if(document.selection!=null&&w.selectionStart==null){var u=document.selection.createRange();var t=w.createTextRange();var v="";if(w.type.toLowerCase()=="text"){v=t.duplicate()}else{v=u.duplicate();v.moveToElementText(w)}v.setEndPoint("EndToEnd",u);var y=v.text.length-u.text.length;return[y,y+u.text.length]}else{return[w.selectionStart,w.selectionEnd]}}catch(x){return[0,0]}},setSelectionRange:function(x,u){var w=this.jq[0],t=w.value.length;if(x==null||x<0){x=0}if(x>t){x=t}if(u==null||u>t){u=t}if(u<0){u=0}if(w.setSelectionRange){w.setSelectionRange(x,u);w.focus()}else{if(w.createTextRange){var v=w.createTextRange();if(x!=u){v.moveEnd("character",u-v.text.length);v.moveStart("character",x)}else{v.move("character",x)}v.select()}}return this},disableSelection:function(){return this.jq.each(function(){q(this)})},enableSelection:function(){return this.jq.each(function(){e(this)})},setStyles:function(u){var v=this.jq;for(var t in u){v.css(t,u[t])}}};zk.copy(jq,{px:function(t,u){return(u?t||0:Math.max(t,0))+"px"},$$:function(u,t){return typeof u=="string"?u?document.getElementsByName(u+(t?"-"+t:"")):null:u},isAncestor:function(t,u){if(!t){return true}for(;u;u=zk(u).vparentNode()||u.parentNode){if(t==u){return true}}return false},innerX:function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},innerY:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},innerWidth:function(){return typeof window.innerWidth=="number"?window.innerWidth:document.compatMode=="CSS1Compat"?document.documentElement.clientWidth:document.body.clientWidth},innerHeight:function(){return typeof window.innerHeight=="number"?window.innerHeight:document.compatMode=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight},pageWidth:function(){var u=document.body.scrollWidth,t=document.body.offsetWidth;return u>t?u:t},pageHeight:function(){var u=document.body.scrollHeight,t=document.body.offsetHeight;return u>t?u:t},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},scrollbarWidth:function(){if(!l){l=document.createElement("DIV");l.style.cssText="top:-1000px;left:-1000px;position:absolute;visibility:hidden;border:none;width:50px;height:50px;overflow:scroll;";document.body.appendChild(l)}return l.offsetWidth-l.clientWidth},isOverlapped:function(v,B,u,z){var D=v[0],C=B[0]+D,x=v[1],w=B[1]+x;var t=u[0],E=z[0]+t,A=u[1],y=z[1]+A;return t<=C&&E>=D&&A<=w&&y>=x},clearSelection:function(){try{if(window.getSelection){if(zk.safari){window.getSelection().collapse()}else{window.getSelection().removeAllRanges()}}else{if(document.selection){if(document.selection.empty){document.selection.empty()}else{if(document.selection.clear){document.selection.clear()}}}}return true}catch(t){return false}},filterTextStyle:function(y,A){if(typeof y=="string"){var z="";if(y){for(var w=0,v=0;v>=0;w=v+1){v=y.indexOf(";",w);var x=v>=0?y.substring(w,v):y.substring(w),u=x.indexOf(":"),t=u<0?x.trim():x.substring(0,u).trim();if(t&&(r.$contains(t)||d.$contains(t)||(A&&A.$contains(t)))){z+=x+";"}}}return z}var z={};for(var t in y){if(r.$contains(t)||d.$contains(t)||(A&&A.$contains(t))){z[t]=y[t]}}return z},parseStyle:function(y){var A={};if(y){var z=y.split(";");for(var x=0,u=z.length;x<u;){var w=z[x++].split(":"),t=w.length>0?w[0].trim():"";if(t){A[t]=w.length>1?w[1].trim():""}}}return A},appendScript:function(u,v){var t=document.createElement("SCRIPT");t.type="text/javascript";t.charset=v||"UTF-8";t.src=u;document.getElementsByTagName("HEAD")[0].appendChild(t);return this},newFrame:function(w,v,u){if(!v){v=zk.ie?"javascript:false;":""}var t='<iframe id="'+w+'" name="'+w+'" src="'+v+'"';if(u==null){u="display:none"}t+=' style="'+u+'"></iframe>';jq(document.body).append(t);return zk(w).jq[0]},newStackup:function(u,w,t){u=jq(u||[],zk)[0];var v=document.createElement("IFRAME");v.id=w||(u?u.id+"-ifrstk":"z_ifrstk");v.style.cssText="position:absolute;overflow:hidden;filter:alpha(opacity=0)";v.frameBorder="no";v.tabIndex=-1;v.src=zk.ie?"javascript:false;":"";if(u){v.style.width=u.offsetWidth+"px";v.style.height=u.offsetHeight+"px";v.style.top=u.style.top;v.style.left=u.style.left;u.parentNode.insertBefore(v,t||u)}return v},queryToHiddens:function(y,u){for(var x=0;;){var w=u.indexOf("=",x);var v=u.indexOf("&",x);var t,z;if(w<0||(w>v&&v>=0)){t=v>=0?u.substring(x,v):u.substring(x);z=""}else{t=u.substring(x,w);z=v>=0?u.substring(w+1,v):u.substring(w+1)}jq.newHidden(t,z,y);if(v<0){return}x=v+1}},newHidden:function(t,w,u){var v=document.createElement("INPUT");v.type="hidden";v.name=t;v.value=w;if(u){u.appendChild(v)}return v},confirm:function(u){zk.alerting=true;try{return confirm(u)}finally{try{zk.alerting=false}catch(t){}}},alert:function(u){zk.alerting=true;try{alert(u)}finally{try{zk.alerting=false}catch(t){}}},zsync:function(){var v=arguments,t=v.length,u=0;if(!t){++j;setTimeout(g,50)}else{if(v[t-1]===false){for(--t;u<t;u++){i.$remove(v[u])}}else{for(;u<t;u++){i.unshift(v[u])}}}}});zk.copy(zjq,{_cleanVisi:function(t){t.style.visibility="inherit"}});zk.copy(jq.Event.prototype,{stop:function(){this.preventDefault();this.stopPropagation()},mouseData:function(){return zk.copy({pageX:this.pageX,pageY:this.pageY},this.metaData())},keyData:function(){return zk.copy({keyCode:this.keyCode,charCode:this.charCode},this.metaData())},metaData:function(){var t={};if(this.altKey){t.altKey=true}if(this.ctrlKey){t.ctrlKey=true}if(this.shiftKey){t.shiftKey=true}t.which=this.which||0;return t}});zk.copy(jq.event,{stop:function(t){t.stop()},filterMetaData:function(u){var t={};if(u.altKey){t.altKey=true}if(u.ctrlKey){t.ctrlKey=true}if(u.shiftKey){t.shiftKey=true}t.which=u.which||0;return t},toEvent:function(t,y){var u=t.type,x=zk.Widget.$(t)||y,w,v;if(u.startsWith("mouse")){if(u.length>5){u="Mouse"+u.charAt(5).toUpperCase()+u.substring(6)}w=t.mouseData()}else{if(u.startsWith("key")){if(u.length>3){u="Key"+u.charAt(3).toUpperCase()+u.substring(4)}w=t.keyData()}else{if(u=="dblclick"){w=t.mouseData();v={ctl:true};u="DoubleClick"}else{if(u=="click"){w=t.mouseData();v={ctl:true}}u=u.charAt(0).toUpperCase()+u.substring(1)}}}return new zk.Event(x,"on"+u,w,v,t)}})})();
if(zk.ie){
(function(){var a=[],d={};function g(i,h){for(;i&&i!=h;i=i.nextSibling){if(i.nodeType==1){a.push(i);setTimeout(e,100)}}}function e(){var h=a.shift();if(h){zjq._alphafix(h);c(h.getElementsByTagName("A"));c(h.getElementsByTagName("AREA"));if(a.length){setTimeout(e,300)}}}function c(i){for(var h=i.length;h--;){var k=i[h];if(!k.z_fixed&&k.href.indexOf("javascript:")>=0){k.z_fixed=true;jq(k).click(f)}}}function f(){zk.skipBfUnload=true;setTimeout(b,0)}function b(){zk.skipBfUnload=false}zk.override(jq.fn,d,{before:function(){var i=this[0],h;if(i){h=i.previousSibling}ret=d.before.apply(this,arguments);if(i){g(h?h.nextSibling:i.parentNode?i.parentNode.firstChild:null,i)}return ret},after:function(){var i=this[0],h;if(i){h=i.nextSibling}ret=d.after.apply(this,arguments);if(i){g(i.nextSibling,h)}return ret},append:function(){var i=this[0],h;if(i){h=i.lastChild}ret=d.append.apply(this,arguments);if(i){g(h?h.nextSibling:i.firstChild)}return ret},prepend:function(){var i=this[0],h;if(i){h=i.firstChild}ret=d.prepend.apply(this,arguments);if(i){g(i.firstChild,h)}return ret},replaceWith:function(){var j=this[0],i,h;if(j){i=j.previousSibling;h=j.nextSibling}ret=d.replaceWith.apply(this,arguments);if(j){g(i?i.nextSibling:j.parentNode?j.parentNode.firstChild:null,h)}return ret},html:function(h){var i=h===undefined?null:this[0];ret=d.html.apply(this,arguments);if(i){g(i.firstChild)}return ret}})})();zjq._alphafix=zk.$void;zk.override(jq.event,zjq._evt={},{fix:function(a){a=zjq._evt.fix.apply(this,arguments);if(!a.which&&a.button===0){a.which=1}return a}});
if(zk.ie6_){
(function(){var b=[],h="DXImageTransform.Microsoft.AlphaImageLoader",e="progid:"+h+"(src='%1',sizingMethod='scale')",c,a={};function d(){if(!c&&event.propertyName=="src"&&this.src.indexOf("spacer.gif")<0){g(this)}}function g(j){var k=new Image(j.width,j.height);k.onload=function(){j.width=k.width;j.height=k.height;k=null};k.src=j.src;j._pngSrc=j.src;f(j)}function f(j){var k=j.filters[h];if(k){k.src=j.src;k.enabled=true}else{j.runtimeStyle.filter=zUtl.format(e,j.src);b.push(j)}j.src=zk.SPACER_URI}function i(j){j.src=j._pngSrc;j.filters[h].enabled=false}zk.copy(zjq,{_alphafix:function(s){var p=jq.IE6_ALPHAFIX;if(!p){return}if(typeof p=="string"){p=jq.IE6_ALPHAFIX=new RegExp(zUtl.regexEscape(p)+"$","i")}if(!zk.SPACER_URI){zk.SPACER_URI=zk.ajaxURI("web/img/spacer.gif",{au:true})}var r=s.getElementsByTagName("img");for(var o=r.length;o--;){var m=r[o],q=m.src,l=q.lastIndexOf(";");if(l>=0){q=q.substring(0,l)}if(p.test(m.src)){g(m);jq(m).bind("propertychange",d)}}}});zk.override(jq.fn,a,{clone:function(){var o=a.clone.apply(this,arguments),m,l;for(var k=0;k<this.length;++k){m=this[k];if(m.tagName=="IMG"&&m._pngSrc){(l=o[k]).src=m._pngSrc;setTimeout(function(){g(l)},0)}}return o}});jq(window).bind("beforeprint",function(){c=true;for(var l=b,k=0,j=l.length;k<j;k++){var o=l[k];try{i(o)}catch(m){l.splice(k--,1);j--}}}).bind("afterprint",function(){for(var l=b,k=0,j=l.length;k<j;k++){f(l[k])}c=false})})();
}}else if(zk.opera){
zk.copy(zjq.prototype,{scrollOffset:function(){var e=this.jq[0],d=e.tagName!="TR"&&e.tagName!="IMG",c=0,b=0;do{var a=e.tagName;if(a=="BODY"||(d&&a=="DIV")){c+=e.scrollTop||0;b+=e.scrollLeft||0}e=e.parentNode}while(e);return[b,c]}});zk.copy(zjq,{_cleanVisi:function(a){a.style.visibility=a.getElementsByTagName("INPUT").length?"visible":"inherit"}});
}else if(zk.safari){
zjq._sfKeys={25:9,63232:38,63233:40,63234:37,63235:39,63272:46,63273:36,63275:35,63276:33,63277:34};zk.override(jq.event,zjq._evt={},{fix:function(a){a=zjq._evt.fix.apply(this,arguments);var b=zjq._sfKeys[a.keyCode];if(b){a.keyCode=b}return a}});
}
zk.copy(zk,{animating:function(){return !!jq.timers.length},_anique:{}});zk.copy(zjq.prototype,{_unit:"px",_saveProp:function(c){var b=this.jq;for(var a=c.length;a--;){if(c[a]!==null){b.data("zk.cache."+c[a],b[0].style[c[a]])}}return this},_restoreProp:function(c){var b=this.jq;for(var a=c.length;a--;){if(c[a]!==null){b.css(c[a],b.data("zk.cache."+c[a]))}}return this},_addAnique:function(c,b){var a=zk._anique[c];if(!a){a=zk._anique[c]=[]}a.push(b)},_doAnique:function(d){var a=zk._anique[d];if(a){var c=a.length;while(c){var b=a.shift();if(jq(b.el).is(":animated")){a.unshift(b);break}zk(b.el)[b.anima](b.wgt,b.opts);c--}if(!c){delete zk._anique[d]}}},_checkAnimated:function(c,a,b){if(this.jq.is(":animated")){this._addAnique(c.uuid,{el:this.jq[0],wgt:c,opts:a,anima:b});return true}return false},_checkPosition:function(a){var b=this.jq.css("position");if(!b||b=="static"){a.position="relative"}return this},_defAnimaOpts:function(e,c,f,d){var a=this;if(jq.isFunction(c.beforeAnima)){jq.timers.push(function(){c.beforeAnima.call(e,a)})}var b=c.afterAnima;c.afterAnima=function(){if(d=="hide"){zWatch.fireDown("onHide",e);a.jq.hide()}else{if(zk.ie){zk(a.jq[0]).redoCSS()}zWatch.fireDown("onShow",e)}if(f){a._restoreProp(f)}if(b){b.call(e,a.jq.context)}setTimeout(function(){a._doAnique(e.uuid)})};return this},slideDown:function(f,c){if(this._checkAnimated(f,c,"slideDown")){return this}var a=c?c.anchor||"t":"t",g=["top","left","height","width","overflow","position"],d={},b={overflow:"hidden"},e=this.dimension();c=c||{};this._saveProp(g)._checkPosition(b);switch(a){case"t":b.height="0px";d.height=e.height+this._unit;break;case"b":b.height="0px";b.top=e.top+e.height+this._unit;d.height=e.height+this._unit;d.top=e.top+this._unit;break;case"l":b.width="0px";d.width=e.width+this._unit;break;case"r":b.width="0px";b.left=e.left+e.width+this._unit;d.width=e.width+this._unit;d.left=e.left+this._unit;break}return this._defAnimaOpts(f,c,g).jq.css(b).show().animate(d,{queue:false,easing:c.easing,duration:c.duration||400,complete:c.afterAnima})},slideUp:function(f,c){if(this._checkAnimated(f,c,"slideUp")){return this}var a=c?c.anchor||"t":"t",g=["top","left","height","width","overflow","position"],d={},b={overflow:"hidden"},e=this.dimension();c=c||{};this._saveProp(g)._checkPosition(b);switch(a){case"t":d.height="hide";break;case"b":b.height=e.height+this._unit;d.height="hide";d.top=e.top+e.height+this._unit;break;case"l":d.width="hide";break;case"r":b.width=e.width+this._unit;d.width="hide";d.left=e.left+e.width+this._unit;break}return this._defAnimaOpts(f,c,g,"hide").jq.css(b).animate(d,{queue:false,easing:c.easing,duration:c.duration||400,complete:c.afterAnima})},slideOut:function(f,c){if(this._checkAnimated(f,c,"slideOut")){return this}var a=c?c.anchor||"t":"t",g=["top","left","position"],d={},b={},e=this.dimension();c=c||{};this._saveProp(g)._checkPosition(b);switch(a){case"t":d.top=e.top-e.height+this._unit;break;case"b":d.top=e.top+e.height+this._unit;break;case"l":d.left=e.left-e.width+this._unit;break;case"r":d.left=e.left+e.width+this._unit;break}return this._defAnimaOpts(f,c,g,"hide").jq.css(b).animate(d,{queue:false,easing:c.easing,duration:c.duration||500,complete:c.afterAnima})},slideIn:function(f,c){if(this._checkAnimated(f,c,"slideIn")){return this}var a=c?c.anchor||"t":"t",g=["top","left","position"],d={},b={},e=this.dimension();c=c||{};this._saveProp(g)._checkPosition(b);switch(a){case"t":b.top=e.top-e.height+this._unit;d.top=e.top+this._unit;break;case"b":b.top=e.top+e.height+this._unit;d.top=e.top+this._unit;break;case"l":b.left=e.left-e.width+this._unit;d.left=e.left+this._unit;break;case"r":b.left=e.left+e.width+this._unit;d.left=e.left+this._unit;break}return this._defAnimaOpts(f,c,g).jq.css(b).show().animate(d,{queue:false,easing:c.easing,duration:c.duration||500,complete:c.afterAnima})}});
(function(){var q=[],o=[],d,n,k,a,c,i,h;function g(s,t,r){k=setTimeout(function(){k=null;n=s},s.opts.delay);a=r;c=jq.event.toEvent(t,s.control)}function b(){n=null;setTimeout(function(){c=null},0)}function l(t){if(!n||n.dead){return}var r=jq.event.toEvent(t),s=[r.pageX,r.pageY];if(i&&i[0]==s[0]&&i[1]==s[1]){return}i=s;n._updateDrag(s,r);t.stop()}function m(s){if(k){clearTimeout(k);k=null}if(!n){return}i=null;var r;n._endDrag(r=jq.event.toEvent(s));n=null;if(r.domStopped){s.stop()}}function f(r){if(n){n._keypress(r)}}function j(s){var r=s.node;r._$opacity=jq(r).css("opacity");o[r]=true;new zk.eff.Opacity(r,{duration:0.2,from:r._$opacity,to:0.7})}function e(t){var s=t.node,r=typeof s._$opacity=="number"?s._$opacity:1;new zk.eff.Opacity(s,{duration:0.2,from:0.7,to:r,queue:{scope:"_draggable",position:"end"},afterFinish:function(){o[s]=false}})}function p(w,x){var t,s;if((t=x[0])||(s=x[1])){var v=w.node,r=v.style.position,u=Math.sqrt(Math.abs(s^2)+Math.abs(t^2))*0.02;new zk.eff.Move(v,{x:-t,y:-s,duration:u,queue:{scope:"_draggable",position:"end"},afterFinish:function(){v.style.position=r}})}}zk.Draggable=zk.$extends(zk.Object,{$init:function(t,s,r){if(!d){jq(d=jq.newStackup(null,"z_ddstkup")).hide();document.body.appendChild(d)}this.control=t;this.node=s=s?jq(s,zk)[0]:t.node||t.$n();if(!s){throw"Handle required for "+t}r=zk.$default(r,{scrollSensitivity:20,scrollSpeed:15,initSensitivity:3,delay:0});if(r.reverteffect==null){r.reverteffect=p}if(r.endeffect==null){r.endeffect=e;if(r.starteffect==null){r.starteffect=j}}if(r.handle){this.handle=jq(r.handle,zk)[0]}if(!this.handle){this.handle=s}if(r.scroll&&!r.scroll.scrollTo&&!r.scroll.outerHTML){r.scroll=jq(r.scroll,zk)[0];this._isScrollChild=zUtl.isAncestor(r.scroll,s)}this.delta=this._currentDelta();this.opts=r;this.dragging=false;jq(this.handle).mousedown(this.proxy(this._mousedown));if(q.length==0){jq(document).mouseup(m).mousemove(l).keypress(f)}q.push(this)},destroy:function(){jq(this.handle).unbind("mousedown",this.proxy(this._mousedown));q.$remove(this);if(q.length==0){jq(document).unbind("mouseup",m).unbind("mousemove",l).unbind("keypress",f)}if(n==this){n=null}this.node=this.control=this.handle=null;this.dead=true},_currentDelta:function(){var r=jq(this.node);return[zk.parseInt(r.css("left")),zk.parseInt(r.css("top"))]},_startDrag:function(r){zk(document.body).disableSelection();jq.clearSelection();if(this.opts.stackup){var v=document.createElement("DIV");document.body.appendChild(v);v.className="z-dd-stackup";zk(v).disableSelection();var u=(this.stackup=v).style;u.width=jq.px(jq.pageWidth());u.height=jq.px(jq.pageHeight())}zk.dragging=this.dragging=true;var w=this.node;if(this.opts.ghosting){if(typeof this.opts.ghosting=="function"){this.delta=this._currentDelta();this.orgnode=this.node;var s=zk(this.node),x=s.cmOffset();this.z_scrl=s.scrollOffset();this.z_scrl[0]-=jq.innerX();this.z_scrl[1]-=jq.innerY();x[0]-=this.z_scrl[0];x[1]-=this.z_scrl[1];w=this.node=this.opts.ghosting(this,x,r)}else{this._clone=jq(w).clone()[0];this.z_orgpos=w.style.position;if(this.z_orgpos!="absolute"){jq(w).absolutize()}w.parentNode.insertBefore(this._clone,w)}}if(this.opts.stackup){if(zk(d).isVisible()){this._stackup=jq.newStackup(w,w.id+"-ddstk")}else{this._stackup=d;this._syncStackup();w.parentNode.insertBefore(d,w)}}if(this.opts.zIndex){this.orgZ=zk.parseInt(jq(w).css("z-index"));w.style.zIndex=this.opts.zIndex}if(this.opts.scroll){if(this.opts.scroll==window){var t=this._getWndScroll(this.opts.scroll);this.orgScrlLeft=t.left;this.orgScrlTop=t.top}else{this.orgScrlLeft=this.opts.scroll.scrollLeft;this.orgScrlTop=this.opts.scroll.scrollTop}}if(this.opts.starteffect){this.opts.starteffect(this,r)}},_syncStackup:function(){if(this._stackup){var s=this.node,r=this._stackup.style;r.display="block";r.left=s.offsetLeft+"px";r.top=s.offsetTop+"px";r.width=s.offsetWidth+"px";r.height=s.offsetHeight+"px"}},_updateDrag:function(w,r){if(!this.dragging){var s=this.opts.initSensitivity;if(s&&(w[0]<=a[0]+s&&w[0]>=a[0]-s&&w[1]<=a[1]+s&&w[1]>=a[1]-s)){return}this._startDrag(r)}this._updateInnerOfs();this._draw(w,r);if(this.opts.change){this.opts.change(this,w,r)}this._syncStackup();if(this.opts.scroll){this._stopScrolling();var u;if(this.opts.scroll==window){var x=this._getWndScroll(this.opts.scroll);u=[x.left,x.top,x.left+x.width,x.top+x.height]}else{u=zk(this.opts.scroll).viewportOffset();u[0]+=this.opts.scroll.scrollLeft+this._innerOfs[0];u[1]+=this.opts.scroll.scrollTop+this._innerOfs[1];u.push(u[0]+this.opts.scroll.offsetWidth);u.push(u[1]+this.opts.scroll.offsetHeight)}var t=[0,0],s=this.opts.scrollSensitivity;if(w[0]<(u[0]+s)){t[0]=w[0]-(u[0]+s)}if(w[1]<(u[1]+s)){t[1]=w[1]-(u[1]+s)}if(w[0]>(u[2]-s)){t[0]=w[0]-(u[2]-s)}if(w[1]>(u[3]-s)){t[1]=w[1]-(u[3]-s)}this._startScrolling(t)}if(navigator.appVersion.indexOf("AppleWebKit")>0){window.scrollBy(0,0)}r.stop()},_finishDrag:function(s,x){this.dragging=false;if(this.stackup){jq(this.stackup).remove();delete this.stackup}zk(document.body).enableSelection();setTimeout(jq.clearSelection,0);var t=this._stackup;if(t){if(t==d){jq(t).hide()}else{jq(t).remove()}delete this._stackup}var u=this.node;if(this.opts.ghosting){if(typeof this.opts.ghosting=="function"){if(this.opts.endghosting){this.opts.endghosting(this,this.orgnode)}if(u!=this.orgnode){jq(u).remove();this.node=this.orgnode}delete this.orgnode}else{if(this.z_orgpos!="absolute"){zk(this.node).relativize();u.style.position=this.z_orgpos}jq(this._clone).remove();this._clone=null}}var v=[s.pageX,s.pageY];var r=this.opts.revert;if(r&&typeof r=="function"){r=r(this,v,s)}var w=this._currentDelta();if(r&&this.opts.reverteffect){this.opts.reverteffect(this,[w[0]-this.delta[0],w[1]-this.delta[1]])}else{this.delta=w}if(this.opts.zIndex){u.style.zIndex=this.orgZ}if(this.opts.endeffect){this.opts.endeffect(this,s)}b(this);setTimeout(function(){zk.dragging=false},0)},_mousedown:function(u){var s=this.node,r=jq.event.toEvent(u);if(o[s]||r.which!=1){return}var t=[r.pageX,r.pageY];if(this.opts.ignoredrag&&this.opts.ignoredrag(this,t,r)){if(r.domStopped){u.stop()}return}var v=zk(s).cmOffset();this.offset=[t[0]-v[0],t[1]-v[1]];g(this,u,t);if(!zk.ie){u.stop()}},_keypress:function(r){if(r.keyCode==27){this._finishDrag(jq.event.toEvent(r),false);r.stop()}},_endDrag:function(r){if(this.dragging){this._stopScrolling();this._finishDrag(r,true);r.stop()}else{b(this)}},_draw:function(z,B){var w=this.node,v=zk(w),y=v.cmOffset();if(this.opts.ghosting){var s=v.scrollOffset();y[0]+=s[0]-this._innerOfs[0];y[1]+=s[1]-this._innerOfs[1]}var x=this._currentDelta();y[0]-=x[0];y[1]-=x[1];if(this.opts.scroll&&(this.opts.scroll!=window&&this._isScrollChild)){y[0]-=this.opts.scroll.scrollLeft-this.orgScrlLeft;y[1]-=this.opts.scroll.scrollTop-this.orgScrlTop}var u=[z[0]-y[0]-this.offset[0],z[1]-y[1]-this.offset[1]];if(this.opts.snap){if(typeof this.opts.snap=="function"){u=this.opts.snap(this,u)}else{if(this.opts.snap instanceof Array){u=[Math.round(u[0]/this.opts.snap[0])*this.opts.snap[0],Math.round(u[1]/this.opts.snap[1])*this.opts.snap[1]]}else{u=[Math.round(u[0]/this.opts.snap)*this.opts.snap,Math.round(u[1]/this.opts.snap)*this.opts.snap]}}}if(this.z_scrl){u[0]-=this.z_scrl[0];u[1]-=this.z_scrl[1]}var t=w.style;if(typeof this.opts.draw=="function"){this.opts.draw(this,u,B)}else{if(typeof this.opts.constraint=="function"){var A=this.opts.constraint(this,u,B);if(A){u=A}t.left=jq.px(u[0],true);t.top=jq.px(u[1],true)}else{if((!this.opts.constraint)||(this.opts.constraint=="horizontal")){t.left=jq.px(u[0],true)}if((!this.opts.constraint)||(this.opts.constraint=="vertical")){t.top=jq.px(u[1],true)}}}if(t.visibility=="hidden"){t.visibility=""}},_stopScrolling:function(){if(this.scrollInterval){clearInterval(this.scrollInterval);this.scrollInterval=null;h=null}},_startScrolling:function(r){if(r[0]||r[1]){this.scrollSpeed=[r[0]*this.opts.scrollSpeed,r[1]*this.opts.scrollSpeed];this.lastScrolled=new Date();this.scrollInterval=setInterval(this.proxy(this._scroll),10)}},_scroll:function(){var s=new Date(),w=s-this.lastScrolled;this.lastScrolled=s;if(this.opts.scroll==window){if(this.scrollSpeed[0]||this.scrollSpeed[1]){var v=this._getWndScroll(this.opts.scroll),u=w/1000;this.opts.scroll.scrollTo(v.left+u*this.scrollSpeed[0],v.top+u*this.scrollSpeed[1])}}else{this.opts.scroll.scrollLeft+=this.scrollSpeed[0]*w/1000;this.opts.scroll.scrollTop+=this.scrollSpeed[1]*w/1000}this._updateInnerOfs();if(this._isScrollChild){h=h||i;h[0]+=this.scrollSpeed[0]*w/1000;h[1]+=this.scrollSpeed[1]*w/1000;if(h[0]<0){h[0]=0}if(h[1]<0){h[1]=0}this._draw(h)}if(this.opts.change){var t=window.event?jq.event.fix(window.event):null,r=t?jq.event.toEvent(t):null;this.opts.change(this,r?[r.pageX,r.pageY]:i,r)}},_updateInnerOfs:function(){this._innerOfs=[jq.innerX(),jq.innerY()]},_getWndScroll:function(t){var u,s,r,v,x=t.document,y=x.documentElement;if(y&&y.scrollTop){u=y.scrollTop;s=y.scrollLeft}else{if(t.document.body){u=x.body.scrollTop;s=x.body.scrollLeft}}if(t.innerWidth){r=t.innerWidth;v=t.innerHeight}else{if(y&&y.clientWidth){r=y.clientWidth;v=y.clientHeight}else{r=x.body.offsetWidth;v=x.body.offsetHeight}}return{top:u,left:s,width:r,height:v}}},{ignoreMouseUp:function(){return zk.dragging?true:c},ignoreClick:function(){return zk.dragging}})})();
zk.eff={};if(zk.ie||zk.gecko2_||zk.opera){zk.eff.Shadow=zk.$extends(zk.Object,{_HTML:zk.ie6_?'" class="z-shadow"></div>':'" class="z-shadow"><div class="z-shadow-tl"><div class="z-shadow-tr"></div></div><div class="z-shadow-cl"><div class="z-shadow-cr"><div class="z-shadow-cm">&#160;</div></div></div><div class="z-shadow-bl"><div class="z-shadow-br"></div></div></div>',$init:function(b,c){c=this.opts=zk.$default(c,{left:4,right:4,top:3,bottom:3});if(zk.ie6_){c.left-=1;c.right-=8;c.top-=2;c.bottom-=6}this.node=b;var a=b.id+"-sdw";jq(b).before('<div id="'+a+this._HTML);this.shadow=jq(a,zk)[0]},destroy:function(){jq(this.shadow).remove();jq(this.stackup).remove();this.node=this.shadow=this.stackup=null},hide:function(){jq(this.shadow).hide();jq(this.stackup).hide()},sync:function(){var g=this.node,b=jq(g),o=this.shadow;if(!g||!b.zk.isVisible(true)){this.hide();return false}for(var m=o;;){if(!(m=m.nextSibling)||m.tagName){if(m!=g){g.parentNode.insertBefore(o,g)}break}}o.style.zIndex=zk.parseInt(b.css("zIndex"));var a=this.opts,i=g.offsetLeft,q=g.offsetTop,n=g.offsetWidth,j=g.offsetHeight,f=Math.max(0,n-a.left+a.right),e=Math.max(0,j-a.top+a.bottom),p=o.style;p.left=jq.px(i+a.left,true);p.top=jq.px(q+a.top,true);p.width=jq.px(f);p.display="block";if(zk.ie6_){p.height=jq.px(e)}else{var d=o.childNodes;d[1].style.height=jq.px(e-d[0].offsetHeight-d[2].offsetHeight)}var k=this.stackup;if(a.stackup&&g){if(!k){k=this.stackup=jq.newStackup(g,g.id+"-sdwstk",o)}p=k.style;p.left=jq.px(i,true);p.top=jq.px(q,true);p.width=jq.px(n);p.height=jq.px(j);p.zIndex=zk.parseInt(b.css("zIndex"));p.display="block"}return true},getBottomElement:function(){return this.stackup||this.shadow}})}else{zk.eff.Shadow=zk.$extends(zk.Object,{$init:function(a,b){this.wgt=zk.Widget.$(a.id);this.opts=b||{};this.node=a},destroy:function(){jq(this.stackup).remove();jq(this.node).removeClass(this.wgt.getZclass()+"-shadow");this.wgt=this.node=this.stackup=null},hide:function(){jq(this.stackup).hide();jq(this.node).removeClass(this.wgt.getZclass()+"-shadow")},sync:function(){var c=this.node,b=jq(c);if(!c||!b.zk.isVisible(true)){if(this.opts.stackup&&c){if(!this.stackup){this.stackup=jq.newStackup(c,c.id+"-sdwstk",c)}}this.hide();return false}jq(c).addClass(this.wgt.getZclass()+"-shadow");var a=this.opts,d=c.offsetLeft,j=c.offsetTop,g=c.offsetWidth,e=c.offsetHeight,f=this.stackup;if(a.stackup&&c){if(!f){f=this.stackup=jq.newStackup(c,c.id+"-sdwstk",c)}var i=f.style;i.left=jq.px(d,true);i.top=jq.px(j,true);i.width=jq.px(g);i.height=jq.px(e);i.zIndex=zk.parseInt(b.css("zIndex"));i.display="block"}return true},getBottomElement:function(){return this.stackup}})}zk.eff.FullMask=zk.$extends(zk.Object,{$init:function(d){d=d||{};var b=this.mask=jq(d.mask||[],zk)[0];if(this.mask){if(d.anchor){d.anchor.parentNode.insertBefore(b,d.anchor)}if(d.id){b.id=d.id}if(d.zIndex!=null){b.style.zIndex=d.zIndex}if(d.visible==false){b.style.display="none"}}else{var a=d.id||"z_mask",c='<div id="'+a+'" class="z-modal-mask"';if(d.zIndex!=null||d.visible==false){c+=' style="';if(d.zIndex!=null){c+="z-index:"+d.zIndex}if(d.visible==false){c+=";display:none"}c+='"'}c+="></div>";if(d.anchor){jq(d.anchor,zk).before(c)}else{jq(document.body).append(c)}b=this.mask=jq(a,zk)[0]}if(d.stackup){this.stackup=jq.newStackup(b,b.id+"-mkstk")}this._syncPos();var e;jq(b).mousemove(e=jq.event.stop).click(e);jq(window).resize(e=this.proxy(this._syncPos)).scroll(e)},destroy:function(){var a=this.mask,b;jq(a).unbind("mousemove",b=jq.event.stop).unbind("click",b).remove();jq(window).unbind("resize",b=this.proxy(this._syncPos)).unbind("scroll",b);jq(this.stackup).remove();this.mask=this.stackup=null},hide:function(){this.mask.style.display="none";if(this.stackup){this.stackup.style.display="none"}},sync:function(b){if(!zk(b).isVisible(true)){this.hide();return}if(this.mask.nextSibling!=b){var c=b.parentNode;c.insertBefore(this.mask,b);if(this.stackup){c.insertBefore(this.stackup,this.mask)}}var a=this.mask.style;a.display="block";a.zIndex=b.style.zIndex;if(this.stackup){a=this.stackup.style;a.display="block";a.zIndex=b.style.zIndex}},_syncPos:function(){var c=this.mask,b=zk(c).toStyleOffset(jq.innerX(),jq.innerY()),a=c.style;a.left=jq.px(b[0],true);a.top=jq.px(b[1],true);a.width=jq.px(jq.innerWidth());a.height=jq.px(jq.innerHeight());a.display="block";c=this.stackup;if(c){c=c.style;c.left=a.left;c.top=a.top;c.width=a.width;c.height=a.height}}});zk.eff.Mask=zk.$extends(zk.Object,{$init:function(a){a=a||{};var l=zk(a.anchor);if(!l.jq.length||!l.isRealVisible(true)){return}var f=a.id||"z_applymask",g=jq(f,zk)[0];if(g){return this}var c=a.message||(window.mesg?mesg.LOADING:"Loading..."),b=document.createElement("DIV");document.body.appendChild(b);var k=a.offset||l.revisedOffset(),i=a.width||l.offsetWidth(),e=a.height||l.offsetHeight();jq(b).replaceWith('<div id="'+f+'" style="visibility:hidden"><div class="z-apply-mask" style="display:block;top:'+k[1]+"px;left:"+k[0]+"px;width:"+i+"px;height:"+e+'px;"></div><div id="'+f+'-z_loading" class="z-apply-loading"><div class="z-apply-loading-indicator"><span class="z-apply-loading-icon"></span> '+c+"</div></div></div>");var d=jq(f+"-z_loading",zk)[0],j=this.mask=jq(f,zk)[0];if(d){if(d.offsetHeight>e){d.style.height=jq.px(zk(d).revisedHeight(e))}if(d.offsetWidth>i){d.style.width=jq.px(zk(d).revisedWidth(i))}d.style.top=jq.px(k[1]+((e-d.offsetHeight)/2));d.style.left=jq.px(k[0]+((i-d.offsetWidth)/2))}j.style.visibility=""},destroy:function(){jq(this.mask).remove();this.mask=null}});zk.eff.Tooltip=zk.$extends(zk.Object,{beforeBegin:function(b){if(this._tip&&!this._tip.isOpen()){this._clearOpening();this._clearClosing();this._tip=this._ref=null}var a=this._tip&&zUtl.isAncestor(this._tip,b);if(a){this._clearClosing()}return !a},begin:function(b,a,c){this._params=c;if(this._tip!=b){this.close_();this._inf={tip:b,ref:a,timer:setTimeout(this.proxy(this.open_),c.delay!==undefined?c.delay:zk.tipDelay)}}else{if(this._ref==a){this._clearClosing()}}},end:function(a){if(this._ref==a||this._tip==a){this._tmClosing=setTimeout(this.proxy(this.close_),100)}else{this._clearOpening()}},open_:function(){var a=this._inf;if(a){var c=this._tip=a.tip,b=this._ref=a.ref;this._inf=null;var e=this._params,d=e.x!==undefined?[e.x,e.y]:zk.currentPointer;c.open(b,d,e.position?e.position:e.x===null?"after_pointer":null,{sendOnOpen:true})}},close_:function(){this._clearOpening();this._clearClosing();var a=this._tip;if(a){this._tip=this._ref=null;a.close({sendOnOpen:true})}},_clearOpening:function(){var a=this._inf;if(a){this._inf=null;clearTimeout(a.timer)}},_clearClosing:function(){var a=this._tmClosing;if(a){this._tmClosing=null;clearTimeout(a)}}});zk.eff.tooltip=new zk.eff.Tooltip();(function(){var a=[],b=0;zk.eff.Error=zk.$extends(zk.Object,{$init:function(f){var h="zk_err"+b++,d="#"+h;x=(b*5)%50,y=(b*5)%50,html='<div class="z-error" style="left:'+(jq.innerX()+x)+"px;top:"+(jq.innerY()+y)+'px;" id="'+h+'"><table cellpadding="2" cellspacing="2" width="100%"><tr><td align="right"><div id="'+h+'-p">';if(!zk.light){html+='<span class="btn" onclick="zk.eff.Error._redraw()">redraw</span>&nbsp;'}html+='<span class="btn" onclick="zk.eff.Error._close(\''+h+'\')">close</span></div></td></tr><tr valign="top"><td class="z-error-msg">'+zUtl.encodeXML(f,{multiline:true})+"</td></tr></table></div>";jq(document.body).append(html);this.id=h;a.push(this);try{var g;this.dg=new zk.Draggable(null,g=jq(d)[0],{handle:jq(d+"-p")[0],zIndex:g.style.zIndex,starteffect:zk.$void,starteffect:zk.$void,endeffect:zk.$void})}catch(c){}},destroy:function(){a.$remove(this);if(this.dg){this.dg.destroy()}jq("#"+this.id).remove()}},{_redraw:function(){zk.errorDismiss();zAu.send(new zk.Event(null,"redraw"))},_close:function(f){for(var c=a.length;c--;){var d=a[c];if(d.id==f){a.splice(c,1);d.destroy();return}}},closeAll:function(){for(var c=a.length;c--;){a[c].destroy()}a=[]}})})();
zk.BigDecimal=zk.$extends(zk.Object,{_precision:0,$define:{precision:null},$init:function(b){b=b?""+b:"0";var a=b.lastIndexOf(".");if(a>=0){b=b.substring(0,a)+b.substring(a+1);this._precision=b.length-a;this._dot=true}this._value=b},$toString:function(){var a=this._value.length-this._precision;return this._value.substring(0,a)+(this._dot?"."+this._value.substring(a):"")},$toLocaleString:function(){var a=this._value.length-this._precision;return this._value.substring(0,a)+(this._precision?zk.DECIMAL+this._value.substring(a):"")}});
(function(){var b={lt:"<",gt:">",amp:"&",quot:'"'},c={};for(var a in b){c[b[a]]=a}zUtl={isChar:function(e,d){return(d.digit&&e>="0"&&e<="9")||(d.upper&&e>="A"&&e<="Z")||(d.lower&&e>="a"&&e<="z")||(d.whitespace&&(e==" "||e=="\t"||e=="\n"||e=="\r"))||d[e]},loadXML:function(d,f){var e=document.implementation;if(e&&e.createDocument){e=e.createDocument("","",null);if(f){e.onload=function(){f(e)}}}else{e=new ActiveXObject("Microsoft.XMLDOM");if(f){e.onreadystatechange=function(){if(e.readyState==4){f(e)}}}}if(!f){e.async=false}e.load(d);return e},parseMap:function(m,i,e){var f={};if(m){var d=m.split(i||",");if(e){var h=[],o=new RegExp(e,"g"),l="",n,g;while((n=d.shift())!==undefined){if((g=(l+=n).match(o))&&g.length!=1){if(l){h.push(l)}l=""}else{l+=i}}d=h}for(var k=d.length;k--;){var l=d[k].trim(),j=l.indexOf("=");if(j!=-1){f[l.substring(0,j)]=l.substring(j+1,l.length).trim()}}}return f},parseXML:function(d){if(typeof DOMParser!="undefined"){return(new DOMParser()).parseFromString(d,"text/xml")}doc=new ActiveXObject("Microsoft.XMLDOM");doc.async=false;doc.loadXML(d);return doc},encodeXML:function(o,d){var n="";o=o!=null?String(o):"";var i=0,p=o.length,h=d&&d.pre,f=h||(d&&d.multiline),e=d?d.maxlength:0;if(!f&&e&&p>e){var m=e;while(m>0&&o.charAt(m-1)==" "){--m}return o.substring(0,m)+"..."}for(var m=0;m<p;++m){var g=o.charAt(m);if(g=="\n"){if(f){n+=o.substring(i,m)+"<br/>\n";i=m+1}}else{if(g==" "||g=="\t"){if(h){n+=o.substring(i,m)+"&nbsp;";if(g=="\t"){n+="&nbsp;&nbsp;&nbsp;"}i=m+1}}else{var l=c[g];if(l){n+=o.substring(i,m)+"&"+l+";";i=m+1}}}}return !i?o:i<p?n+o.substring(i):n},decodeXML:function(d){var i="";if(!d){return i}var g=0,f=d.length;for(var h=0;h<f;++h){var n=d.charAt(h);if(n=="&"){var e=d.indexOf(";",h+1);if(e>=0){var m=b[d.substring(h+1,e)];if(m){i+=d.substring(g,h)+m;g=(h=e)+1}}}}return !g?d:g<f?i+d.substring(g):i},renType:function(h,l){var g=h.lastIndexOf(";");var n;if(g>=0){n=h.substring(g);h=h.substring(0,g)}else{n=""}g=h.lastIndexOf(".");if(g<0){g=h.length}var f=h.lastIndexOf("-"),e=h.lastIndexOf("/"),i=g<=e?"":h.substring(g),d=f<=e?g<=e?h:h.substring(0,g):h.substring(0,f);if(l){l="-"+l}else{l=""}return d+l+i+n},getElementValue:function(e){var d="";for(e=e.firstChild;e;e=e.nextSibling){if(e.data){d+=e.data}}return d},cellps0:' cellpadding="0" cellspacing="0" border="0"',img0:'<img style="height:0;width:0"/>',now:function(){return new Date().getTime()},today:function(){var e=new Date();return new Date(e.getFullYear(),e.getMonth(),e.getDate())},isAncestor:function(d,e){if(!d){return true}for(;e;e=e.getParent?e.getParent():e.parent){if(d==e){return true}}return false},isDescendant:function(e,d){return zUtl.isAncestor(d,e)},progressbox:function(g,j,v,r){if(v&&zk.Page.contained.length){for(var p=zk.Page.contained.length,m=zk.Page.contained[--p];m;m=zk.Page.contained[--p]){if(!m._applyMask){m._applyMask=new zk.eff.Mask({id:m.uuid+"-mask",message:j,anchor:m.$n()})}}return}var s=jq.innerX(),q=jq.innerY(),f=' style="left:'+s+"px;top:"+q+'px"',i=g+"-t",t=g+"-m",l='<div id="'+g+'"';if(v){l+='><div id="'+t+'" class="z-modal-mask"'+f+"></div"}l+='><div id="'+i+'" class="z-loading"'+f+'><div class="z-loading-indicator"><span class="z-loading-icon"></span> '+j+"</div></div>";if(r){l+='<div class="'+r+'"></div>'}jq(document.body).append(l+"</div>");var o=jq(g,zk),h=o[0],d=jq(i,zk);if(v){h.z_mask=new zk.eff.FullMask({mask:jq(t,zk)[0],zIndex:d.css("z-index")-1})}if(v&&d.length){var k=d[0],u=k.style;u.left=jq.px((jq.innerWidth()-k.offsetWidth)/2+s,true);u.top=jq.px((jq.innerHeight()-k.offsetHeight)/2+q,true)}o.zk.cleanVisibility()},destroyProgressbox:function(i){var d=jq(i,zk),h;if(d.length){if(h=d[0].z_mask){h.destroy()}d.remove()}for(var g=zk.Page.contained.length,f=zk.Page.contained[--g];f;f=zk.Page.contained[--g]){if(f._applyMask){f._applyMask.destroy();f._applyMask=null}}},go:function(h,g,l){if(!h){location.reload()}else{if(g){location.replace(h)}else{if(l){try{var i=document.createElement("FORM");document.body.appendChild(i);var f=h.indexOf("?");if(f>0){var d=h.substring(f+1);h=h.substring(0,f);jq.queryToHiddens(i,d)}i.name="go";i.action=h;i.method="GET";i.target=l;i.submit()}catch(k){}}else{location.href=h}}}},format:function(e){var d=arguments;var f=new RegExp("%([1-"+arguments.length+"])","g");return String(e).replace(f,function(h,g){return g<d.length?d[g]:h})},regexEscape:function(d){return String(d).replace(/([\/()[\]{}|*+-.,^$?\\])/g,"\\$1")},intsToString:function(f){if(!f){return""}var g=[];for(var e=0,d=f.length;e<d;++e){g.push(f[e])}return g.join()},stringToInts:function(e,d){if(e==null){return null}var i=[];for(var g=0;;){var f=e.indexOf(",",g),h=(f>=0?e.substring(g,f):e.substring(g)).trim();if(h.length==0){if(f<0){break}i.push(d)}else{i.push(zk.parseInt(h))}if(f<0){break}g=f+1}return i},mapToString:function(h,d,g){d=d||"=";g=g||" ";var f=[];for(var e in h){f.push(g,e,d,h[e])}f[0]="";return f.join("")}}})();
zk.Event=zk.$extends(zk.Object,{$init:function(e,a,d,c,b){this.currentTarget=this.target=e;this.name=a;this.data=d;if(d&&typeof d=="object"&&!d.$array){zk.$default(this,d)}this.opts=c||{};if(this.domEvent=b){this.domTarget=b.target}},addOptions:function(a){this.opts=zk.copy(this.opts,a)},stop:function(c){var a=!c||!c.revoke;if(!c||c.propagation){this.stopped=a}if(!c||c.dom){this.domStopped=a}if(c&&c.au){this.auStopped=a}}},{BS:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,PGUP:33,PGDN:34,END:35,HOME:36,LFT:37,UP:38,RGH:39,DN:40,INS:45,DEL:46,F1:112});zWatch=(function(){var e={onSize:true,onShow:true,onHide:true,beforeSize:true},l={},f,c=zk.$extends(zk.Object,{$init:function(q,r,p,s){this.name=q;this.infs=r;this.args=p;this.origin=s},fire:function(v){var u,s=this.name,t=this.infs,r=this.args;if(v){for(var q=0,p=t.length;q<p;++q){if(a(u=t[q])==v){t.splice(q,1);m(s,u,r)}}}else{while(u=t.shift()){m(s,u,r)}}},fireDown:function(p){if(!p||p.bindLevel==null){this.fire(p)}(new c(this.name,d(this.name,this.infs,p,true),this.args,this.origin)).fire()}});function m(q,r,p){var s=a(r);h(r,s,q).apply(s,p)}function b(p,r){var q;return r.$n&&(q=r.$n())&&zk(q).isRealVisible(p!="onShow")}function j(q,r,s){if(b(q,s)){for(;s;s=s.parent){if(r==s){return true}}}return false}function d(r,q,s,w){var z=[],x=s.bindLevel;for(var v=q.length;v--;){var t=q[v],u=a(t),y=x>u.bindLevel;if(y){break}if(s==u&&b(r,u)){if(w){q.splice(v,1)}z.unshift(t);break}if(j(r,s,u)){if(w){q.splice(v,1)}z.unshift(t)}}return z}function o(q,r){r=r.$clone();if(e[q]){for(var p=r.length;p--;){if(!b(q,a(r[p]))){r.splice(p,1)}}}return r}function a(p){return p.$array?p[0]:p}function h(r,s,p){var q=r.$array?r[1]:s[p];if(!q){throw p+" not defined in "+(s.className||s)}return q}function i(){if(!f){return}f=false;for(var p in l){var q=l[p];if(q.length&&a(q[0]).bindLevel!=null){q.sort(k)}}}function k(q,p){return a(q).bindLevel-a(p).bindLevel}function g(p){if(p=="onSize"||p=="onShow"||p=="onHide"){jq.zsync()}}function n(q,y,p,x){var t=l[q];if(t&&t.length){var v=p&&p.down&&y.bindLevel!=null;if(v){i()}var u=[],w=new c(q,v?d(q,t,y):o(q,t),u,y);u.push(w);for(var s=3,r=x.length;s<r;){u.push(x[s++])}if(p&&p.timeout>=0){setTimeout(function(){w.fire();g(q)},p.timeout)}else{w.fire();g(q)}}}return{listen:function(s){for(name in s){var r=l[name],t=s[name];if(r){var p=a(t).bindLevel;if(p!=null){for(var q=r.length;;){if(--q<0){r.unshift(t);break}if(p>=a(r[q]).bindLevel){r.splice(q+1,0,t);break}}}else{r.push(t)}}else{r=l[name]=[t]}}return this},unlisten:function(q){for(name in q){var p=l[name];p&&p.$remove(q[name])}return this},unlistenAll:function(p){delete l[p]},fire:function(p,r,q){n(p,r,q,arguments)},fireDown:function(p,r,q){n(p,r,zk.copy(q,{down:true}),arguments)},onBindLevelMove:function(){f=true}}})();zWatch.listen({onBindLevelMove:zWatch});
(function(){var B={},d=zk.$void,h=0,D=[],w=0,x={},G={},g={onDoubleClick:"dblclick"},f={};function c(K){var L=K.parent;if(L&&L.isVisible()&&(L=L.$n())&&(K=K.$n())){while((K=zk(K).vparentNode()||K.parentNode)&&L!=K){if((K.style||{}).display=="none"){return true}}}}if(zk.ie){d=function(){if(++h>2000){h=0;B=zk.copy({},B)}}}function F(L){var K;return L&&L.nodeType==3&&(K=L.nodeValue)&&!K.trim().length}function r(K,L){return new zk.Event(L,K.name,K.data,K.opts,K.domEvent)}function E(O,N,L){if(!L&&!(L=G[N])){G[N]=L="_do"+N.substring(2)}var M=O[L];if(!M){throw"Listener "+L+" not found in "+O.className}var K=g[N];if(!K){K=g[N]=N.substring(2).toLowerCase()}return[K,v(O,M)]}function v(N,L){var M=N._$evproxs,K;if(!M){N._$evproxs=M={}}else{if(K=M[L]){return K}}return M[L]=i(N,L)}function i(L,K){return function(Q){var P=[],M;for(var O=arguments.length;--O>0;){P.unshift(arguments[O])}P.unshift(M=jq.event.toEvent(Q,L));switch(Q.type){case"focus":if(L.canActivate()){zk.currentFocus=L;zWatch.fire("onFloatUp",L);break}return;case"blur":if(!zk._cfByMD){zk.currentFocus=null}break;case"click":case"dblclick":case"mouseup":if(zk.Draggable.ignoreClick()){return}}var N=K.apply(L,P);if(typeof N=="undefined"){N=M.returnValue}if(M.domStopped){Q.stop()}return Q.type=="dblclick"&&typeof N=="undefined"?false:N}}function s(L,K){L.bindLevel=K++;for(L=L.firstChild;L;L=L.nextSibling){s(L,K)}}function u(L){if(L._fellows){L._fellows[L.id]=L}var K=L.parent;if(K){K=K.$o();if(K){K._fellows[L.id]=L}}}function k(L){if(L._fellows){delete L._fellows[L.id]}var K=L.parent;if(K){K=K.$o();if(K){delete K._fellows[L.id]}}}function o(L){var K=L.parent;K=K?K.$o():null;if(K){n(L,K)}}function n(L,K){if(L.id){K._fellows[L.id]=L}for(L=L.firstChild;L;L=L.nextSibling){n(L,K)}}function t(L){var K=L.parent;K=K?K.$o():null;if(K){m(L,K)}}function m(L,K){if(L.id){delete K._fellows[L.id]}for(L=L.firstChild;L;L=L.nextSibling){m(L,K)}}function p(K){if(K.isListen("onBind")){zk.afterMount(function(){if(K.desktop){K.fire("onBind")}})}}function l(K){if(K.isListen("onUnbind")){zk.afterMount(function(){if(!K.desktop){K.fire("onUnbind")}})}}function A(W,N,M){if(M=="height"){if(W._vflexsize===undefined){W.setFlexSize_({height:"auto"});var Q=zk(N),K=N.offsetTop,O=N.offsetParent,V=Q.padBorderHeight(),U=0;for(var L=W.firstChild;L;L=L.nextSibling){var T=L.$n(),S=L._vflex=="min"&&L._vflexsize===undefined?A(L,T,M):(T.offsetHeight+T.offsetTop-(T.offsetParent==O?K:0)+zk(T).sumStyles("b",jq.margins));if(S>U){U=S}}var P=Q.sumStyles("tb",jq.margins),S=W.setFlexSize_({height:(U+V+P)});if(S&&S.height>=0){W._vflexsize=S.height+P}}return W._vflexsize}else{if(M=="width"){if(W._hflexsize===undefined){W.setFlexSize_({width:"auto"});var Q=zk(N),R=N.offsetLeft,O=N.offsetParent,V=Q.padBorderWidth(),U=0;for(var L=W.firstChild;L;L=L.nextSibling){var T=L.$n(),S=L._hflex=="min"&&L._hflexsize===undefined?A(L,T,M):(T.offsetWidth+T.offsetLeft-(T.offsetParent==O?R:0)+zk(T).sumStyles("r",jq.margins));if(S>U){U=S}}var P=Q.sumStyles("lr",jq.margins);var S=W.setFlexSize_({width:(U+V+P)});if(S&&S.width>=0){W._hflexsize=S.width+P}}return W._hflexsize}else{return 0}}}function b(){if(!this.parent.beforeChildrenFlex_(this)){return}if(this._flexFixed||(!this._nvflex&&!this._nhflex)){delete this._flexFixed;return}this._flexFixed=true;var af=false,U=false,an=false,ak=[],at=0,K=[],ao=0,Z=this.$n().parentNode,W=zk(Z),V=this.getParentSize_(Z),R=V.height,ad=V.width,ap=Z.firstChild;for(;ap;ap=ap.nextSibling){if(ap.nodeType!=3){break}}var ai;if(zk.ie6_&&Z.tagName=="DIV"){ai=Z.style.position;Z.style.position="relative"}var X=ap?ap.offsetParent===Z.offsetParent:false,N=W.sumStyles("t",jq.borders),ag=W.sumStyles("l",jq.borders),ac=X?(Z.offsetTop+N):N,T=X?(Z.offsetLeft+ag):ag,aq=ac,ab=T;for(;ap;ap=ap.nextSibling){var aj=zk(ap);if(aj.isVisible()){if(ap.nodeType===3){af=true;U=an=false;continue}var M=aj.offsetHeight(),S=M>0?aj.offsetWidth():0,Y=ap.offsetTop,ae=ap.offsetLeft,P=ae+S+aj.sumStyles("r",jq.margins),Q=Y+M+aj.sumStyles("b",jq.margins);var O=B[ap.id];if(O&&O._nvflex){if(O!==this){O._flexFixed=true}if(O._vflex=="min"){A(O,ap,"height");Y=ap.offsetTop;M=aj.offsetHeight();Q=Y+M+aj.sumStyles("b",jq.margins);aq=Math.max(aq,Q);U=false}else{if(af){var am=Y-aj.sumStyles("t",jq.margins);aq=Math.max(aq,am)}if(!U&&aq>ac){R-=aq-ac}ac=aq=Q;ak.push(O);at+=O._nvflex;U=true}}else{aq=Math.max(aq,Q);U=false}if(O&&O._nhflex){if(O!==this){O._flexFixed=true}if(O._hflex=="min"){A(O,ap,"width");ae=ap.offsetLeft;S=aj.offsetWidth();P=ae+S+aj.sumStyles("r",jq.margins);ab=Math.max(ab,P);an=false}else{if(af){var aa=Y-aj.sumStyles("l",jq.margins);ab=Math.max(ab,aa)}if(!an&&ab>T){ad-=ab-T}T=ab=P;K.push(O);ao+=O._nhflex;an=true}}else{ab=Math.max(ab,P);an=false}af=false}}if(zk.ie6_&&Z.tagName=="DIV"){Z.style.position=ai}if(aq>ac){R-=aq-ac}if(ab>T){ad-=ab-T}var ar=R>0?R:0;for(var ah=ak.length-1;ah>0;--ah){var O=ak.shift(),al=(O._nvflex*R/at)|0;O.setFlexSize_({height:al});O._vflexsize=al;ar-=al}if(ak.length){var O=ak.shift();O.setFlexSize_({height:ar});O._vflexsize=ar}ar=ad>0?ad:0;for(var ah=K.length-1;ah>0;--ah){var O=K.shift(),L=(O._nhflex*ad/ao)|0;O.setFlexSize_({width:L});O._hflexsize=L;ar-=L}if(K.length){var O=K.shift();O.setFlexSize_({width:ar});O._hflexsize=ar}this.parent.afterChildrenFlex_(this);this._flexFixed=false}function J(K){if(!K._flexListened){zWatch.listen({onSize:[K,b],onShow:[K,b]});K._flexListened=true}}function e(K){if(K._flexListened){zWatch.unlisten({onSize:[K,b],onShow:[K,b]});delete K._flexListened}}zk.DnD={getDrop:function(L,M,K){var N=K.target;return N?N.getDrop_(L.control):null},ghost:function(L,M,N){if(N!=null){jq(document.body).append('<div id="zk_ddghost" class="z-drop-ghost" style="position:absolute;top:'+M[1]+"px;left:"+M[0]+'px;"><div class="z-drop-cnt"><span id="zk_ddghost-img" class="z-drop-disallow"></span>&nbsp;'+N+"</div></div>");L._dragImg=jq("#zk_ddghost-img")[0];return jq("#zk_ddghost")[0]}var K=jq(L.node).clone()[0];K.id="zk_ddghost";zk.copy(K.style,{position:"absolute",left:M[0]+"px",top:M[1]+"px"});document.body.appendChild(K);return K}};function a(L){if(L){var K;if(K=L._lastDrop){L._lastDrop=null;K.dropEffect_()}L._lastDropTo=null}}function I(K){return[K.pageX+10,K.pageY+5]}function j(L,K){a(L);var M=[K.pageX,K.pageY],N=zk.DnD.getDrop(L,M,K);if(N){N.onDrop_(L,K)}}function q(N,Q,L){var M;if(!L||(M=L.domTarget)==N._lastDropTo){return}var O=zk.DnD.getDrop(N,Q,L),P=O&&O==N._lastDrop;if(!P){a(N);if(O){N._lastDrop=O;O.dropEffect_(true);P=true}}var K=N._dragImg;if(K){K.className=P?"z-drop-allow":"z-drop-disallow"}N._lastDropTo=M}function H(L,M,K){return L.control.cloneDrag_(L,I(K))}function y(L,K){L.control.uncloneDrag_(L);L._dragImg=null}function C(L,M,K){return I(K)}function z(L,M,K){return L.control.ingoreDrag_(M)}zk.Widget=zk.$extends(zk.Object,{_visible:true,nChildren:0,bindLevel:-1,_mold:"default",className:"zk.Widget",$init:function(K){this._asaps={};this._lsns={};this._bklsns={};this._subnodes={};this.$afterInit(function(){if(K){var M=K.mold;if(M!=null){if(M){this._mold=M}delete K.mold}for(var L in K){this.set(L,K[L])}}if(zk.spaceless){if(this.id){this.uuid=this.id}else{if(this.uuid){this.id=this.uuid}else{this.uuid=this.id=zk.Widget.nextUuid()}}}else{if(!this.uuid){this.uuid=zk.Widget.nextUuid()}}})},$define:{mold:function(){this.rerender()},style:function(){this.updateDomStyle_()},sclass:function(){this.updateDomClass_()},zclass:function(){this.rerender()},width:function(K){if(!this._nhflex){var L=this.$n();if(L){L.style.width=K||""}}},height:function(K){if(!this._nvflex){var L=this.$n();if(L){L.style.height=K||""}}},left:function(K){var L=this.$n();if(L){L.style.left=K||""}},top:function(K){var L=this.$n();if(L){L.style.top=K||""}},tooltiptext:function(K){var L=this.$n();if(L){L.title=K||""}},draggable:[_zkf=function(K){return K&&"false"!=K?K:null},function(K){var L=this.$n();if(this.desktop){if(K){this.initDrag_()}else{this.cleanDrag_()}}}],droppable:[_zkf,function(K){var M;if(K&&K!="true"){M=K.split(",");for(var L=M.length;L--;){if(!(M[L]=M[L].trim())){M.splice(L,1)}}}this._dropTypes=M}],vflex:function(K){this._nvflex=(true===K||"true"==K)?1:K=="min"?-65500:zk.parseInt(K);if(this._nvflex<0&&K!="min"){this._nvflex=0}if(B[this.uuid]===this){if(!this._nvflex){this.setFlexSize_({height:""});delete this._vflexsize;if(!this._nhflex){e(this)}}else{J(this)}zWatch.fireDown("onSize",this.parent)}},hflex:function(K){this._nhflex=(true===K||"true"==K)?1:K=="min"?-65500:zk.parseInt(K);if(this._nhflex<0&&K!="min"){this._nhflex=0}if(B[this.uuid]===this){if(!this._nhflex){this.setFlexSize_({width:""});delete this._hflexsize;if(!this._nvflex){e(this)}}else{J(this)}zWatch.fireDown("onSize",this.parent)}}},$o:_zkf=function(){for(var K=this;K;K=K.parent){if(K._fellows){return K}}},getSpaceOwner:_zkf,$f:_zkf=function(P,N){var O=this.$o();for(var M=P.split("/"),L=0,K=M.length;L<K;++L){P=M[L];if(P){if(O){O=O._fellows[P]}if(!O&&N){O=x[P]}if(!O||zk.spaceless){break}N=false}}return O},getFellow:_zkf,getId:function(){return this.id},setId:function(L){if(L!=this.id){if(zk.spaceless&&this.desktop){throw"id cannot be changed after bound"}var K=this.id;if(K){if(!zk.spaceless){delete x[L]}k(this)}this.id=L;if(zk.spaceless){this.uuid=L}if(L){if(!zk.spaceless){x[L]=this}u(this)}}return this},set:function(M,O,K){var P;if(M.length>4&&M.startsWith("$$on")){var L=this.$class,N=L._importantEvts;(N||(L._importantEvts={}))[M.substring(2)]=O}else{if(M.length>3&&M.startsWith("$on")){this._asaps[M.substring(1)]=O}else{if(M.length>2&&M.startsWith("on")&&(P=M.charAt(2))>="A"&&P<="Z"){this._setListener(M,O)}else{if(arguments.length>=3){zk.set(this,M,O,K)}else{zk.set(this,M,O)}}}}return this},getChildAt:function(L){if(L>=0){for(var K=this.firstChild;K;K=K.nextSibling){if(--L<0){return K}}}},getChildIndex:function(){var K=this.parent,L=0;if(K){for(K=K.firstChild;K;K=K.nextSibling,++L){if(K==this){return L}}}return 0},setChildren:function(M){if(M){for(var L=0,K=M.length;L<K;){this.appendChild(M[L++])}}return this},appendChild:function(N){if(N==this.lastChild){return false}var K=N.parent;if(K!=this){N.beforeParentChanged_(this)}if(K){K.removeChild(N)}N.parent=this;var M=this.lastChild;if(M){M.nextSibling=N;N.previousSibling=M;this.lastChild=N}else{this.firstChild=this.lastChild=N}++this.nChildren;o(N);var L=this.desktop;if(L){this.insertChildHTML_(N,null,L)}this.onChildAdded_(N);return true},insertBefore:function(N,K){if(!K||K.parent!=this){return this.appendChild(N)}if(N==K||N.nextSibling==K){return false}if(N.parent!=this){N.beforeParentChanged_(this)}if(N.parent){N.parent.removeChild(N)}N.parent=this;var M=K.previousSibling;if(M){N.previousSibling=M;M.nextSibling=N}else{this.firstChild=N}K.previousSibling=N;N.nextSibling=K;++this.nChildren;o(N);var L=this.desktop;if(L){this.insertChildHTML_(N,K,L)}this.onChildAdded_(N);return true},removeChild:function(M){if(!M.parent){return false}if(this!=M.parent){return false}M.beforeParentChanged_(null);var K=M.previousSibling,L=M.nextSibling;if(K){K.nextSibling=L}else{this.firstChild=L}if(L){L.previousSibling=K}else{this.lastChild=K}M.nextSibling=M.previousSibling=M.parent=null;--this.nChildren;t(M);if(M.desktop){this.removeChildHTML_(M,K)}this.onChildRemoved_(M);return true},detach:function(){if(this.parent){this.parent.removeChild(this)}else{var K=zk.currentFocus;if(K&&zUtl.isAncestor(this,K)){zk.currentFocus=null}var L=this.$n();if(L){this.unbind();jq(L).remove()}}},clear:function(){while(this.lastChild){this.removeChild(this.lastChild)}},_replaceWgt:function(M){var L=this.$n(),N=M.parent=this.parent,K=M.previousSibling=this.previousSibling;if(K){K.nextSibling=M}else{if(N){N.firstChild=M}}K=M.nextSibling=this.nextSibling;if(K){K.previousSibling=M}else{if(N){N.lastChild=M}}t(this);o(M);if(this.desktop){if(!M.desktop){M.desktop=this.desktop}if(L){M.replaceHTML(L,M.desktop)}else{this.unbind();M.bind()}s(M,N?N.bindLevel+1:0);zWatch.fire("onBindLevelMove",M)}if(N){N.onChildRemoved_(this);N.onChildAdded_(M)}this.parent=this.nextSibling=this.previousSibling=this._node=this._nodeSolved=null;this._subnodes={}},beforeParentChanged_:function(){},isRealVisible:function(K){var M=K&&K.dom;for(var L=this;L;L=L.parent){if(M){if(!zk(L.$n()).isVisible()){return false}}else{if(!L.isVisible()){return false}}if(c(L)){return false}if(K&&K.until==L){break}}return true},isVisible:function(K){var L=this._visible;if(!K||!L){return L}var M=this.$n();return !M||zk(M).isVisible()},setVisible:function(L){if(this._visible!=L){this._visible=L;var K=this.parent;if(K&&L){K.onChildVisible_(this,true)}if(this.desktop){this._setVisible(L)}if(K&&!L){K.onChildVisible_(this,false)}}return this},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},_setVisible:function(L){var T=this.parent,P=!T||T.isRealVisible(),M=this.$n(),O=this._floating;if(!P){if(!O){this.setDomVisible_(M,L)}return}if(L){var U;if(O){this._setZIndex(U=this._topZIndex(),true)}this.setDomVisible_(M,true);for(var N=0,S=D.length;N<S;++N){var R=D[N].widget,K=D[N].node;if(this==R){R.setDomVisible_(K,true,{visibility:1})}else{if(this._floatVisibleDependent(R)){U=U>=0?++U:R._topZIndex();if(K!=R.$n()){R.setFloatZIndex_(K,U)}else{R._setZIndex(U,true)}R.setDomVisible_(K,true,{visibility:1})}}}zWatch.fireDown("onShow",this)}else{zWatch.fireDown("onHide",this);for(var N=D.length,Q=this.bindLevel;N--;){var R=D[N].widget;if(Q>=R.bindLevel){break}if(this._floatVisibleDependent(R)){R.setDomVisible_(D[N].node,false,{visibility:1})}}this.setDomVisible_(M,false)}},_floatVisibleDependent:function(K){for(;K;K=K.parent){if(K==this){return true}else{if(!K.isVisible()){break}}}return false},setDomVisible_:function(M,L,K){if(!K||K.display){M.style.display=L?"":"none"}if(K&&K.visibility){M.style.visibility=L?"visible":"hidden"}},onChildAdded_:function(){},onChildRemoved_:function(){},onChildVisible_:function(){},setTopmost:function(){if(!this.desktop){return -1}for(var O=this;O;O=O.parent){if(O._floating){var M=O._topZIndex();O._setZIndex(M,true);for(var L=0,N=D.length;L<N;++L){var K=D[L].widget;if(O!=K&&zUtl.isAncestor(O,K)&&K.isVisible()){var P=D[L].node;if(P!=K.$n()){K.setFloatZIndex_(P,++M)}else{K._setZIndex(++M,true)}}}return M}}return -1},_topZIndex:function(){var M=1800;for(var L=D.length;L--;){var K=D[L].widget;if(K._zIndex>=M&&!zUtl.isAncestor(this,K)&&K.isVisible()){M=K._zIndex+1}}return M},isFloating_:function(){return this._floating},setFloating_:function(O,N){if(this._floating!=O){if(O){var M={widget:this,node:N&&N.node?N.node:this.$n()},K=this.bindLevel;for(var L=D.length;;){if(--L<0){D.unshift(M);break}if(K>=D[L].widget.bindLevel){D.splice(L+1,0,M);break}}this._floating=true}else{for(var L=D.length;L--;){if(D[L].widget==this){D.splice(L,1)}}this._floating=false}}return this},getZIndex:_zkf=function(){return this._zIndex},getZindex:_zkf,setZIndex:_zkf=function(K){return this._setZIndex(K)},setZindex:_zkf,_setZIndex:function(M,K){if(this._zIndex!=M){this._zIndex=M;var L=this.$n();if(L){L.style.zIndex=M=M>=0?M:"";if(K){this.fire("onZIndex",M,{ignorable:true})}}}return this},getScrollTop:function(){var K=this.$n();return K?K.scrollTop:0},getScrollLeft:function(){var K=this.$n();return K?K.scrollLeft:0},setScrollTop:function(K){var L=this.$n();if(L){L.scrollTop=K}return this},setScrollLeft:function(K){var L=this.$n();if(L){L.scrollLeft=K}return this},scrollIntoView:function(){zk(this.$n()).scrollIntoView();return this},redraw:function(K){var M=this.prolog;if(M){K.push(M)}for(var O=this,L=this._mold;O;O=O.superclass){var N=O.$class.molds[L];if(N){return N.apply(this,arguments)}}throw"mold "+L+" not found in "+this.className},updateDomClass_:function(){if(this.desktop){var K=this.$n();if(K){K.className=this.domClass_()}}},updateDomStyle_:function(){if(this.desktop){var K=jq.parseStyle(this.domStyle_());zk(this.$n()).setStyles(K);var L=this.getTextNode();if(L){zk(L).css(jq.filterTextStyle(K))}}},getTextNode:function(){},domStyle_:function(M){var L="";if(!this.isVisible()&&(!M||!M.visible)){L="display:none;"}if(!M||!M.style){var K=this.getStyle();if(K){L+=K;if(K.charAt(K.length-1)!=";"){L+=";"}}}if(!M||!M.width){var K=this.getWidth();if(K){L+="width:"+K+";"}}if(!M||!M.height){var K=this.getHeight();if(K){L+="height:"+K+";"}}if(!M||!M.left){var K=this.getLeft();if(K){L+="left:"+K+";"}}if(!M||!M.top){var K=this.getTop();if(K){L+="top:"+K+";"}}if(!M||!M.zIndex){var K=this.getZIndex();if(K>=0){L+="z-index:"+K+";"}}return L},domClass_:function(M){var L="";if(!M||!M.sclass){var K=this.getSclass();if(K){L=K}}if(!M||!M.zclass){var K=this.getZclass();if(K){L+=(L?" ":"")+K}}return L},domAttrs_:function(M){var K=!M||!M.id?' id="'+this.uuid+'"':"";if(!M||!M.domStyle){var L=this.domStyle_(M);if(L){K+=' style="'+L+'"'}}if(!M||!M.domclass){var L=this.domClass_();if(L){K+=' class="'+L+'"'}}if(!M||!M.tooltiptext){var L=this._tooltiptext;if(L){K+=' title="'+L+'"'}}return K},domTextStyleAttr_:function(){var K=this.getStyle();if(K){K=jq.filterTextStyle(K);if(K){K=' style="'+K+'"'}}return K},replaceHTML:function(P,O,N){if(!O){O=this.desktop;if(!zk.Desktop._ndt){zk.stateless()}}var L=zk.currentFocus;if(L&&zUtl.isAncestor(this,L)){zk.currentFocus=null}else{L=null}var M=this.parent;if(M){M.replaceChildHTML_(this,P,O,N)}else{var K=zk.Widget.$(P,{exact:true});if(K){K.unbind(N)}jq(P).replaceWith(this._redrawHTML(N,true));this.bind(O,N)}if(L&&!zk.currentFocus){L.focus()}if(!N){zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}return this},_redrawHTML:function(M,K){var L=[];this.redraw(L,M);if(K&&this.prolog&&L[0]==this.prolog){L[0]=""}return L.join("")},rerender:function(L){if(this.desktop){var M=this.$n();if(M){if(L){var K=L.skip(this);if(K){this.replaceHTML(M,null,L);L.restore(this,K);zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this);return this}}this.replaceHTML(M)}}return this},replaceChildHTML_:function(O,N,M,L){var K=zk.Widget.$(N,{exact:true});if(K){K.unbind(L)}jq(N).replaceWith(O._redrawHTML(L,true));O.bind(M,L)},insertChildHTML_:function(R,O,Q){var P,N;if(O){P=O._getBeforeNode();if(!P){O=null}}if(!O){for(var L=this;;){N=L.getCaveNode();if(N){break}var K=L.nextSibling;if(K){P=K._getBeforeNode();if(P){break}}if(!(L=L.parent)){N=document.body;break}}}if(P){var M=P.previousSibling;if(F(M)){P=M}jq(P).before(R._redrawHTML())}else{jq(N).append(R._redrawHTML())}R.bind(Q)},getCaveNode:function(){return this.$n("cave")||this.$n()},_getBeforeNode:function(){for(var K=this;K;K=K.nextSibling){var L=K._getFirstNodeDown();if(L){return L}}},_getFirstNodeDown:function(){var L=this.$n();if(L){return L}for(var K=this.firstChild;K;K=K.nextSibling){L=K._getFirstNodeDown();if(L){return L}}},removeChildHTML_:function(O,M){var L=zk.currentFocus;if(L&&zUtl.isAncestor(O,L)){zk.currentFocus=null}var N=O.$n();if(N){var K=N.previousSibling;if(O.prolog&&F(K)){jq(K).remove()}}else{O._prepareRemove(N=[])}O.unbind();jq(N).remove()},_prepareRemove:function(L){for(var K=this.firstChild;K;K=K.nextSibling){var M=K.$n();if(M){L.push(M)}else{K._prepareRemove(L)}}},$n:_zkf=function(K){if(K){var L=this._subnodes[K];if(!L&&this.desktop){L=this._subnodes[K]=jq(this.uuid+"-"+K,zk)[0]}return L}var L=this._node;if(!L&&this.desktop&&!this._nodeSolved){this._node=L=jq(this.uuid,zk)[0];this._nodeSolved=true}return L},getNode:_zkf,getPage:function(){if(this.desktop&&this.desktop.nChildren==1){return this.desktop.firstChild}for(var K=this.parent;K;K=K.parent){if(K.$instanceof(zk.Page)){return K}}return null},bind:function(O,N){var M=[];this.bind_(O,N,M);for(var L=0,K=M.length;L<K;){M[L++]()}return this},unbind:function(N){var M=[];this.unbind_(N,M);for(var L=0,K=M.length;L<K;){M[L++]()}return this},bind_:function(O,M,L){B[this.uuid]=this;if(!O){O=zk.Desktop.$(this.uuid)}this.desktop=O;var K=this.parent;this.bindLevel=K?K.bindLevel+1:0;if(this._draggable){this.initDrag_()}if(this._nvflex||this._nhflex){J(this)}for(var N=this.firstChild;N;N=N.nextSibling){if(!M||!M.skipped(this,N)){N.bind_(O,null,L)}}p(this)},unbind_:function(L,K){delete B[this.uuid];d();this._node=this.desktop=null;this._subnodes={};this._nodeSolved=false;this.bindLevel=-1;e(this);for(var M=this.firstChild;M;M=M.nextSibling){if(!L||!L.skipped(this,M)){M.unbind_(null,K)}}if(this._draggable){this.cleanDrag_()}l(this)},extraBind_:function(L,K){if(K==false){delete B[L]}else{B[L]=this}},setFlexSize_:function(K){var L=this.$n();if(K.height!==undefined){if(K.height=="auto"){L.style.height=""}else{if(K.height!=""){L.style.height=jq.px(zk(L).revisedHeight(K.height,true))}else{L.style.height=this._height?this._height:""}}}if(K.width!==undefined){if(K.width=="auto"){L.style.width=""}else{if(K.width!=""){L.style.width=jq.px(zk(L).revisedWidth(K.width,true))}else{L.style.width=this._width?this._width:""}}}return{height:L.offsetHeight,width:L.offsetWidth}},beforeChildrenFlex_:function(K){return true},afterChildrenFlex_:function(K){},getParentSize_:function(K){var L=zk(K);return L?{height:L.revisedHeight(K.offsetHeight),width:L.revisedWidth(K.offsetWidth)}:{}},fixFlex_:function(){b.apply(this)},initDrag_:function(){this._drag=new zk.Draggable(this,this.getDragNode(),zk.copy({starteffect:zk.$void,endeffect:j,change:q,ghosting:H,endghosting:y,constraint:C,ignoredrag:z,zIndex:88800},this.getDragOptions_()))},cleanDrag_:function(){var K=this._drag;if(K){this._drag=null;K.destroy()}},getDragNode:function(){return this.$n()},getDragOptions_:function(){},ingoreDrag_:function(K){return false},getDrop_:function(K){if(this!=K){var L=this._droppable,O=K._draggable;if(L=="true"){return this}if(L&&O!="true"){for(var N=this._dropTypes,M=N.length;M--;){if(O==N[M]){return this}}}}return this.parent?this.parent.getDrop_(K):null},dropEffect_:function(K){jq(this.$n()||[])[K?"addClass":"removeClass"]("z-drag-over")},getDragMessage_:function(){var K=this.getDragNode().tagName;if("TR"==K||"TD"==K||"TH"==K){var L=this.$n("real")||this.getCaveNode();return L?L.textContent||L.innerText||"":""}},onDrop_:function(L,K){var M=zk.copy({dragged:L.control},K.data);this.fire("onDrop",M,null,38)},cloneDrag_:function(L,M){var N=this.getDragMessage_();if(typeof N=="string"&&N.length>15){N=N.substring(0,15)+"..."}var K=zk.DnD.ghost(L,M,N);L._orgcursor=document.body.style.cursor;document.body.style.cursor="pointer";jq(this.getDragNode()).addClass("z-dragged");return K},uncloneDrag_:function(K){document.body.style.cursor=K._orgcursor||"";jq(this.getDragNode()).removeClass("z-dragged")},focus:function(M){var L;if(this.isVisible()&&this.canActivate({checkOnly:true})&&(L=this.$n())){if(zk(L).focus(M)){this.setTopmost();return true}for(var K=this.firstChild;K;K=K.nextSibling){if(K.isVisible()&&K.focus(M)){return true}}}return false},canActivate:function(L){var K=zk.currentModal;if(K&&!zUtl.isAncestor(K,this)){if(!L||!L.checkOnly){var M=zk.currentFocus;if(M&&zUtl.isAncestor(K,M)){M.focus(0)}else{K.focus(0)}}return false}return true},smartUpdate:function(K,M,L){zAu.send(new zk.Event(this,"setAttr",[K,M]),L>=0?L:-1);return this},fireX:function(T,S){T.currentTarget=this;var R=T.name,P=this._lsns[R],Q=P?P.length:0;if(Q){for(var N=0;N<Q;){var L=P[N++],M=L[0];(L[1]||M[R]).call(M,T);if(T.stopped){return T}}}if(!T.auStopped){var U=T.opts&&T.opts.toServer;if(U||(this.inServer&&this.desktop)){if(T.opts.sendAhead){zAu.sendAhead(r(T,this),S>=0?S:38)}else{var K=U||this._asaps[R];if(K==null){var O=this.$class._importantEvts;if(O){var O=O[R];if(O!=null){K=O}}}if(K!=null){zAu.send(r(T,this),K?S>=0?S:38:-1)}}}}return T},fire:function(N,M,K,L){return this.fireX(new zk.Event(this,N,M,K),L)},listen:function(O,N){N=N?N:0;for(var K in O){var P=O[K];if(P.$array){P=[P[0]||this,P[1]]}else{if(typeof P=="function"){P=[this,P]}else{P=[P||this,null]}}P.priority=N;var L=this._lsns[K];if(!L){this._lsns[K]=[P]}else{for(var M=L.length;;){if(--M<0||L[M].priority>=N){L.splice(M+1,0,P);break}}}}return this},unlisten:function(N){l_out:for(var K in N){var O=N[K],L=this._lsns[K],P;for(var M=L?L.length:0;M--;){P=L[M];if(O.$array){O=[O[0]||this,O[1]]}else{if(typeof O=="function"){O=[this,O]}else{O=[O||this,null]}}if(P[0]==O[0]&&P[1]==O[1]){L.splice(M,1);continue l_out}}}return this},isListen:function(K,N){var M=this._asaps[K];if(M){return true}if(N&&N.asapOnly){M=this.$class._importantEvts;return M&&M[K]}if(N&&N.any){if(M!=null){return true}M=this.$class._importantEvts;if(M&&M[K]!=null){return true}}var L=this._lsns[K];return L&&L.length},setListeners:function(L){for(var K in L){this._setListener(K,L[K])}},setListener:function(K){this._setListener(K[0],K[1])},_setListener:function(K,N){var O=this._bklsns,L=O[K],M={};if(L){delete O[K];M[K]=L;this.unlisten(M)}if(N){M[K]=O[K]=typeof N!="function"?new Function("var event=arguments[0];"+N):N;this.listen(M)}},setOverrides:function(L){for(var K in L){var N=L[K];if(N){var M="$"+K;if(this[M]==null&&this[K]){this[M]=this[K]}this[K]=N}else{var M="$"+K;this[K]=this[M];delete this[M]}}},doClick_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doClick_(K)}}},doDoubleClick_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doDoubleClick_(K)}}},doRightClick_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doRightClick_(K)}}},doMouseOver_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doMouseOver_(K)}}},doMouseOut_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doMouseOut_(K)}}},doMouseDown_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doMouseDown_(K)}}},doMouseUp_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doMouseUp_(K)}}},doMouseMove_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doMouseMove_(K)}}},doKeyDown_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doKeyDown_(K)}}},doKeyUp_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doKeyUp_(K)}}},doKeyPress_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doKeyPress_(K)}}},doFocus_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doFocus_(K)}}},doBlur_:function(K){if(!this.fireX(K).stopped){var L=this.parent;if(L){L.doBlur_(K)}}},domListen_:function(N,M,L){if(!this.$weave){var K=E(this,M,L);jq(N,zk).bind(K[0],K[1])}return this},domUnlisten_:function(N,M,L){if(!this.$weave){var K=E(this,M,L);jq(N,zk).unbind(K[0],K[1])}return this},toJSON:function(){return this.uuid}},{$:function(Q,M){if(typeof Q=="string"){if(Q.charAt(0)=="#"){Q=Q.substring(1)}var K=Q.indexOf("-");return B[K>=0?Q.substring(0,K):Q]}if(!Q||zk.Widget.isInstance(Q)){return Q}else{if(!Q.nodeType){var N=Q.originalEvent;Q=(N?N.z$target:null)||Q.target||Q}}for(;Q;Q=zk(Q).vparentNode()||Q.parentNode){var P=Q.id;if(P){var K=P.indexOf("-");if(K>=0){P=P.substring(0,K);if(M&&M.child){var O=B[P];if(O){var L=O.$n();if(L&&jq.isAncestor(L,Q)){return O}}if(M&&M.exact){break}continue}}O=B[P];if(O){return O}}if(M&&M.exact){break}}return null},mimicMouseDown_:function(N,K){var L=zk.currentModal;if(L&&!N){var M=zk.currentFocus;if(M&&zUtl.isAncestor(L,M)){M.focus(0)}else{L.focus(0)}}else{if(!N||N.canActivate()){if(!K){zk.currentFocus=N;zk._cfByMD=true;setTimeout(function(){zk._cfByMD=false},0)}if(N){zWatch.fire("onFloatUp",N)}}}},uuid:function(M){var L=typeof M=="object"?M.id||"":M,K=L.indexOf("-");return K>=0?L.substring(0,K):M},nextUuid:function(){return"_z_"+w++},isAutoId:function(K){return !K||K.startsWith("_z_")||K.startsWith("z_")},register:function(N,L){var K=zk.$import(N);K.prototype.className=N;var M=N.lastIndexOf(".");if(M>=0){N=N.substring(M+1)}f[N.substring(0,1).toLowerCase()+N.substring(1)]=K;if(L){K.prototype.blankPreserved=true}},getClass:function(K){return f[K]},newInstance:function(M,L){var K=f[M];if(!K){throw"widget not found: "+M}return new K(L)}})})();zk.Page=zk.$extends(zk.Widget,{_style:"width:100%;height:100%",className:"zk.Page",$init:function(b,a){this._fellows={};this.$super("$init",b);if(a){zk.Page.contained.push(this)}},redraw:function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")}},{contained:[]});zk.Widget.register("zk.Page",true);zk.Desktop=zk.$extends(zk.Widget,{bindLevel:0,className:"zk.Desktop",$init:function(c,e,a,g){this.$super("$init",{uuid:c});this._aureqs=[];var f=zk.Desktop,b=f.all,d=b[c];if(!d){this.uuid=this.id=c;this.updateURI=a||zk.updateURI;this.contextURI=e||zk.contextURI;this.stateless=g;b[c]=this;++f._ndt;if(!f._dt){f._dt=this}}else{if(a){d.updateURI=a}if(e){d.contextURI=e}}f.sync()},_exists:function(){var a=this._pguid;return !a||jq(a,zk)[0]},bind_:zk.$void,unbind_:zk.$void,setId:zk.$void},{$:function(c){var d=zk.Desktop,b=d.all,a;if(d._ndt>1){if(typeof c=="string"){a=b[c];if(a){return a}}a=zk.Widget.$(c);if(a){for(;a;a=a.parent){if(a.desktop){return a.desktop}if(a.$instanceof(d)){return a}}}}if(a=d._dt){return a}for(c in b){return b[c]}},all:{},_ndt:0,sync:function(){var d=zk.Desktop,a=d.all;if(d._dt&&!d._dt._exists()){d._dt=null}for(var b in a){var c=a[b];if(!c._exists()){delete a[b];--d._ndt}else{if(!d._dt){d._dt=c}}}return d._dt}});zk.Skipper=zk.$extends(zk.Object,{skipped:function(a,b){return a.caption!=b},skip:function(c,b){var a=jq(b||(c.uuid+"-cave"),zk)[0];if(a&&a.firstChild){a.parentNode.removeChild(a);return a}return null},restore:function(d,b){if(b){var c=jq(b.id,zk)[0];for(var a;a=b.firstChild;){b.removeChild(a);c.appendChild(a)}}}});zk.Skipper.nonCaptionSkipper=new zk.Skipper();zk.Native=zk.$extends(zk.Widget,{className:"zk.Native",redraw:function(b){var c=this.prolog;if(c){if(zk.ie){this._patchScript(b,c)}b.push(c)}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}c=this.epilog;if(c){b.push(c)}}});if(zk.ie){zk.Native.prototype._patchScript=function(b,d){var a;if(this.previousSibling||d.indexOf("<script")<0||(a=b.length)>20){return}for(var c=0;a--;){if(b[a].indexOf("<")>=0&&++c>1){return}}b.push('<span style="display:none;font-size:0">&#160;</span>')}}zk.Macro=zk.$extends(zk.Widget,{className:"zk.Macro",redraw:function(b){b.push("<span",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</span>")}});zk.RefWidget=zk.$extends(zk.Widget,{bind_:function(){var a=zk.Widget.$(this.uuid);if(!a||!a.desktop){throw"illegal: "+a}var d=a.parent,c;if(d){var b=a.desktop,e=a._node;a.desktop=a._node=null;d.removeChild(a);a.desktop=b;a._node=e}d=a.parent=this.parent,c=a.previousSibling=this.previousSibling;if(c){c.nextSibling=a}else{if(d){d.firstChild=a}}c=a.nextSibling=this.nextSibling;if(c){c.previousSibling=a}else{if(d){d.lastChild=a}}this.parent=this.nextSibling=this.previousSibling=null;_addIdSpaceDown(a)}});
zk.copy(zk,(function(){var p={zk:true},k=[],l=[],m=[],o=[],j={},b={},e={},g={},c=[];if(!zk.ie){p["zk.canvas"]=true}var d=zk.copy({},p);function f(q,u){if(!q||d[q]){return !zk.loading&&!l.length}d[q]=true;k.push(q);if(h()==1){zk.disableESC();setTimeout(a,380)}var t=q.indexOf(".");if(t){t=zk.getVersion(q.substring(0,t))}if(!t){t=zk.build}var v=document.createElement("script"),s=q+".wpd",r=zk.getHost(q,true);v.type="text/javascript";v.charset="UTF-8";if(s.charAt(0)!="/"){s="/"+s}if(r){s=r+"/web/js"+s}else{if(t){s="/web/_zv"+t+"/js"+s}else{s="/web/js"+s}s=zk.ajaxURI(s,{desktop:u,au:true})}v.src=s;document.getElementsByTagName("HEAD")[0].appendChild(v);return false}function n(s,r){for(var q;q=s.shift();){if(h()||(r&&l.length)){s.unshift(q);return}q()}}function i(){var s="";for(var r=k.length,q=0;--r>=0;){if(s){s+=", "}if(++q==5){q=0;s+="<br/>"}s+=k[r]}return s}function h(){zk.loading=k.length;try{var r=jq("#zk_loadcnt")[0];if(r){r.innerHTML=i()}}catch(q){}return zk.loading}function a(){if(zk.loading){var q=jq("#zk_loadprog")[0];if(!q){if(!jq.isReady){return setTimeout(a,10)}zUtl.progressbox("zk_loadprog",'Loading <span id="zk_loadcnt">'+i()+"</span>",true)}}}return{setLoaded:function(s,u){k.$remove(s);d[s]=true;if(u){if(!p[s]){l.push(s)}}else{l.$remove(s);p[s]=true;var q=j[s];if(q){delete j[s];m.push.apply(m,q)}var v=b[s];if(v){delete b[s];for(var r;r=v.unshift();){zk.load(r)}}}if(!h()){try{zk.enableESC();zUtl.destroyProgressbox("zk_loadprog")}catch(t){}n(m);n(o,1)}},isLoaded:function(q,r){return(r&&d[q])||p[q]},load:function(r,t,s){if(typeof t=="function"){if(s){throw"At most one function allowed"}else{s=t;t=null}}if(s){zk.afterLoad(r,s,true)}var v;for(var u=r.split(","),q=u.length;q--;){r=u[q].trim();if(!f(r,t)){v=true}}return !v},getVersion:function(q){return e[q]},setVersion:function(r,q){e[r]=q},depends:function(r,q){if(r&&q){if(p[r]){zk.load(q)}else{if(b[r]){b[r].push(q)}else{b[r]=[q]}}}},afterLoad:function(x,v,t){if(typeof x=="string"){if(!v){return true}for(var s=x.split(","),u=s.length;u--;){var q=s[u].trim();if(q&&!p[q]){while(u--){var y=s[u].trim();if(y&&!p[y]){var r=x,w=v;v=function(){zk.afterLoad(r,w,t)};break}}if(j[q]){j[q].push(v)}else{j[q]=[v]}return false}}x=v}if(x){if(zk.loading||l.length){(t?m:o).push(x);return false}x();return true}},getHost:function(q,s){for(var r in g){if(q.startsWith(r)){return g[r][s?1:0]}}return c[s?1:0]},setHost:function(t,v,w){var r=t+v;if(!c.length){for(var u=document.getElementsByTagName("SCRIPT"),s=0,q=u.length;s<q;++s){var x=u[s].src;if(x){if(x.startsWith(t)){c=[t,r];break}else{if(x.indexOf("/zk.wpd")>=0){break}}}}}for(var s=0;s<w.length;++s){g[w[s]]=[t,r]}}}})());
zk.mnt={t:zUtl.now()};zkreg=zk.Widget.register;function zkblbg(b){zk.mounting=true;zk.mnt.binding=b;var a=390-(zUtl.now()-zk.mnt.t);zk.startProcessing(a>0?a:0)}function zkpgbg(c,f,e,b,g,a){var d={};if(f){d.style=f}if(e){zkdtbg(e,g,a)._pguid=c}zk.mnt.push({type:"#p",uuid:c,contained:b,props:d});zk.mnt.pgbg=!b}function zkbg(d,c,a,b){zk.mnt.push({type:d,uuid:c,mold:a,props:b})}function zkb2(c,b,a){zk.mnt.push({type:b||"zhtml.Widget",uuid:c,props:a})}function zkdtbg(b,d,a){var c=zk.Desktop.$(b);if(c==null){c=new zk.Desktop(b,d,a);if(zk.pfmeter){zAu._pfrecv(c,b)}}else{if(a){c.updateURI=a}if(d){c.contextURI=d}}zk.mnt.curdt=c;return c}function zkver(c,g,b,f,e,d){zk.version=c;zk.build=g;zk.contextURI=b;zk.updateURI=f;for(var a in e){zk.setVersion(a,e[a])}zk.feature={standard:true};zkopt(d)}function zkopt(b){for(var a in b){var c=b[a];switch(a){case"pd":zk.procDelay=c;break;case"td":zk.tipDelay=c;break;case"rd":zk.resendDelay=c;break;case"dj":zk.debugJS=c;break;case"kd":zk.keepDesktop=c;break;case"pf":zk.pfmeter=c;break;case"cd":zk.clickFilterDelay=c;break;case"ed":switch(c){case"e":zk.feature.enterprise=true;case"p":zk.feature.professional=true}break;case"eu":zAu.setErrorURI(c)}}}function zkmld(b,e){if(!b.superclass){zk.afterLoad(function(){zkmld(b,e)});return}var c=b.molds={};for(var a in e){var d=e[a];c[a]=typeof d=="function"?d:d[0].molds[d[1]]}}function zkamn(a,b){zk.load(a,function(){setTimeout(function(){zk.afterMount(b)},20)})}(function(){var k=[],n=[],m=[],g=[];zk.afterMount=function(o){if(o){if(zk.mounting){return g.push(o)}if(zk.loading){return zk.afterLoad(o)}if(!jq.isReady){return jq(o)}setTimeout(o,0)}};function i(){for(var o=n.length;o--;){var p=n[o];if(!p.jsLoad){p.jsLoad=true;l(p[1]);return c(i)}}var q=n.stub;if(q){n.stub=null;e(q)}else{zk.bootstrapping=true;jq(f)}}function f(){if(zk.loading){zk.afterLoad(f);return}var o=n.shift();if(o){m.push([o[0],d(o[0],o[1]),o[2]]);if(n.length){return c(f)}}b()}function b(){if(n.length){return}if(zk.loading){zk.afterLoad(b);return}var o=m.shift();if(o){var p=o[1];if(o[2]){p.bind(o[0])}else{p.replaceHTML("#"+p.uuid,o[0])}return c(b)}setTimeout(a,0)}function a(){if(n.length||m.length){return}zk.mounting=zk.bootstrapping=false;h(a);zk.endProcessing();zk.bmk.onURLChange();if(zk.pfmeter){var o=zk.Desktop.all;for(var p in o){zAu._pfdone(o[p],p)}}}function e(p){if(zk.loading){zk.afterLoad(function(){e(p)});return}var o=n.shift();if(o){p(d(null,o[1]));if(n.length){return c(function(){e(p)})}}j()}function j(){zk.mounting=false;h(j);zAu._doCmds();h(j)}function h(o){for(var p;p=g.shift();){p();if(zk.loading){zk.afterLoad(o);return}}}function d(x,z){var C,w=z.props||{};if(z.type=="#p"){C=new zk.Page({uuid:z.uuid},z.contained);C.inServer=true;if(x){x.appendChild(C)}}else{var A=zk.$import(z.type),o=z.uuid,r={uuid:o},y=z.mold;if(!A){throw"Unknown widget: "+z.type}if(y){r.mold=y}var C=new A(r);C.inServer=true;if(x){x.appendChild(C)}y=w.z_ea;if(y){delete w.z_ea;var t=jq(o);if(t.length){var p=t[0].innerHTML;if(y.charAt(0)=="$"){y=y.substring(1);p=zUtl.decodeXML(p)}w[y]=p}}y=w.z_al;if(y){delete w.z_al;zk.afterLoad(function(){for(var v in y){w[v]=y[v]()}})}}for(var B in w){C.set(B,w[B])}for(var q=0,u=z.children,s=u.length;q<s;++q){d(C,u[q])}return C}function l(o){var s=o.type,r=s.lastIndexOf(".");if(r>=0){zk.load(s.substring(0,r),zk.mnt.curdt)}var t=o.z_pk;if(t){delete o.z_pk;zk.load(t)}for(var q=o.children,p=q.length;p--;){l(q[p])}}function c(p){var o=zUtl.now(),q=o-zk.mnt.t;if(q>300){zk.mnt.t=o;q>>=4;setTimeout(p,q<35?q:35)}else{p()}}zk.copy(zk.mnt,{push:function(o){o.children=[];if(k.length){k[0].children.push(o)}k.unshift(o)},pop:function(){var o=k.shift();if(!k.length){n.push([zk.mnt.curdt,o,zk.mnt.binding]);n.stub=zAu.stub;zAu.stub=null;c(i)}},top:function(){return k[0]},end:function(){k=[];zk.mnt.curdt=null;zk.mnt.binding=false}})})();jq(function(){var b=[],f={},h;zk.copy(zk,{beforeUnload:function(i,j){if(j&&j.remove){b.$remove(i)}else{b.push(i)}}});function e(i){var j=i.target;if(j&&!j.$weave){j["do"+i.name.substring(2)+"_"].call(j,i);if(i.domStopped){i.domEvent.stop()}}}function c(i,l,j){zk.lastPointer[0]=i.pageX;zk.lastPointer[1]=i.pageY;if(!l){l=i.target}var k=i.domTarget;if(k!=document.body&&k!=document.body.parentNode){zk.Widget.mimicMouseDown_(l,j)}e(i)}function a(i){if(i!=zk.currentFocus){window.blur();i.focus()}}function d(i){var k;try{if(((k=i.target)&&(k=k.z$proxy))||((k=i.originalTarget)&&(k=k.z$proxy))){i.target=k}}catch(j){}}function g(){if(!f.time){return}var i=zUtl.now();if(zk.mounting||zk.loading||i<f.time||zk.animating()){setTimeout(g,10);return}f.time=null;f.lastTime=i+1000;if(!zk.light){zAu._onClientInfo()}f.inResize=true;try{zWatch.fire("beforeSize");zWatch.fire("onSize");f.lastTime=zUtl.now()+8}finally{f.inResize=false}}jq(document).keydown(function(i){var k=zk.Widget.$(i,{child:true});if(k){var j=new zk.Event(k,"onKeyDown",i.keyData(),null,i);e(j);if(!j.stopped&&k.afterKeyDown_){k.afterKeyDown_(j)}}if(i.keyCode==27&&(zk._noESC>0||(!zk.light&&zAu.shallIgnoreESC()))){return false}}).keyup(function(i){var j=zk.keyCapture;if(j){zk.keyCapture=null}else{j=zk.Widget.$(i,{child:true})}e(new zk.Event(j,"onKeyUp",i.keyData(),null,i))}).keypress(function(i){var j=zk.keyCapture;if(!j){j=zk.Widget.$(i,{child:true})}e(new zk.Event(j,"onKeyPress",i.keyData(),null,i))}).mousedown(function(i){d(i);var j=zk.Widget.$(i,{child:true});c(new zk.Event(j,"onMouseDown",i.mouseData(),null,i),j)}).mouseup(function(i){var j=zk.Draggable.ignoreMouseUp();if(j===true){return}if(j!=null){c(j,null,true);a(j.target)}d(i);var k=zk.mouseCapture;if(k){zk.mouseCapture=null}else{k=zk.Widget.$(i,{child:true})}e(new zk.Event(k,"onMouseUp",i.mouseData(),null,i))}).mousemove(function(i){d(i);zk.currentPointer[0]=i.pageX;zk.currentPointer[1]=i.pageY;var j=zk.mouseCapture;if(!j){j=zk.Widget.$(i,{child:true})}e(new zk.Event(j,"onMouseMove",i.mouseData(),null,i))}).mouseover(function(i){d(i);zk.currentPointer[0]=i.pageX;zk.currentPointer[1]=i.pageY;e(new zk.Event(zk.Widget.$(i,{child:true}),"onMouseOver",i.mouseData(),null,i))}).mouseout(function(i){d(i);e(new zk.Event(zk.Widget.$(i,{child:true}),"onMouseOut",i.mouseData(),null,i))}).click(function(i){if(zk.processing||zk.Draggable.ignoreClick()){return}d(i);if(i.which==1){e(new zk.Event(zk.Widget.$(i,{child:true}),"onClick",i.mouseData(),{ctl:true},i))}}).dblclick(function(i){if(zk.processing||zk.Draggable.ignoreClick()){return}d(i);var k=zk.Widget.$(i,{child:true});if(k){var j=new zk.Event(k,"onDoubleClick",i.mouseData(),{ctl:true},i);e(j);if(j.domStopped){return false}}}).bind("contextmenu",function(i){if(zk.processing){return}d(i);zk.lastPointer[0]=i.pageX;zk.lastPointer[1]=i.pageY;var k=zk.Widget.$(i,{child:true});if(k){var j=new zk.Event(k,"onRightClick",i.mouseData(),{ctl:true},i);e(j);if(j.domStopped){return false}}return !zk.ie||i.returnValue});jq(window).resize(function(){if(!jq.isReady||zk.mounting){return}var j=zUtl.now();if((f.lastTime&&j<f.lastTime)||f.inResize){return}var i=zk.ie?250:50;f.time=j+i-1;setTimeout(g,i)}).scroll(function(){zWatch.fire("onScroll")}).unload(function(){zk.unloading=true;var i=!zk.opera&&!zk.keepDesktop&&!zk.light;if(i||zk.pfmeter){try{var j=zk.Desktop.all;for(var k in j){var l=j[k];jq.ajax(zk.$default({url:zk.ajaxURI(null,{desktop:l,au:true}),data:{dtid:k,cmd_0:i?"rmDesktop":"dummy"},beforeSend:function(n){if(zk.pfmeter){zAu._pfsend(l,n,true)}}},zAu.ajaxSettings))}}catch(m){}}});h=window.onbeforeunload;window.onbeforeunload=function(){if(!zk.skipBfUnload){if(zk.confirmClose){return zk.confirmClose}for(var i=0;i<b.length;++i){var k=b[i]();if(k){return k}}}if(h){var k=h.apply(window,arguments);if(k){return k}}zk.unloading=true}});zkble=zk.mnt.end;zke=zkpge=zk.mnt.pop;
zNumFormat={format:function(a,v){if(!v){return""}if(!a){return""+v}var m=new RegExp("[^#"+zk.DECIMAL+"]","g"),h=a.replace(m,""),e=h.indexOf("."),d=e>=0?h.length-e-1:0,b=((v+"").replace(/[^0123456789.]/g,"")*1).toFixed(d);var u=a.indexOf(zk.DECIMAL),t=b.indexOf(zk.DECIMAL),l=suf="";if(t==-1){t=b.length}if(u==-1){u=a.length}for(var p=t-a.replace(/[^#]/g,"").length;--p>=0;u++){a="#"+a}var k=u-a.substring(0,u).lastIndexOf(zk.GROUPING);for(var q=1,o=u-1,n=t-1;o>=0&&n>=0;){if(q%k==0&&l.charAt(0)!=zk.GROUPING){l=zk.GROUPING+l;q++}if(a.charAt(o)=="#"){l=b.charAt(n)+l;o--;n--;q++}else{var s=a.charAt(o);if(s!=zk.GROUPING){l=s+l;q++}o--}}if(n>=0){l=b.substr(0,n+1)+l}for(var o=u+1,n=t+1,f=a.length,r=b.length;o<f&&n<r;o++){if(a.charAt(o)=="#"){suf+=b.charAt(n);n++}else{suf+=a.charAt(o)}}if(n<b.length){suf=b.substr(n,b.length)}if(!l){l="0"}return suf?l+zk.DECIMAL+suf:l},unformat:function(b,a){if(!a){return{raw:a,divscale:0}}var h=0,d,k,c,i;for(var f=0,g=a.length;f<g;++f){c=a.charAt(f);i=true;if(c==zk.PERCENT){h+=2}else{if(c==zk.PER_MILL){h+=3}else{if(c=="("){d=true}else{if(c!="+"){i=false}}}}if(!i){i=(c<"0"||c>"9")&&c!=zk.DECIMAL&&c!=zk.MINUS&&c!="+"&&(zUtl.isChar(c,{whitespace:1})||c==zk.GROUPING||c==")"||(b&&b.indexOf(c)>=0))}if(i){if(!k){k=a.substring(0,f)}}else{var e=c==zk.MINUS?"-":c==zk.DECIMAL?".":c;if(c!=e&&!k){k=a.substring(0,f)}if(k){k+=e}}}if(d){if(!k){k=a}if(k.length){if(k.charAt(0)=="-"){k=k.substring(1)}else{k="-"+k}}}return{raw:k||a,divscale:h}}};
zDateFormat={checkDate:function(d,a){if(a.length){for(var c=d.length;c--;){var b=a.indexOf(d[c]);if(b>=0){a=a.substring(0,b)+a.substring(b+d[c].length)}}}return a},digitFixed:function(d,c){var b=""+d;for(var a=c-b.length;--a>=0;){b="0"+b}return b},_parseToken:function(c,d,b,a){if(a<2){a=2}if(c&&c.length>a){d[b]=c.substring(a);return c.substring(0,a)}return c},parseDate:function(q,e,O){if(!e){e="yyyy/MM/dd"}var P=new Date();var p=P.getFullYear(),v=P.getMonth(),H=P.getDate(),N=P.getHours(),x=P.getMinutes(),K=P.getSeconds(),M=e.indexOf("a"),g=e.indexOf("h"),L=e.indexOf("K"),B=M>-1,A=B?g>-1||L>-1:false,E;var b=[],u=e.indexOf("MMM"),f=e.indexOf("a"),J=[];for(var F=0,D=q.length;F<D;F++){var I=q.charAt(F);if(I.match(/\d/)){J.push(I)}else{if((u>-1&&u<=F)||(f>-1&&f<=F)){if(I.match(/\w/)){J.push(I)}else{if(I.charCodeAt()<128){if(J.length){b.push(J.join(""));J=[]}}else{J.push(I)}}}else{if(J.length){b.push(J.join(""));J=[]}}}}if(J.length){b.push(J.join(""))}for(var F=0,D=0,o=e.length;D<o;++D){var s=e.charAt(D);if((s>="a"&&s<="z")||(s>="A"&&s<="Z")){var G=1;for(var z=D;++z<o;++G){if(e.charAt(z)!=s){break}}var a;if(z<o){var t=e.charAt(z);a=t=="y"||t=="M"||t=="d"||t=="E"}var n=b[F++];switch(s){case"y":if(a){if(G<=3){G=2}if(n&&n.length>G){b[--F]=n.substring(G);n=n.substring(0,G)}}p=zk.parseInt(n);if(isNaN(p)){return null}if(p<100){p+=p>29?1900:2000}break;case"M":var C=q.substring(D);for(var h=zk.SMON.length;--h>=0;){if(C.toLowerCase().startsWith(zk.SMON[h].toLowerCase())){n=zk.SMON[h];v=h;break}}if(G==3&&n){break}else{if(G<=2){if(a&&n&&n.length>2){b[--F]=n.substring(2);n=n.substring(0,2)}v=zk.parseInt(n)-1;if(isNaN(v)){return null}}else{for(var w=0;;++w){if(w==12){return null}if(G==3){if(zk.SMON[w]==n){v=w;break}}else{if(n&&zk.FMON[w].startsWith(n)){v=w;break}}}}}break;case"d":if(a){n=this._parseToken(n,b,--F,G)}H=zk.parseInt(n);if(isNaN(H)){return null}break;case"H":if(A){break}if(a){n=this._parseToken(n,b,--F,G)}N=zk.parseInt(n);if(isNaN(N)){return null}break;case"h":if(!A){break}if(a){n=this._parseToken(n,b,--F,G)}N=zk.parseInt(n);if(N==12){N=0}if(isNaN(N)){return null}break;case"K":if(!A){break}if(a){n=this._parseToken(n,b,--F,G)}N=zk.parseInt(n);if(isNaN(N)){return null}N%=12;break;case"k":if(A){break}if(a){n=this._parseToken(n,b,--F,G)}N=zk.parseInt(n);if(N==24){N=0}if(isNaN(N)){return null}break;case"m":if(a){n=this._parseToken(n,b,--F,G)}x=zk.parseInt(n);if(isNaN(x)){return null}break;case"s":if(a){n=this._parseToken(n,b,--F,G)}K=zk.parseInt(n);if(isNaN(K)){return null}break;case"a":if(!A){break}E=q.substring(D).startsWith(zk.APM[0]);break}D=z-1}}if(A&&E===false){N+=12}var r=new Date(p,v,H,N,x,K);if(O){if(r.getFullYear()!=p||r.getMonth()!=v||r.getDate()!=H||r.getHours()!=N||r.getMinutes()!=x||r.getSeconds()!=K){return null}q=q.trim();q=this.checkDate(zk.SDOW,q);q=this.checkDate(zk.S2DOW,q);q=this.checkDate(zk.FDOW,q);q=this.checkDate(zk.SMON,q);q=this.checkDate(zk.S2MON,q);q=this.checkDate(zk.FMON,q);q=this.checkDate(zk.APM,q);for(var D=q.length;D--;){var s=q.charAt(D);if((s>"9"||s<"0")&&e.indexOf(s)<0){return null}}}return r},formatDate:function(a,b){if(!b){b="yyyy/MM/dd"}var f="";for(var e=0,l=b.length;e<l;++e){var c=b.charAt(e);if((c>="a"&&c<="z")||(c>="A"&&c<="Z")){var i=1;for(var d=e;++d<l;++i){if(b.charAt(d)!=c){break}}switch(c){case"y":if(i<=3){f+=this.digitFixed(a.getFullYear()%100,2)}else{f+=this.digitFixed(a.getFullYear(),i)}break;case"M":if(i<=2){f+=this.digitFixed(a.getMonth()+1,i)}else{if(i==3){f+=zk.SMON[a.getMonth()]}else{f+=zk.FMON[a.getMonth()]}}break;case"d":f+=this.digitFixed(this.dayInMonth(a),i);break;case"E":if(i<=3){f+=zk.SDOW[a.getDay()]}else{f+=zk.FDOW[a.getDay()]}break;case"D":f+=this.dayInYear(a);break;case"w":f+=this.weekInYear(a);break;case"W":f+=this.weekInMonth(a);break;case"G":f+="AD";break;case"F":f+=this.dayOfWeekInMonth(a);break;case"H":if(i<=2){f+=this.digitFixed(a.getHours(),i)}break;case"k":var g=a.getHours();if(g==0){g="24"}if(i<=2){f+=this.digitFixed(g,i)}break;case"K":if(i<=2){f+=this.digitFixed(a.getHours()%12,i)}break;case"h":var g=a.getHours();g%=12;if(g==0){g="12"}if(i<=2){f+=this.digitFixed(g,i)}break;case"m":if(i<=2){f+=this.digitFixed(a.getMinutes(),i)}break;case"s":if(i<=2){f+=this.digitFixed(a.getSeconds(),i)}break;case"Z":f+=-(a.getTimezoneOffset()/60);break;case"a":f+=zk.APM[a.getHours()>11?1:0];break;default:f+="1"}e=d-1}else{f+=c}}return f},ms2day:function(a){return Math.round(a/86400000)},dayInYear:function(b,a){if(!a){a=new Date(b.getFullYear(),0,1)}return 1+this.digitFixed(b-a)},dayInMonth:function(a){return a.getDate()},weekInYear:function(c,a){if(!a){a=new Date(c.getFullYear(),0,1)}var b=a.getDay();if(b==7){b=0}return 1+Math.floor((this.digitFixed(c-a)+b)/7)},weekInMonth:function(a){return this.weekInYear(a,new Date(a.getFullYear(),a.getMonth(),1))},dayOfWeekInMonth:function(a){return 1+Math.floor(this.digitFixed(a-new Date(a.getFullYear(),a.getMonth(),1))/7)}};
zMsgFormat={format:function(e){var d=0,g="";for(var c=0,a=e.length,f,b;c<a;++c){f=e.charAt(c);if(f=="\\"){if(++c>=a){break}g+=e.substring(d,c);f=e.charAt(c);switch(f){case"n":f="\n";break;case"t":f="\t";break;case"r":f="\r";break}g+=f;d=c+1}else{if(f=="{"){b=e.indexOf("}",c+1);if(b<0){break}g+=e.substring(d,c)+arguments[zk.parseInt(e.substring(c+1,b))+1];d=c=b+1}}}if(g){g+=e.substring(d)}return g||e}};
(function(c){function d(f){return f<10?"0"+f:f}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(f){return this.valueOf()?this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(f){return this.valueOf()}}var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,j={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function a(f){g.lastIndex=0;return g.test(f)?'"'+f.replace(g,function(k){var l=j[k];return typeof l==="string"?l:"\\u"+("0000"+k.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function e(r,o){var m,l,s,f,p=h,n,q=o[r];if(q&&typeof q==="object"&&typeof q.toJSON==="function"){q=q.toJSON(r)}if(typeof i==="function"){q=i.call(o,r,q)}switch(typeof q){case"string":return a(q);case"number":return isFinite(q)?String(q):"null";case"boolean":case"null":return String(q);case"object":if(!q){return"null"}n=[];if(Object.prototype.toString.apply(q)==="[object Array]"){f=q.length;for(m=0;m<f;m+=1){n[m]=e(m,q)||"null"}s=n.length===0?"[]":h?"[\n"+h+n.join(",\n"+h)+"\n"+p+"]":"["+n.join(",")+"]";h=p;return s}for(l in q){if(Object.hasOwnProperty.call(q,l)){s=e(l,q);if(s){n.push(a(l)+(h?": ":":")+s)}}}s=n.length===0?"{}":h?"{\n"+h+n.join(",\n"+h)+"\n"+p+"}":"{"+n.join(",")+"}";h=p;return s}}c.toJSON=function(l,k){var f;h="";i=k;return e("",{"":l})};c.evalJSON=function(f){return $eval("("+f+")")}}(jQuery));
}(function(){zk._n='zul';try{zk._p=zk.$package(zk._n,false,true);
(function(){var c=jq.alert,a={QUESTION:"z-msgbox z-msgbox-question",EXCLAMATION:"z-msgbox z-msgbox-exclamation",INFORMATION:"z-msgbox z-msgbox-information",ERROR:"z-msgbox z-msgbox-error",NONE:"z-msgbox z-msgbox-none"},e=["OK","CANCEL","YES","NO","RETRY","ABORT","IGNORE"];function b(g,h){return new zul.wgt.Button({label:msgzul[g]||g,listeners:{onClick:function(f){if(typeof h=="function"){h.call(this,f)}this.$o().detach()}}})}function d(g){var f=[];jq.each(e,function(j,h){var k;if(k=g[h]){f.push(b(h,k))}});if(!f.length){f.push(b("OK"))}return f}jq.alert=function(g,f){if(f&&f.mode=="os"){return c(g)}f=f||{};zk.load("zul.wnd,zul.wgt,zul.box",function(){var h=new zul.wnd.Window({closable:true,width:"250pt",title:f.title||"ZK",border:"normal",children:[new zul.box.Box({mold:"horizontal",children:[new zul.wgt.Div({sclass:a[(f.icon||"").toUpperCase()]||a.INFORMATION}),new zul.wgt.Div({sclass:"z-messagebox",width:"210pt",children:[new zul.wgt.Label({value:g,multiline:true})]})]}),new zul.wgt.Separator({bar:true}),new zul.box.Box({mold:"horizontal",style:"margin-left:auto; margin-right:auto",children:d(f)})],mode:f.mode||"modal"});var i=f.desktop||zk.Desktop.$();if(i&&(i=i.firstChild)&&i.desktop){i.appendChild(h)}else{jq(document.body).append(h)}})}})();
zul.Widget=zk.$extends(zk.Widget,{getContext:function(){return this._context},setContext:function(a){if(zk.Widget.isInstance(a)){a="uuid("+a.uuid+")"}this._context=a;return this},getPopup:function(){return this._popup},setPopup:function(a){if(zk.Widget.isInstance(a)){a="uuid("+a.uuid+")"}this._popup=a;return this},getTooltip:function(){return this._tooltip},setTooltip:function(a){if(zk.Widget.isInstance(a)){a="uuid("+a.uuid+")"}this._tooltip=a;return this},getCtrlKeys:function(){return this._ctrlKeys},setCtrlKeys:function(l){if(this._ctrlKeys==l){return}if(!l){this._ctrlKeys=this._parsedCtlKeys=null;return}var g=[{},{},{},{},{}],d=0,h=zk.Event;for(var e=0,f=l.length;e<f;++e){var a=l.charAt(e);switch(a){case"^":case"$":case"@":if(d){throw"Combination of Shift, Alt and Ctrl not supported: "+l}d=a=="^"?1:a=="@"?2:3;break;case"#":var b=e+1;for(;b<f;++b){var c=l.charAt(b);if((c>"Z"||c<"A")&&(c>"z"||c<"a")&&(c>"9"||c<"0")){break}}if(b==e+1){throw"Unexpected character "+a+" in "+l}var m=l.substring(e+1,b).toLowerCase();if("pgup"==m){a=h.PGUP}else{if("pgdn"==m){a=h.PGDN}else{if("end"==m){a=h.END}else{if("home"==m){a=h.HOME}else{if("left"==m){a=h.LFT}else{if("up"==m){a=h.UP}else{if("right"==m){a=h.RGH}else{if("down"==m){a=h.DN}else{if("ins"==m){a=h.INS}else{if("del"==m){a=h.DEL}else{if(m.length>1&&m.charAt(0)=="f"){var i=zk.parseInt(m.substring(1));if(i==0||i>12){throw"Unsupported function key: #f"+i}a=h.F1+i-1}else{throw"Unknown #"+m+" in "+l}}}}}}}}}}}g[d][a]=true;d=0;e=b-1;break;default:if(!d||((a>"Z"||a<"A")&&(a>"z"||a<"a")&&(a>"9"||a<"0"))){throw"Unexpected character "+a+" in "+l}if(d==3){throw"$a - $z not supported (found in "+l+"). Allowed: $#f1, $#home and so on."}if(a<="z"&&a>="a"){a=a.toUpperCase()}g[d][a.charCodeAt(0)]=true;d=0;break}}this._parsedCtlKeys=g;this._ctrlKeys=l;return this},_parsePopParams:function(a){var e={},b=a.indexOf(","),f=a.indexOf("="),c=a;if(f!=-1){c=a.substring(0,a.substring(0,f).lastIndexOf(","))}if(b!=-1){e.id=c.substring(0,b).trim();var d=c.substring(b+1,c.length);if(d){e.position=d.trim()}zk.copy(e,zUtl.parseMap(a.substring(c.length,a.length)))}else{e.id=a.trim()}if(e.x){e.x=zk.parseInt(e.x)}if(e.y){e.y=zk.parseInt(e.y)}if(e.delay){e.delay=zk.parseInt(e.delay)}return e},doClick_:function(b,d){if(!b._popuped){var f=this._popup?this._parsePopParams(this._popup):{},a=this._smartFellow(f.id);if(a){b._popuped=true;var c=this,e=f.x!==undefined?[f.x,f.y]:[b.pageX,b.pageY];setTimeout(function(){a.open(c,e,f.position?f.position:null,{sendOnOpen:true})},0);b.stop()}}if(d!==true){this.$supers("doClick_",arguments)}},doRightClick_:function(b){if(!b._ctxed){var e=this._context?this._parsePopParams(this._context):{},a=this._smartFellow(e.id);if(a){b._ctxed=true;var c=this,d=e.x!==undefined?[e.x,e.y]:[b.pageX,b.pageY];setTimeout(function(){a.open(this,d,e.position?e.position:null,{sendOnOpen:true})},0);b.stop()}}if(this.isListen("onRightClick")){b.stop()}this.$supers("doRightClick_",arguments)},doTooltipOver_:function(a){if(!a._tiped&&zk.eff.tooltip.beforeBegin(this)){var c=this._tooltip?this._parsePopParams(this._tooltip):{},b=this._smartFellow(c.id);if(b){a._tiped=true;zk.eff.tooltip.begin(b,this,c)}}},doTooltipOut_:function(a){zk.eff.tooltip.end(this)},doMouseOver_:function(a){this.doTooltipOver_(a);this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){this.doTooltipOut_(a);this.$supers("doMouseOut_",arguments)},_smartFellow:function(a){return a?a.startsWith("uuid(")&&a.endsWith(")")?zk.Widget.$(a.substring(5,a.length-1)):this.$f(a,true):null},afterKeyDown_:function(e){var g=e.keyCode,b="onCtrlKey",i;switch(g){case 13:var a=e.domTarget,f=a.tagName;if(f=="TEXTAREA"||f=="BUTTON"||(f=="INPUT"&&a.type.toLowerCase()=="button")){return}i=b="onOK";break;case 27:i=b="onCancel";break;case 16:case 17:case 18:return;case 45:case 46:break;default:if((g>=33&&g<=40)||(g>=112&&g<=123)||e.ctrlKey||e.altKey){break}return}var a=e.target,h=a;for(;;h=h.parent){if(!h){return}if(!h.isListen(b,{any:true})){continue}if(i){break}var c=h._parsedCtlKeys;if(c&&c[e.ctrlKey?1:e.altKey?2:e.shiftKey?3:0][g]){break}}for(var d=a;;d=d.parent){if(d.beforeCtrlKeys_&&d.beforeCtrlKeys_(e)){return}if(d==h){break}}h.fire(b,zk.copy({reference:a},e.data),{ctl:true});e.stop();if(zk.ie&&g==112){zk._oldOnHelp=window.onhelp;window.onhelp=function(){return false};setTimeout(function(){window.onhelp=zk._oldOnHelp;zk._oldOnHelp=null},200)}},beforeCtrlKeys_:function(a){}});
zul.LabelImageWidget=zk.$extends(zul.Widget,{_label:"",$define:{label:function(){this.updateDomContent_()},image:function(a){var b=this.getImageNode();if(b){b.src=a||""}},hoverImage:null},updateDomContent_:function(){this.rerender()},domImage_:function(){var a=this._image;return a?'<img src="'+a+'" align="absmiddle" />':""},domLabel_:function(){return zUtl.encodeXML(this.getLabel())},domContent_:function(){var b=this.domLabel_(),a=this.domImage_();return a?b?a+" "+b:a:b},doMouseOver_:function(){var a=this._hoverImage;if(a){var b=this.getImageNode();if(b){b.src=a}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(){if(this._hoverImage){var a=this.getImageNode();if(a){a.src=this._image}}this.$supers("doMouseOut_",arguments)},getImageNode:function(){if(!this._eimg&&this._image){var a=this.$n();if(a){this._eimg=jq(a).find("img:first")[0]}}return this._eimg},unbind_:function(){this._eimg=null;this.$supers("unbind_",arguments)}});
zul.Auxbutton=zk.$extends(zk.Object,{$init:function(e,b,d){this._wgt=e;this._btn=b;this._ref=d;var c=jq(b),a=c.find(">span:first");this._img=a[0];c.zk.disableSelection();a.zk.disableSelection();if(!e.inDesign){c.mouseover(this.proxy(this._domOver)).mouseout(this.proxy(this._domOut)).mousedown(this.proxy(this._domDown))}},cleanup:function(){var a=jq(this._btn);a.zk.enableSelection();zk(this._img).enableSelection();if(!this._wgt.inDesign){a.unbind("mouseover",this.proxy(this._domOver)).unbind("mouseout",this.proxy(this._domOut)).unbind("mousedown",this.proxy(this._domDown))}},fixpos:function(){var d=this._btn;if(zk(d).isRealVisible()&&d.style.position!="relative"){var e=this._ref,c=this._img,b=e.offsetHeight,f=c.offsetHeight;if(!b||!f){setTimeout(this.proxy(this.fixpos),66);return}var a=b-f;if(a){c.style.height=jq.px(zk.parseInt(jq(c).css("height"))+a)}a=e.offsetTop-c.offsetTop;d.style.position="relative";d.style.top=a+"px";if(zk.safari){d.style.left="-2px"}}},_domOver:function(){var a=this._wgt;if(!a.isDisabled()&&!zk.dragging){jq(this._btn).addClass(a.getZclass()+"-btn-over")}},_domOut:function(){var a=this._wgt;if(!a.isDisabled()&&!zk.dragging){jq(this._btn).removeClass(a.getZclass()+"-btn-over")}},_domDown:function(){var c=this._wgt;if(!c.isDisabled()&&!zk.dragging){var b=zul.Auxbutton,a=b._curab;if(a){a._domUp()}jq(this._btn).addClass(c.getZclass()+"-btn-clk");jq(document.body).mouseup(this.proxy(this._domUp));b._curab=this}},_domUp:function(){var b=zul.Auxbutton,a=b._curab;if(a){b._curab=null;jq(a._btn).removeClass(a._wgt.getZclass()+"-btn-clk");jq(document.body).unbind("mouseup",a.proxy(this._domUp))}}});
zul.Upload=zk.$extends(zk.Object,{sid:0,uploaders:{},$init:function(c,a,b){this.maxsize=this._parseMaxsize(b);this.isNative=b.indexOf("native")!=-1;this._clsnm=(this.maxsize||this.isNative)?b.split(",")[0]:b;this._wgt=c;this._parent=a;this.initContent()},sync:function(){var i=this._wgt,a=i.$n(),e=this._parent,h=e?e.lastChild:a.nextSibling,c=h.firstChild.firstChild,f=zk(a).cmOffset(),b=jq(h).css({top:"0",left:"0"}).zk.cmOffset(),d=c.offsetWidth-a.offsetWidth,g=h.style;g.top=f[1]-b[1]+"px";g.left=f[0]-b[0]-d+"px";c.style.height=a.offsetHeight+"px";c.style.clip="rect(auto,auto,auto,"+d+"px)"},initContent:function(){var g=this._wgt,c=this._parent,f=g.$n(),e=g.desktop,b='<span class="z-upload"><form enctype="multipart/form-data" method="POST"><input name="file" type="file" hidefocus="true" style="height:'+f.offsetHeight+'px"/></form></span>';if(c){jq(c).append(b)}else{jq(g).after(b)}this.sync();var a=this._outer=c?c.lastChild:f.nextSibling,d=a.firstChild.firstChild;d.z$proxy=f;d._ctrl=this;jq(d).change(zul.Upload._onchange)},destroy:function(){jq(this._outer).remove();this._wgt=this._parent=null;for(var a in this.uploaders){var b=this.uploaders[a];if(b){delete this.uploaders[a];b.destroy()}}},getKey:function(a){return(this._wgt?this._wgt.uuid:"")+"_uplder_"+a},cancel:function(a){this._cancel(a)},finish:function(a){this._cancel(a,true)},_cancel:function(a,c){var b=this.getKey(a),d=this.uploaders[b];if(d){d.destroy(c)}delete this.uploaders[b]},_parseMaxsize:function(a){return a.indexOf("maxsize=")>=0?a.match(zul.Upload.MaxSizeRe)[1]:""},_start:function(b,d){var a=this.getKey(this.sid),c=new zul.Uploader(this,a,b,d);zul.Upload.start(c);this.uploaders[a]=c;this.sid++;this.initContent()}},{MaxSizeRe:new RegExp(/maxsize=([^,]*)/),_onchange:function(a){var h=this,b=h._ctrl,g=b._wgt,d=g.desktop,e=zk.ajaxURI("/upload",{desktop:d,au:true})+"?uuid="+g.uuid+"&dtid="+d.uuid+"&sid="+b.sid+(b.maxsize!==""?"&maxsize="+b.maxsize:"")+(b.isNative?"&native=true":""),c=h.form;c.action=e;var f=c.parentNode;f.parentNode.removeChild(f);h._ctrl._start(c,h.value)},error:function(d,b,a){var c=zk.Widget.$(b);if(c){jq.alert(d,{desktop:c.desktop,icon:"ERROR"});zul.Upload.close(b,a)}},close:function(b,a){var c=zk.Widget.$(b);if(!c||!c._uplder){return}c._uplder.cancel(a)},sendResult:function(b,d,a){var c=zk.Widget.$(b);if(!c||!c._uplder){return}c._uplder.finish(a);zAu.send(new zk.Event(c.desktop,"updateResult",{contentId:d,wid:c.uuid,sid:a}))},isFinish:function(d){for(var b=(typeof d=="string"?d:d.uuid)+"_uplder_",c=zul.Upload.files,a=c.length;a--;){if(c[0].id.startsWith(b)){return false}}return true},start:function(b){var a=zul.Upload.files;if(b){a.push(b)}if(a[0]&&!a[0].isStart){a[0].isStart=true;a[0].start()}},destroy:function(c){for(var b=zul.Upload.files,a=b.length;a--;){if(b[a].id==c.id){b.splice(a,1);break}}zul.Upload.start()},files:[]});zul.Uploader=zk.$extends(zk.Object,{$init:function(b,f,c,e){this.id=f;this.flnm=e;this._upload=b;this._form=c;this._parent=c.parentNode;this._sid=b.sid;this._wgt=b._wgt;var d,a=this;if(b._clsnm.startsWith("true")){d=new zul.UploadViewer(this,e)}else{zk.$import(b._clsnm,function(g){d=new g(a,e)})}this.viewer=d},getWidget:function(){return this._wgt},destroy:function(a){this.end(a);if(this._form){jq(this._form.parentNode).remove();jq("#"+this.id+"_ifm").remove()}this._form=this._upload=this._wgt=null},start:function(){var g=this._wgt,e=this.id+"_ifm";document.body.appendChild(this._parent);if(!jq("#"+e).length){jq.newFrame(e)}this._form.target=e;this._form.submit();this._form.style.display="none";var d=zk.ajaxURI("/upload",{desktop:g.desktop,au:true}),c=g.desktop.id,a=this,f="cmd=uploadInfo&dtid="+c+"&wid="+g.uuid+"&sid="+this._sid;if(zul.Uploader._tmupload){clearInterval(zul.Uploader._tmupload)}function b(){jq.ajax({type:"POST",url:d,data:f,success:function(h){var j=h.split(",");if(h.startsWith("error:")){zul.Uploader.clearInterval(a.id);var i=a.getWidget();if(i){a.cancel();zul.Upload.error(h.substring(6,h.length),i.uuid,a._sid)}}else{if(!a.update(zk.parseInt(j[0]),zk.parseInt(j[1]))){zul.Uploader.clearInterval(a.id)}}},complete:function(j,h){var i;if((i=j.getResponseHeader("ZK-Error"))=="404"||i=="410"||h=="error"||h==410){zul.Uploader.clearInterval(a.id);var k=a.getWidget();if(k){a.cancel();zul.Upload.error(mesg.FAILED_TO_RESPONSE,k.uuid,a._sid)}return}}})}b.id=this.id;zul.Uploader.clearInterval=function(h){if(b.id==h){clearInterval(zul.Uploader._tmupload);zul.Uploader._tmupload=undefined}};zul.Uploader._tmupload=setInterval(b,1000)},cancel:function(){zul.Uploader.clearInterval(this.id);if(this._upload){this._upload.cancel(this._sid)}},update:function(a,b){var c=this.getWidget();if(!c||b<=0){this.end()}else{if(zul.Uploader._tmupload){if(a>=0&&a<=100){this.viewer.update(a,b)}return a>=0&&a<100}}return false},end:function(a){this.viewer.destroy(a);zul.Upload.destroy(this)}});zul.UploadViewer=zk.$extends(zk.Object,{$init:(function(){function b(d,e){var c=zul.UploadViewer.flman;if(!c||!c.desktop){if(c){c.detach()}zul.UploadViewer.flman=c=new zul.UploadManager();d.getWidget().getPage().appendChild(c)}c.removeFile(d);c.addFile(d)}function a(c,d){if(zul.UploadManager){b(c,d)}else{zk.load("zul.wgt,zul.box",function(){zul.UploadManager=zk.$extends(zul.wgt.Popup,{_files:{},$init:function(){this.$supers("$init",arguments);this.setSclass("z-fileupload-manager")},onFloatUp:function(e){var f=e.origin;if(!this.isVisible()){return}this.setTopmost()},getFileItem:function(e){return this._files[e]||zk.Widget.$(e)},addFile:function(f){var h=f.id,g=f.flnm,e=this.getFileItem(h);if(!e){e=new zul.wgt.Div({uuid:h,children:[new zul.wgt.Label({value:g+":"}),new zul.box.Box({mold:"horizontal",children:[new zul.wgt.Progressmeter({id:h,sclass:"z-fileupload-progress"}),new zul.wgt.Div({sclass:"z-fileupload-rm",listeners:{onClick:function(){var i=h.substring(0,h.indexOf("_uplder_"));zul.Uploader.clearInterval(h);var j=zk.Widget.$(i);if(j){j._uplder.cancel(h.substring(h.lastIndexOf("_")+1,h.length))}}}})]}),new zul.wgt.Label({id:h+"_total"}),new zul.wgt.Separator()]});this.appendChild(e);this._files[h]=e}return e},updateFile:function(g,h,e){var i=g.id,f=this.getFileItem(i);if(!f){return}f.$f(i).setValue(h);f.$f(i+"_total").setValue(e)},removeFile:function(g){var i=g.id,f=this.getFileItem(i);if(f){f.detach()}delete this._files[i];var h=true;for(var e in this._files){if(!(h=false)){break}}if(h){this.close()}},open:function(f,e){this.$super("open",f,null,e||"after_start",{sendOnOpen:false,disableMask:true})}});b(c,d)})}}return function(c,d){this._uplder=c;a(c,d)}})(),update:function(b,c){var a=zul.UploadViewer.flman;if(a){if(!a.isOpen()){a.open(this._uplder.getWidget())}a.updateFile(this._uplder,b,mesg.FILE_SIZE+Math.round(c/1024)+mesg.KBYTES)}},destroy:function(){var a=zul.UploadViewer.flman;if(a){a.removeFile(this._uplder)}}});

}finally{zk.setLoaded(zk._n);}})();zk.load('zul',function(){zk._n='zul.wgt';try{zk._p=zk.$package(zk._n,false,true);
zul.wgt.A=zk.$extends(zul.LabelImageWidget,{_dir:"normal",_tabindex:-1,$define:{disabled:function(){this.rerender()},dir:_zkf=function(){var a=this.$n();if(a){a.innerHTML=this.domContent_()}},href:function(a){var b=this.$n();if(b){b.href=a||""}},target:function(a){var b=this.$n();if(b){b.target=a||""}},tabindex:function(a){var b=this.$n();if(b){b.tabIndex=a<0?"":a}}},getZclass:function(){var a=this._zclass;return a?a:"z-a"},bind_:function(){this.$supers("bind_",arguments);if(!this._disabled){var a=this.$n();this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")}},unbind_:function(){var a=this.$n();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_");this.$supers("unbind_",arguments)},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this.getImage();if(!a){return b}a='<img src="'+a+'" align="absmiddle" />';return this.getDir()=="reverse"?b+a:a+b},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(this._disabled&&(!c||!c.zclass)){var a=this.getZclass();if(a){b+=(b?" ":"")+a+"-disd"}}return b},domAttrs_:function(c){var a=this.$supers("domAttrs_",arguments),b;if(b=this.getTarget()){a+=' target="'+b+'"'}if(b=this.getTabindex()){a+=' tabIndex="'+b+'"'}if(b=this.getHref()){a+=' href="'+b+'"'}else{a+=' href="javascript:;"'}return a},doClick_:function(a){if(this._disabled){a.stop()}else{this.fireX(a);if(!a.stopped){this.$super("doClick_",a,true)}}}});
zkreg('zul.wgt.A');zk._m={};
zk._m['default']=function(a){a.push("<a ",this.domAttrs_(),">",this.domContent_(),"</a>")};
;zkmld(zk._p.A,zk._m);zul.wgt.Cell=zk.$extends(zul.Widget,{_colspan:1,_rowspan:1,_rowType:0,_boxType:1,$define:{colspan:function(a){var b=this.$n();if(b){b.colSpan=a}},rowspan:function(a){var b=this.$n();if(b){b.rowSpan=a}},align:function(a){var b=this.$n();if(b){b.align=a}},valign:function(a){var b=this.$n();if(b){b.valign=a}}},_getParentType:function(){var a=zk.isLoaded("zul.grid")&&this.parent.$instanceof(zul.grid.Row);if(!a){return zk.isLoaded("zul.box")&&this.parent.$instanceof(zul.box.Box)?this._boxType:null}return this._rowType},_getRowAttrs:function(){return this.parent._childAttrs(this,this.getChildIndex())},_getBoxAttrs:function(){return this.parent._childInnerAttrs(this)},domAttrs_:function(e){var d=this.$supers("domAttrs_",arguments),b;if((b=this._colspan)!=1){d+=' colspan="'+b+'"'}if((b=this._rowspan)!=1){d+=' rowspan="'+b+'"'}if((b=this._align)){d+=' align="'+b+'"'}if((b=this._valign)){d+=' valign="'+b+'"'}var c,a=zUtl.parseMap(d," ",'"');switch(this._getParentType()){case this._rowType:c=zUtl.parseMap(this._getRowAttrs()," ",'"');break;case this._boxType:c=zUtl.parseMap(this._getBoxAttrs()," ",'"');break}if(c){zk.copy(c,a)}return" "+zUtl.mapToString(c)},getZclass:function(){return this._zclass==null?"z-cell":this._zclass}});
zkreg('zul.wgt.Cell');zk._m={};
zk._m['default']=function(c){c.push("<td",this.domAttrs_(),">");for(var b=0,a=this.firstChild;a;a=a.nextSibling,b++){a.redraw(c)}c.push("</td>")};
;zkmld(zk._p.Cell,zk._m);zul.wgt.Div=zk.$extends(zul.Widget,{});
zkreg('zul.wgt.Div',true);zk._m={};
zk._m['default']=zk.Page.prototype.redraw;
;zkmld(zk._p.Div,zk._m);zul.wgt.Span=zk.$extends(zul.Widget,{});
zkreg('zul.wgt.Span',true);zk._m={};
zk._m['default']=function(b){b.push("<span",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</span>")};
;zkmld(zk._p.Span,zk._m);zul.wgt.Include=zk.$extends(zul.Widget,{_content:"",$define:{content:function(a){var b=this.$n();if(b){if(a&&this._comment){a="<!--\n"+a+"\n-->"}b.innerHTML=a||""}},comment:null},redraw:function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}if(this._comment){b.push("<!--\n")}b.push(this._content);if(this._comment){b.push("\n-->")}b.push("</div>")}});
zkreg('zul.wgt.Include');zul.wgt.Label=zk.$extends(zul.Widget,{_value:"",$define:{value:_zkf=function(){var a=this.$n();if(a){a.innerHTML=this.getEncodedText()}},multiline:_zkf,pre:_zkf},getEncodedText:function(){return zUtl.encodeXML(this._value,{multiline:this._multiline,pre:this._pre})},getZclass:function(){var a=this._zclass;return a!=null?a:"z-label"}});
zkreg('zul.wgt.Label');zk._m={};
zk._m['default']=function(a){a.push("<span",this.domAttrs_(),">",this.getEncodedText(),"</span>")};
;zkmld(zk._p.Label,zk._m);zul.wgt.Button=zk.$extends(zul.LabelImageWidget,{_orient:"horizontal",_dir:"normal",_tabindex:-1,$define:{href:null,target:null,dir:_zkf=function(){this.updateDomContent_()},orient:_zkf,disabled:function(a){if(this.desktop){if(this._mold!="trendy"){this.$n().disabled=a}else{this.rerender()}}},image:function(a){if(this._mold=="trendy"){this.rerender()}else{var b=this.getImageNode();if(b){b.src=a||""}}},tabindex:function(a){var b=this.$n();if(b){(this.$n("btn")||b).tabIndex=a>=0?a:""}},autodisable:null,upload:function(a){var b=this.$n();if(b&&!this._disabled){this._cleanUpld();if(a&&a!="false"){this._initUpld()}}}},updateDomClass_:function(){if(this.desktop){var a=this._mold=="trendy"?this.$n("box"):this.$n();if(a){a.className=this.domClass_()}}},updateDomStyle_:function(){if(this.desktop){var b=this._mold=="trendy"?this.$n("box"):this.$n();var a=jq.parseStyle(this.domStyle_());zk(b).setStyles(a);b=this.getTextNode();if(b){zk(b).css(jq.filterTextStyle(a))}}},setVisible:function(a){if(this._visible!=a){this.$supers("setVisible",arguments);if(this._mold=="trendy"){this.rerender()}}return this},focus:function(a){if(this.desktop&&this.isVisible()&&this.canActivate({checkOnly:true})){zk(this.$n("btn")||this.$n()).focus(a);return true}return false},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this.getImage();if(!a){return b}a='<img src="'+a+'" align="absmiddle" />';var c="vertical"==this.getOrient()?"<br/>":" ";return this.getDir()=="reverse"?b+c+a:a+c+b},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(this._disabled&&(!c||!c.zclass)){var a=this.getZclass();if(a){b+=(b?" ":"")+a+"-disd"}}return b},getZclass:function(){var a=this._zclass;return a!=null?a:this._mold!="trendy"?"z-button-os":"z-button"},bind_:function(){this.$supers("bind_",arguments);var a;if(this._mold!="trendy"){a=this.$n()}else{if(this._disabled){return}zk(this.$n("box")).disableSelection();a=this.$n("btn");if(this._upload||zk.ie){zWatch.listen({onSize:this,onShow:this})}}this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_");if(!this._disabled&&this._upload){this._initUpld()}},unbind_:function(){if(!this._disabled&&this._upload){this._cleanUpld()}var a=this._mold=="trendy",b=!a?this.$n():this.$n("btn");if(b){this.domUnlisten_(b,"onFocus","doFocus_").domUnlisten_(b,"onBlur","doBlur_")}if(this._upload||(zk.ie&&a)){zWatch.unlisten({onSize:this,onShow:this})}this.$supers("unbind_",arguments)},_initUpld:function(){var a;if(a=this._upload){this._uplder=new zul.Upload(this,null,a)}},_cleanUpld:function(){var a;if(a=this._uplder){this._uplder=null;a.destroy()}},onSize:_zkf=zk.ie?function(){var a=this.$n("box");if(a.style.height&&a.offsetHeight){var b=zk.parseInt(jq(a.rows[0].cells[0]).css("height"));if(b!=a.rows[0].cells[0].offsetHeight){a.rows[1].style.height=jq.px(a.offsetHeight-b-zk.parseInt(jq(a.rows[2].cells[0]).css("height")))}}if(this._uplder){this._uplder.sync()}}:function(){if(this._uplder){this._uplder.sync()}},onShow:_zkf,doFocus_:function(a){if(this._mold=="trendy"){jq(this.$n("box")).addClass(this.getZclass()+"-focus")}this.$supers("doFocus_",arguments)},doBlur_:function(a){if(this._mold=="trendy"){jq(this.$n("box")).removeClass(this.getZclass()+"-focus")}this.$supers("doBlur_",arguments)},doClick_:function(a){if(!this._disabled){var e=this._autodisable,d;if(e){e=e.split(",");for(var c=e.length;c--;){var g=e[c].trim();if(g){var f;if(f=g.charAt(0)=="+"){g=g.substring(1)}g="self"==g?this:this.$f(g);if(g){g.setDisabled(true);if(this.inServer){if(f){g.smartUpdate("disabled",true)}else{if(!d){d=[g]}else{d.push(g)}}}}}}}if(d){d=new zul.wgt.ADBS(d);if(this.isListen("onClick",{asapOnly:true})){zWatch.listen({onResponse:d})}else{setTimeout(function(){d.onResponse()},800)}}this.fireX(a);if(!a.stopped){var b=this._href;if(b){zUtl.go(b,false,this._target||(a.data.ctrlKey?"_blank":""))}this.$super("doClick_",a,true)}}},doMouseOver_:function(){if(!this._disabled){jq(this.$n("box")).addClass(this.getZclass()+"-over")}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){if(!this._disabled&&this!=zul.wgt.Button._curdn&&!(zk.ie&&jq.isAncestor(this.$n("box"),a.domEvent.relatedTarget||a.domEvent.toElement))){jq(this.$n("box")).removeClass(this.getZclass()+"-over")}this.$supers("doMouseOut_",arguments)},doMouseDown_:function(){if(!this._disabled){var a=this.getZclass();jq(this.$n("box")).addClass(a+"-clk").addClass(a+"-over");if(!zk.ie||!this._uplder){zk(this.$n("btn")).focus(30)}}zk.mouseCapture=this;this.$supers("doMouseDown_",arguments)},doMouseUp_:function(){if(!this._disabled){var a=this.getZclass();jq(this.$n("box")).removeClass(a+"-clk").removeClass(a+"-over");if(zk.ie&&this._uplder){zk(this.$n("btn")).focus(30)}}this.$supers("doMouseUp_",arguments)}});zul.wgt.ADBS=zk.$extends(zk.Object,{$init:function(a){this._ads=a},onResponse:function(){for(var a=this._ads,b;b=a.shift();){b.setDisabled(false)}zWatch.unlisten({onResponse:this})}});
zkreg('zul.wgt.Button');zk._m={};
zk._m['os']=function(b){b.push("<button",this.domAttrs_());var a=this._tabindex;if(this._disabled){b.push(' disabled="disabled"')}if(a>=0){b.push(' tabindex="',a,'"')}b.push(">",this.domContent_(),"</button>")};
;zk._m['trendy']=function(b){var e=this.getZclass(),a=this._tabindex;a=a>=0?' tabindex="'+a+'"':"";b.push("<span",this.domAttrs_({domStyle:1,domclass:1}),' class="',e,'"');if(!this.isVisible()){b.push(' style="display:none"')}b.push('><table id="',this.uuid,'-box"',zUtl.cellps0);if(a&&!zk.gecko&&!zk.safari){b.push(a)}var d=this.domStyle_();if(d){b.push(' style="',d,'"')}d=this.domClass_();if(d){b.push(' class="',d,'"')}var c='<button id="'+this.uuid+'-btn" class="'+e+'"',d=this.isDisabled();if(d){c+=' disabled="disabled"'}if(a&&(zk.gecko||zk.safari)){c+=a}c+="></button>";b.push('><tr><td class="',e,'-tl">');if(!zk.ie){b.push(c)}b.push('</td><td class="',e,'-tm"></td>','<td class="',e,'-tr"></td></tr>');b.push('<tr><td class="',e,'-cl">');if(zk.ie){b.push(c)}b.push('</td><td class="',e,'-cm">',this.domContent_(),'</td><td class="',e,'-cr"><div></div></td></tr>','<tr><td class="',e,'-bl"></td>','<td class="',e,'-bm"></td>','<td class="',e,'-br"></td></tr></table></span>')};
;zk._m['default']=[zk._p.Button,'os'];zkmld(zk._p.Button,zk._m);zul.wgt.Separator=zk.$extends(zul.Widget,{_orient:"horizontal",$define:{orient:_zkf=function(){this.updateDomClass_()},bar:_zkf,spacing:function(){this.updateDomStyle_()}},isVertical:function(){return this._orient=="vertical"},getZclass:function(){var b=this.zclass,a=this.isBar();return b?b:"z-separator"+(this.isVertical()?"-ver"+(a?"-bar":""):"-hor"+(a?"-bar":""))},domStyle_:function(){var b=this.$supers("domStyle_",arguments);if(!this._isPercentGecko()){return b}var a=zk.parseInt(this._spacing.substring(0,this._spacing.length-1).trim());if(a<=0){return b}a=a>=2?(a/2)+"%":"1%";return"margin:"+(this.isVertical()?"0 "+a:a+" 0")+";"+b},getWidth:function(){var a=this.$supers("getWidth",arguments);return !this.isVertical()||(a!=null&&a.length>0)||this._isPercentGecko()?a:this._spacing},getHeight:function(){var a=this.$supers("getHeight",arguments);return this.isVertical()||(a!=null&&a.length>0)||this._isPercentGecko()?a:this._spacing},_isPercentGecko:function(){return zk.gecko&&this._spacing!=null&&this._spacing.endsWith("%")}});
zkreg('zul.wgt.Separator');zk._m={};
zk._m['default']=function(b){var a=this.isVertical()?"span":"div";b.push("<",a,this.domAttrs_(),">&nbsp;</",a,">")};
;zkmld(zk._p.Separator,zk._m);zul.wgt.Space=zk.$extends(zul.wgt.Separator,{_orient:"vertical"});
zkreg('zul.wgt.Space');zk._m={};
zk._m['default']=zul.wgt.Separator.molds["default"];
;zkmld(zk._p.Space,zk._m);zul.wgt.Caption=zk.$extends(zul.LabelImageWidget,{domDependent_:true,getZclass:function(){var a=this._zclass;return a!=null?a:"z-caption"},domContent_:function(){var b=this.getLabel(),a=this.getImage(),c=this.parent?this.parent._title:"";if(c){b=b?c+" - "+b:c}b=zUtl.encodeXML(b);if(!a){return b}a='<img src="'+a+'" align="absmiddle" />';return b?a+" "+b:a},doClick_:function(){if(this.parent.$instanceof(zul.wgt.Groupbox)){this.parent.setOpen(!this.parent.isOpen())}this.$supers("doClick_",arguments)},_isCollapsibleVisible:function(){var a=this.parent;return a.isCollapsible&&a.isCollapsible()},_isCloseVisible:function(){var a=this.parent;return a.isClosable&&a.isClosable()},_isMinimizeVisible:function(){var a=this.parent;return a.isMinimizable&&a.isMinimizable()},_isMaximizeVisible:function(){var a=this.parent;return a.isMaximizable&&a.isMaximizable()}});
zkreg('zul.wgt.Caption',true);zk._m={};
zk._m['default']=function(b){var d=this.parent;if(d.isLegend&&d.isLegend()){b.push("<legend",this.domAttrs_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</legend>");return}var f=this.getZclass(),c=this.domContent_(),e=d.uuid,g=d.getZclass();b.push("<table",this.domAttrs_(),zUtl.cellps0,' width="100%"><tr valign="middle"><td align="left" class="',f,'-l">',(c?c:"&nbsp;"),'</td><td align="right" class="',f,'-r" id="',this.uuid,'-cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</td>");if(this._isCollapsibleVisible()){b.push('<td width="16"><div id="',e,'-exp" class="',g,"-icon ",g,'-exp"></div></td>')}if(this._isMinimizeVisible()){b.push('<td width="16"><div id="',e,'-min" class="',g,"-icon ",g,'-min"></div></td>')}if(this._isMaximizeVisible()){b.push('<td width="16"><div id="',e,'-max" class="',g,"-icon ",g,"-max");if(d.isMaximized()){b.push(" ",g,"-maximized")}b.push('"></div></td>')}if(this._isCloseVisible()){b.push('<td width="16"><div id="',e,'-close" class="',g,"-icon ",g,'-close"></div></td>')}b.push("</tr></table>")};
;zkmld(zk._p.Caption,zk._m);zul.wgt.Checkbox=zk.$extends(zul.LabelImageWidget,{_tabindex:-1,_checked:false,$define:{disabled:function(a){var b=this.$n("real");if(b){b.disabled=a}},checked:function(a){var b=this.$n("real");if(b){b.checked=a}},name:function(a){var b=this.$n("real");if(b){b.name=a||""}},tabindex:function(a){var b=this.$n("real");if(b){b.tabIndex=a>=0?a:""}}},getZclass:function(){var a=this._zclass;return a!=null?a:"z-checkbox"},contentAttrs_:function(){var b="",a=this.getName();if(a){b+=' name="'+a+'"'}if(this._disabled){b+=' disabled="disabled"'}if(this._checked){b+=' checked="checked"'}a=this._tabindex;if(a>=0){b+=' tabindex="'+a+'"'}return b},bind_:function(b){this.$supers("bind_",arguments);var a=this.$n("real");if(zk.gecko2_){jq(a).click(zul.wgt.Checkbox._domClick)}this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")},unbind_:function(){var a=this.$n("real");if(zk.gecko2_){jq(a).unbind("click",zul.wgt.Checkbox._domClick)}this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_");this.$supers("unbind_",arguments)},doClick_:function(a){var c=this.$n("real"),b=c.checked;if(b!=this._checked){this.setChecked(b).fire("onCheck",b)}return this.$supers("doClick_",arguments)},getTextNode:function(){return jq(this.$n()).find("label:first")[0]}},zk.gecko2_?{_domClick:function(a){var b=a.originalEvent;if(b){b.z$target=b.currentTarget}}}:null);
zkreg('zul.wgt.Checkbox');zk._m={};
zk._m['default']=function(a){var b=this.uuid,c=this.getZclass();a.push("<span",this.domAttrs_(),">",'<input type="checkbox" id="',b,'-real"',this.contentAttrs_(),'/><label for="',b,'-real"',this.domTextStyleAttr_(),' class="',c,'-cnt">',this.domContent_(),"</label></span>")};
;zkmld(zk._p.Checkbox,zk._m);zul.wgt.Groupbox=zk.$extends(zul.Widget,{_open:true,_closable:true,$define:{open:function(c,b){var d=this.$n();if(d&&this._closable){var a=this.$n("panel");if(a){if(c){zk(a).slideDown(this,{afterAnima:this._afterSlideDown})}else{zk(a).slideUp(this,{beforeAnima:this._beforeSlideUp})}}else{jq(d)[c?"removeClass":"addClass"](this.getZclass()+"-colpsd");zWatch.fireDown(c?"onShow":"onHide",this)}if(!b){this.fire("onOpen",{open:c})}}},closable:_zkf=function(){this._updateDomOuter()},contentStyle:_zkf,contentSclass:_zkf},isLegend:function(){return this._mold=="default"},_updateDomOuter:function(){this.rerender(zk.Skipper.nonCaptionSkipper)},_contentAttrs:function(){var a=' class="',b=this._contentSclass;if(b){a+=b+" "}a+=this.getZclass()+'-cnt"';b=this._contentStyle;if(!this.isLegend()&&this.caption){b="border-top:0;"+(b?b:"")}if(b){a+=' style="'+b+'"'}return a},onSize:_zkf=function(){var b=this.$n().style.height;if(b&&b!="auto"){var c=this.$n("cave");if(c){if(zk.ie6_){c.style.height=""}var a=function(){c.style.height=zk(c).revisedHeight(zk(c.parentNode).vflexHeight(),true)+"px"};a();if(zk.gecko){setTimeout(a,0)}}}setTimeout(this.proxy(this._fixShadow),500)},onShow:_zkf,_afterSlideDown:function(a){zWatch.fireDown("onShow",this)},_beforeSlideUp:function(a){zWatch.fireDown("onHide",this)},_fixShadow:function(){var a=this.$n("sdw");if(a){a.style.display=zk.parseInt(jq(this.$n("cave")).css("border-bottom-width"))?"":"none"}},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){this.onSize()}},focus:function(c){if(this.desktop&&this.isVisible()&&this.canActivate({checkOnly:true})){var b=this.caption;for(var a=this.firstChild;a;a=a.nextSibling){if(a!=b&&a.focus(c)){return true}}return b&&b.focus(c)}return false},getZclass:function(){var a=this._zclass;return a?a:this.isLegend()?"z-fieldset":"z-groupbox"},bind_:function(){this.$supers("bind_",arguments);if(!this.isLegend()){zWatch.listen({onSize:this,onShow:this})}},unbind_:function(){if(!this.isLegend()){zWatch.unlisten({onSize:this,onShow:this})}this.$supers("unbind_",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Caption)){this.caption=a}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.caption){this.caption=null}},domClass_:function(){var a=this.$supers("domClass_",arguments);if(!this._open){if(a){a+=" "}a+=this.getZclass()+"-colpsd"}return a}});
zkreg('zul.wgt.Groupbox',true);zk._m={};
zk._m['3d']=function(b,f){var e=this.getZclass(),d=this.uuid,c=this.caption;b.push("<div",this.domAttrs_(),">");if(c){b.push('<div class="',e,'-tl"><div class="',e,'-tr"></div></div><div class="',e,'-hl"><div class="',e,'-hr"><div class="',e,'-hm"><div class="',e,'-header">');c.redraw(b);b.push("</div></div></div></div>")}b.push('<div id="',d,'-panel" class="',e,'-body"');if(!this.isOpen()){b.push(' style="display:none"')}b.push('><div id="',d,'-cave"',this._contentAttrs(),">");if(!f){for(var a=this.firstChild;a;a=a.nextSibling){if(a!=c){a.redraw(b)}}}b.push("</div></div>",'<div id="',d,'-sdw" class="',e,'-bl"><div class="',e,'-br"><div class="',e,'-bm"></div></div></div></div>')};
;zk._m['default']=function(b,d){b.push("<fieldset",this.domAttrs_(),">");var c=this.caption;if(c){c.redraw(b)}b.push('<div id="',this.uuid,'-cave"',this._contentAttrs(),">");if(!d){for(var a=this.firstChild;a;a=a.nextSibling){if(a!=c){a.redraw(b)}}}b.push("</div></fieldset>")};
;zkmld(zk._p.Groupbox,zk._m);zul.wgt.Html=zk.$extends(zul.Widget,{_content:"",$define:{content:function(a){var b=this.$n();if(b){b.innerHTML=a||""}}}});
zkreg('zul.wgt.Html');zk._m={};
zk._m['default']=function(a){a.push("<span",this.domAttrs_(),">",this._content,"</span>")};
;zkmld(zk._p.Html,zk._m);zul.wgt.Popup=zk.$extends(zul.Widget,{_visible:false,isOpen:function(){return this.isVisible()},open:function(e,f,b,d){var a=this._posInfo(e,f,b);var c=this.$n();jq(c).css({position:"absolute"}).zk.makeVParent();if(a){zk(c).position(a.dim,a.pos,d)}this.setVisible(true);this.setFloating_(true);this.setTopmost();if((!d||!d.disableMask)&&this.isListen("onOpen",{asapOnly:true})){this.mask=new zk.eff.Mask({id:this.uuid+"-mask",anchor:c});zWatch.listen({onResponse:this})}if((zk.useStackup===undefined?zk.ie6_:zk.useStackup)){if(!this._stackup){this._stackup=jq.newStackup(c,c.id)}else{this._stackup.style.top=c.style.top;this._stackup.style.left=c.style.left;this._stackup.style.display="block"}}e=zk.Widget.$(e);if(d&&d.sendOnOpen){this.fire("onOpen",{open:true,reference:e})}zk(c).cleanVisibility()},position:function(d,e,b,c){var a=this._posInfo(d,e,b);if(a){zk(this.$n()).position(a.dim,a.pos,c)}},_posInfo:function(c,f,a,b){var g,e;if(c&&a){if(typeof c=="string"){c=zk.Widget.$(c)}if(c){var d=zul.Widget.isInstance(c)?c.$n():c;g=a;e=zk(d).dimension(true)}}else{if(f&&f.$array){e={left:zk.parseInt(f[0]),top:zk.parseInt(f[1]),width:0,height:0}}}if(e){return{pos:g,dim:e}}},onResponse:function(){if(this.mask){this.mask.destroy()}zWatch.unlisten({onResponse:this});this.mask=null},close:function(a){if(this._stackup){this._stackup.style.display="none"}this.setVisible(false);zk(this.$n()).undoVParent();this.setFloating_(false);if(a&&a.sendOnOpen){this.fire("onOpen",{open:false})}},getZclass:function(){var a=this._zclass;return a!=null?a:"z-popup"},onFloatUp:function(a){var c=a.origin;if(!this.isVisible()){return}for(var b;c;c=c.parent){if(c==this){if(!b){this.setTopmost()}return}b=b||c.isFloating_()}this.close({sendOnOpen:true})},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onFloatUp:this,onShow:this});this.setFloating_(true)},unbind_:function(){if(this._stackup){jq(this._stackup).remove();this._stackup=null}zWatch.unlisten({onFloatUp:this,onShow:this});this.setFloating_(false);this.$supers("unbind_",arguments)},onShow:function(){this._fixWdh();this._fixHgh()},_offsetHeight:function(){var c=this.$n(),b=c.offsetHeight-1,a=jq(c).find("> div:first-child")[0],f=jq(c).find("> div:last")[0],e=this.getCaveNode().parentNode,d=this.$n("body");b-=a.offsetHeight;b-=f.offsetHeight;b-=zk(e).padBorderHeight();b-=zk(d).padBorderHeight();return b},_fixHgh:function(){var a=this.$n().style.height,b=this.getCaveNode();if(zk.ie6_&&((a&&a!="auto")||b.style.height)){b.style.height="0px"}if(a&&a!="auto"){zk(b).setOffsetHeight(this._offsetHeight())}else{b.style.height="auto"}},_fixWdh:zk.ie7?function(){var d=this.$n(),a=d.style.width,g=jq(d).children("div"),c=g[0],b=g[g.length-1],f=this.$n("cave").parentNode;if(!a||a=="auto"){var e=zk(f.parentNode).padBorderWidth()+zk(f.parentNode.parentNode).padBorderWidth();if(c){c.firstChild.style.width=jq.px(f.offsetWidth-(zk(c).padBorderWidth()+zk(c.firstChild).padBorderWidth()-e))}if(b){b.firstChild.style.width=jq.px(f.offsetWidth-(zk(b).padBorderWidth()+zk(b.firstChild).padBorderWidth()-e))}}else{if(c){c.firstChild.style.width=""}if(b){b.firstChild.style.width=""}}}:zk.$void,setWidth:function(a){this.$supers("setWidth",arguments);zWatch.fireDown("onShow",this)},prologHTML_:function(a){},epilogHTML_:function(a){}});
zkreg('zul.wgt.Popup',true);zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<div",this.domAttrs_(),'><div class="',c,'-tl"><div class="',c,'-tr"></div></div>','<div id="',this.uuid,'-body" class="',c,'-cl"><div class="',c,'-cr"><div class="',c,'-cm">','<div id="',this.uuid,'-cave" class="',c,'-cnt">');this.prologHTML_(b);for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}this.epilogHTML_(b);b.push('</div></div></div></div><div class="',c,'-bl"><div class="',c,'-br"></div></div></div>')};
;zkmld(zk._p.Popup,zk._m);zul.wgt.Radio=zk.$extends(zul.wgt.Checkbox,{$define:{value:function(a){var b=this.$n("real");if(b){b.value=a||""}}},getRadiogroup:function(a){var b=a||this.parent;for(;b;b=b.parent){if(b.$instanceof(zul.wgt.Radiogroup)){return b}}return null},setChecked:_zkf=function(c){if(c!=this._checked){this._checked=c;var e=this.$n("real");if(e){e.checked=c||false;var d=this.getRadiogroup();if(d){if(c){for(var a=d.getItems(),b=a.length;b--;){if(a[b]!=this){a[b].$n("real").checked=false;a[b]._checked=false}}}d._fixSelectedIndex()}}}return this},setSelected:_zkf,isSelected:zul.wgt.Checkbox.prototype.isChecked,getName:function(){var a=this.getRadiogroup();return a!=null?a.getName():this.uuid},contentAttrs_:function(){var a=this.$supers("contentAttrs_",arguments);a+=' value="'+this.getValue()+'"';return a},getZclass:function(){var a=this._zclass;return a!=null?a:"z-radio"},beforeParentChanged_:function(b){var a=this.getRadiogroup(),b=b?this.getRadiogroup(b):null;if(a!=b){if(a&&a.$instanceof(zul.wgt.Radiogroup)){a._fixOnRemove(this)}if(b&&b.$instanceof(zul.wgt.Radiogroup)){b._fixOnAdd(this)}}}});
zkreg('zul.wgt.Radio');zk._m={};
zk._m['default']=function(b){var c=this.uuid,d=this.getZclass(),a=this.getRadiogroup();b.push("<span",this.domAttrs_(),">",'<input type="radio" id="',c,'-real"',this.contentAttrs_(),'/><label for="',c,'-real"',this.domTextStyleAttr_(),' class="',d,'-cnt">',this.domContent_(),"</label>",(a&&a._orient=="vertical"?"<br/>":""),"</span>")};
;zkmld(zk._p.Radio,zk._m);zul.wgt.Radiogroup=zk.$extends(zul.Widget,{_orient:"horizontal",_jsel:-1,$define:{orient:function(){this.rerender()},name:function(b){for(var a=this.getItems(),c=a.length;c--;){a[c].setName(name)}}},getItemAtIndex:function(a){if(a<0){return null}return this._getAt(this,{value:0},a)},getItemCount:function(){return this.getItems().length},getItems:function(){return this._concatItem(this)},getSelectedIndex:function(){return this._jsel},setSelectedIndex:function(a){if(a<0){a=-1}if(this._jsel!=a){if(a<0){getSelectedItem().setSelected(false)}else{getItemAtIndex(a).setSelected(true)}}},getSelectedItem:function(){return this._jsel>=0?this.getItemAtIndex(this._jsel):null},setSelectedItem:function(a){if(a==null){this.setSelectedIndex(-1)}else{if(a.$instanceof(zul.wgt.Radio)){a.setSelected(true)}}},appendItem:function(a,c){var b=new zul.wgt.Radio();b.setLabel(a);b.setValue(c);this.appendChild(b);return b},removeItemAt:function(a){var b=this.getItemAtIndex(a);this.removeChild(b);return b},_fixSelectedIndex:function(){this._jsel=this._fixSelIndex(this,{value:0})},_concatItem:function(b){var a=[];for(var c=b.firstChild;c;c=c.nextSibling){if(c.$instanceof(zul.wgt.Radio)){a.push(c)}else{if(!c.$instanceof(zul.wgt.Radiogroup)){a=a.concat(this._concatItem(c))}}}return a},_getAt:function(d,f,a){for(var b=0,e=d.firstChild;e;e=e.nextSibling){if(e.$instanceof(zul.wgt.Radio)){if(b.value++==a){return e}}else{if(!e.$instanceof(zul.wgt.Radiogroup)){var c=this._getAt(e,f,a);if(c!=null){return c}}}}return null},_fixOnAdd:function(a){if(this._jsel>=0&&a.isSelected()){a.setSelected(false)}else{this._fixSelectedIndex()}},_fixOnRemove:function(a){if(a.isSelected()){this._jsel=-1}else{if(this._jsel>0){this._fixSelectedIndex()}}},_fixSelIndex:function(a,d){for(var c=a.firstChild;c;c=c.nextSibling){if(c.$instanceof(zul.wgt.Radio)){if(c.isSelected()){return d.value}++d.value}else{if(!c.$instanceof(zul.wgt.Radiogroup)){var b=this._fixSelIndex(c,d);if(b>=0){return b}}}}return -1}});
zkreg('zul.wgt.Radiogroup');zk._m={};
zk._m['default']=function(b){b.push("<span",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</span>")};
;zkmld(zk._p.Radiogroup,zk._m);zul.wgt.Toolbar=zk.$extends(zul.Widget,{_orient:"horizontal",_align:"start",$define:{align:_zkf=function(){this.rerender()},orient:_zkf},getZclass:function(){var a=this._zclass;return a?a:"z-toolbar"+(this.parent&&zk.isLoaded("zul.tab")&&this.parent.$instanceof(zul.tab.Tabbox)?"-tabs":"")+(this.inPanelMold()?"-panel":"")},inPanelMold:function(){return this._mold=="panel"},onChildAdded_:function(){this.$supers("onChildAdded_",arguments);if(this.inPanelMold()){this.rerender()}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);if(this.inPanelMold()){this.rerender()}}});
zkreg('zul.wgt.Toolbar',true);zk._m={};
zk._m['panel']=function(b){var c=this.getZclass();b.push("<div ",this.domAttrs_(),">",'<div class="',c,"-body ",c,"-",this.getAlign(),'" >','<table id="',this.uuid,'-cnt" class="',c,'-cnt"',zUtl.cellps0,"><tbody>");if("vertical"!=this.getOrient()){b.push("<tr>");for(var a=this.firstChild;a;a=a.nextSibling){b.push('<td class="',c,'-hor">');a.redraw(b);b.push("</td>")}b.push("</tr>")}else{for(var a=this.firstChild;a;a=a.nextSibling){b.push('<tr><td class="',c,'-ver">');a.redraw(b);b.push("</td></tr>")}}b.push('</tbody></table><div class="z-clear"></div></div></div>')};
;zk._m['default']=function(b){var d=this.getZclass(),c="vertical"!=this.getOrient()?"":"<br/>";b.push("<div ",this.domAttrs_(),">",'<div id="',this.uuid,'-cave"',' class="',d,"-body ",d,"-",this.getAlign(),'" >');for(var a=this.firstChild;a;a=a.nextSibling){b.push(c);a.redraw(b)}b.push('</div><div class="z-clear"></div></div>')};
;zkmld(zk._p.Toolbar,zk._m);zul.wgt.Toolbarbutton=zk.$extends(zul.LabelImageWidget,{_orient:"horizontal",_dir:"normal",_tabindex:-1,$define:{disabled:function(){this.rerender()},href:null,target:null,dir:_zkf=function(){this.updateDomContent_()},orient:_zkf,tabindex:function(a){var b=this.$n();if(b){b.tabIndex=a<0?"":a}},upload:function(a){var b=this.$n();if(b&&!this._disabled){this._cleanUpld();if(a&&a!="false"){this._initUpld()}}}},getZclass:function(){var a=this._zclass;return a?a:"z-toolbar-button"},bind_:function(){this.$supers("bind_",arguments);if(!this._disabled){var a=this.$n();this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")}if(!this._disabled&&this._upload){this._initUpld()}},unbind_:function(){if(!this._disabled&&this._upload){this._cleanUpld()}var a=this.$n();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_");this.$supers("unbind_",arguments)},_initUpld:function(){var a;if(a=this._upload){this._uplder=new zul.Upload(this,null,a)}},_cleanUpld:function(){var a;if(a=this._uplder){this._uplder=null;a.destroy()}},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this.getImage();if(!a){return b}a='<img src="'+a+'" align="absmiddle" />';var c="vertical"==this.getOrient()?"<br/>":"&nbsp;";return this.getDir()=="reverse"?b+c+a:a+c+b},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(this._disabled&&(!c||!c.zclass)){var a=this.getZclass();if(a){b+=(b?" ":"")+a+"-disd"}}return b},domAttrs_:function(c){var a=this.$supers("domAttrs_",arguments),b=this.getTabindex();if(b){a+=' tabIndex="'+b+'"'}return a},doClick_:function(a){if(!this.isDisabled()){this.fireX(a);if(!a.stopped){var b=this._href;if(b){zUtl.go(b,false,this._target||(a.data.ctrlKey?"_blank":""))}this.$super("doClick_",a,true)}}},doMouseOver_:function(a){if(!this.isDisabled()){jq(this).addClass(this.getZclass()+"-over");this.$supers("doMouseOver_",arguments)}},doMouseOut_:function(a){if(!this.isDisabled()){jq(this).removeClass(this.getZclass()+"-over");this.$supers("doMouseOut_",arguments)}}});
zkreg('zul.wgt.Toolbarbutton');zk._m={};
zk._m['default']=function(a){var b=this.getZclass();a.push("<div ",this.domAttrs_(),'><div class="',b,'-body"><div class="',b,'-cnt">',this.domContent_(),"</div></div></div>")};
;zkmld(zk._p.Toolbarbutton,zk._m);zul.wgt.Image=zk.$extends(zul.Widget,{$define:{src:function(a){var b=this.getImageNode();if(b){b.src=a||""}},hover:null,align:function(a){var b=this.getImageNode();if(b){b.align=a||""}},border:function(a){var b=this.getImageNode();if(b){b.border=a||""}},hspace:function(a){var b=this.getImageNode();if(b){b.hspace=a}},vspace:function(a){var b=this.getImageNode();if(b){b.vspace=a}}},getImageNode:function(){return this.$n()},doMouseOver_:function(){var b=this._hover;if(b){var a=this.getImageNode();if(a){a.src=b}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(){if(this._hover){var a=this.getImageNode();if(a){a.src=this._src||""}}this.$supers("doMouseOut_",arguments)},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments);if(!b||!b.content){a+=this.contentAttrs_()}return a},contentAttrs_:function(){var a=' src="'+(this._src||"")+'"',b;if(b=this._align){a+=' align="'+b+'"'}if(b=this._border){a+=' border="'+b+'"'}if(b=this._hspace){a+=' hspace="'+b+'"'}if(b=this._vspace){a+=' vspace="'+b+'"'}return a}});
zkreg('zul.wgt.Image');zk._m={};
zk._m['alphafix']=function(a){a.push("<image",this.domAttrs_(),"/>")};
;zk._m['default']=[zk._p.Image,'alphafix'];zkmld(zk._p.Image,zk._m);zul.wgt.Imagemap=zk.$extends(zul.wgt.Image,{bind_:function(){this.$supers("bind_",arguments);if(!jq("#zk_hfr_")[0]){jq.newFrame("zk_hfr_",null,zk.safari?"width:0;height:0;display:inline":null)}},getImageNode:function(){return this.$n("real")},getCaveNode:function(){return this.$n("map")},doClick_:function(a){},onChildAdded_:function(){this.$supers("onChildAdded_",arguments);if(this.desktop&&this.firstChild==this.lastChild){this._fixchd(true)}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);if(this.desktop&&!this.firstChild){this._fixchd(false)}},_fixchd:function(b){var a=this.uuid+"-map";img=this.getImageNode();img.useMap=b?"#"+a:"";img.isMap=!b},contentAttrs_:function(){var a=this.$supers("contentAttrs_",arguments);return a+(this.firstChild?' usemap="#'+this.uuid+'-map"':' ismap="ismap"')},_doneURI:function(){var a=zul.wgt.Imagemap,b=a._doneURI;return b?b:a._doneURI=zk.IMAGEMAP_DONE_URI?zk.IMAGEMAP_DONE_URI:zk.ajaxURI("/web/zul/html/imagemap-done.html",{desktop:this.desktop,au:true})}},{onclick:function(b){if(zul.wgt.Imagemap._toofast()){return}var c=b.indexOf("?");if(c<0){return}var a=b.indexOf("?",++c);if(a<0){return}var e=b.substring(c,a),d=zk.Widget.$(e);if(!d){return}c=b.indexOf(",",++a);if(c<0){return}d.fire("onClick",{x:zk.parseInt(b.substring(a,c)),y:zk.parseInt(b.substring(c+1))},{ctl:true})},_toofast:function(){if(zk.gecko){var a=zul.wgt.Imagemap,b=zUtl.now();if(a._stamp&&b-a._stamp<800){return true}a._stamp=b}return false}});
zkreg('zul.wgt.Imagemap');zk._m={};
zk._m['alphafix']=function(c){var d=this.uuid,b=d+"-map";c.push("<span",this.domAttrs_({content:1}),'><a href="',this._doneURI(),"?",d,'" target="zk_hfr_"><img id="',d,'-real"',this.contentAttrs_(),'/></a><map name="',b,'" id="',b,'">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(c)}c.push("</map></span>")};
;zk._m['default']=[zk._p.Imagemap,'alphafix'];zkmld(zk._p.Imagemap,zk._m);zul.wgt.Area=zk.$extends(zk.Widget,{$define:{shape:function(a){var b=this.$n();if(b){b.shape=a||""}},coords:function(a){var b=this.$n();if(b){b.coords=v||""}}},doClick_:function(a){if(zul.wgt.Imagemap._toofast()){return}var b=this.id||this.uuid;this.parent.fire("onClick",{area:b},{ctl:true});a.stop()},domAttrs_:function(c){var a=this.$supers("domAttrs_",arguments)+' href="javascript:;"',b;if(b=this._coords){a+=' coords="'+b+'"'}if(b=this._shape){a+=' shape="'+b+'"'}return a}});
zkreg('zul.wgt.Area');zk._m={};
zk._m['default']=function(a){a.push("<area",this.domAttrs_(),"/>")};
;zkmld(zk._p.Area,zk._m);zul.wgt.Chart=zk.$extends(zul.wgt.Imagemap,{});
zkreg('zul.wgt.Chart');zk._m={};
zk._m['default']=[zk._p.Imagemap,'alphafix'];zkmld(zk._p.Chart,zk._m);zul.wgt.Captcha=zk.$extends(zul.wgt.Image,{});
zkreg('zul.wgt.Captcha');zk._m={};
zk._m['default']=[zk._p.Image,'alphafix'];zkmld(zk._p.Captcha,zk._m);zul.wgt.Progressmeter=zk.$extends(zul.Widget,{_value:0,$define:{value:function(){if(this.$n()){this._fixImgWidth()}}},getZclass:function(){var a=this._zclass;return a!=null?a:"z-progressmeter"},_fixImgWidth:_zkf=function(){var b=this.$n(),a=this.$n("img");if(a){if(zk.ie6_){a.style.width=""}a.style.width=Math.round((b.clientWidth*this._value)/100)+"px"}},onSize:_zkf,onShow:_zkf,bind_:function(){this.$supers("bind_",arguments);this._fixImgWidth(this._value);zWatch.listen({onSize:this,onShow:this})},unbind_:function(){zWatch.unlisten({onSize:this,onShow:this});this.$supers("unbind_",arguments)},setWidth:function(a){this.$supers("setWidth",arguments);this._fixImgWidth()}});
zkreg('zul.wgt.Progressmeter');zk._m={};
zk._m['default']=function(a){a.push("<div",this.domAttrs_(),'><span id="',this.uuid,'-img"','class="',this.getZclass(),'-img"></span></div>')};
;zkmld(zk._p.Progressmeter,zk._m);zul.wgt.Fileupload=zk.$extends(zul.wgt.Button,{});
zkreg('zul.wgt.Fileupload');
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.wgt',1);zk.load('zul',function(){zk._n='zul.box';try{zk._p=zk.$package(zk._n,false,true);
zul.box.Box=zk.$extends(zul.Widget,{_mold:"vertical",_align:"start",_pack:"stretch",$define:{align:[function(a){if(a=="stretch"){this._bindAlign()}else{this._unbindAlign()}return a},_zkf=function(){this.rerender()}],pack:_zkf,spacing:_zkf},isVertical:function(){return"vertical"==this._mold},getOrient:function(){return this._mold},getZclass:function(){var a=this._zclass;return a!=null?a:this.isVertical()?"z-vbox":"z-hbox"},onChildVisible_:function(b,a){this.$supers("onChildVisible_",arguments);if(this.desktop){this._fixChildDomVisible(b,a)}},replaceChildHTML_:function(a){this.$supers("replaceChildHTML_",arguments);this._fixChildDomVisible(a,a._visible)},_fixChildDomVisible:function(c,a){var b=this._chdextr(c);if(b){b.style.display=a?"":"none"}b=c.$n("chdex2");if(b){b.style.display=a&&b.offsetHeight?"":"none"}if(this.lastChild==c){b=c.previousSibling;if(b){b=b.$n("chdex2");if(b){b.style.display=a?"":"none"}}}},_chdextr:function(a){return a.$n("chdex")||a.$n()},insertChildHTML_:function(e,b,d){if(b){jq(this._chdextr(b)).before(this.encloseChildHTML_(e))}else{var c=this.$n(),a=c.tBodies;if(!a||!a.length){c.appendChild(document.createElement("TBODY"))}jq(this.isVertical()?a[0]:a[0].rows[0]).append(this.encloseChildHTML_(e,true))}e.bind(d)},removeChildHTML_:function(b,a){this.$supers("removeChildHTML_",arguments);jq(b.uuid+"-chdex",zk).remove();jq(b.uuid+"-chdex2",zk).remove();if(a&&this.lastChild==a){jq(a.uuid+"-chdex2",zk).remove()}},encloseChildHTML_:function(h,c,f){var b=[],d=h.$instanceof(zul.wgt.Cell);if(this.isVertical()){b.push('<tr id="',h.uuid,'-chdex"',this._childOuterAttrs(h),">");if(!d){b.push("<td",this._childInnerAttrs(h),">")}h.redraw(b);if(!d){b.push("</td>")}b.push("</tr>")}else{if(!d){b.push('<td id="',h.uuid,'-chdex"',this._childOuterAttrs(h),this._childInnerAttrs(h),">")}h.redraw(b);if(!d){b.push("</td>")}}if(h.nextSibling){b.push(this._spacingHTML(h))}else{if(c){var g=h.previousSibling;if(g){b.unshift(this._spacingHTML(g))}}}if(!f){return b.join("")}for(var e=0,a=b.length;e<a;++e){f.push(b[e])}},_resetBoxSize:function(){var d=this.isVertical(),c=-1,b=this._sizes;if(d){for(var a=this.firstChild;a;a=a.nextSibling){if(b&&!a.$instanceof(zul.box.Splitter)&&!a.$instanceof(zul.wgt.Cell)){++c}if(a._nvflex){a.setFlexSize_({height:""});var e=a.$n("chdex");if(e){e.style.height=b&&c<b.length?b[c]:""}}}}else{for(var a=this.firstChild;a;a=a.nextSibling){if(b&&!a.$instanceof(zul.box.Splitter)&&!a.$instanceof(zul.wgt.Cell)){++c}if(a._nhflex){a.setFlexSize_({width:""});var e=a.$n("chdex");if(e){e.style.width=b&&c<b.length?b[c]:""}}}}var f=this.$n(),g=zk(f);return g?{height:g.revisedHeight(f.offsetHeight),width:g.revisedWidth(f.offsetWidth)}:{}},beforeChildrenFlex_:function(g){if(g._flexFixed||(!g._nvflex&&!g._nhflex)){delete g._flexFixed;return false}g._flexFixed=true;var z=this.isVertical(),B=[],G=z?0:1,a=[],D=!z?0:1,r=g.$n("chdex").parentNode,o=zk(r),n=this._resetBoxSize(),i=n.height,u=n.width,y=r.firstChild,w=-1,q=this._sizes;for(;y;y=y.nextSibling){var E=y.id&&y.id.endsWith("-chdex")?z?y.firstChild.firstChild:y.firstChild:y,A=zk(E),s=false;if(A.isVisible()){var x=E.id?E.id.indexOf("-"):1,f=x<0?zk.Widget.$(E.id):null;if(q&&f&&!f.$instanceof(zul.box.Splitter)&&!f.$instanceof(zul.wgt.Cell)){++w;if(w<q.length&&q[w]&&((z&&!f._nvflex)||(!z&&!f._nhflex))){E=y;A=zk(E);s=q[w].endsWith("px")}}var e=s&&z?zk.parseInt(q[w]):zk.ie&&y.id&&y.id.endsWith("-chdex2")&&y.style.height&&y.style.height.endsWith("px")?zk.parseInt(y.style.height):A.offsetHeight(),m=s&&!z?zk.parseInt(q[w]):A.offsetWidth(),l=m+A.sumStyles("lr",jq.margins),d=e+A.sumStyles("tb",jq.margins);if(f&&f._nvflex){if(f!==g){f._flexFixed=true}if(f._vflex=="min"){_setMinFlexSize(f,E,"height")}else{B.push(f);if(z){G+=f._nvflex}}}else{if(z){i-=d}}if(f&&f._nhflex){if(f!==g){f._flexFixed=true}if(f._hflex=="min"){_setMinFlexSize(f,E,"width")}else{a.push(f);if(!z){D+=f._nhflex}}}else{if(!z){u-=l}}}}var F=i>0?i:0;for(var x=B.length-1;x>0;--x){var f=B.shift(),C=(f._nvflex*i/G)|0,h=f.$n().offsetTop,t=C-((zk.ie&&h>0)?(h*2):0);f.setFlexSize_({height:t});f._vflexsize=C;if(!f.$instanceof(zul.wgt.Cell)){var v=f.$n("chdex");v.style.height=jq.px(zk(v).revisedHeight(C,true))}if(z){F-=C}}if(B.length){var f=B.shift(),h=f.$n().offsetTop,t=F-((zk.ie&&h>0)?(h*2):0);f.setFlexSize_({height:t});f._vflexsize=F;if(!f.$instanceof(zul.wgt.Cell)){var v=f.$n("chdex");v.style.height=jq.px(zk(v).revisedHeight(F,true))}}F=u>0?u:0;for(var x=a.length-1;x>0;--x){var f=a.shift(),b=(f._nhflex*u/D)|0;f.setFlexSize_({width:b});f._hflexsize=b;if(!f.$instanceof(zul.wgt.Cell)){var v=f.$n("chdex");v.style.width=jq.px(zk(v).revisedWidth(b,true))}if(!z){F-=b}}if(a.length){var f=a.shift();f.setFlexSize_({width:F});f._hflexsize=F;if(!f.$instanceof(zul.wgt.Cell)){var v=f.$n("chdex");v.style.width=jq.px(zk(v).revisedWidth(F,true))}}g.parent.afterChildrenFlex_(g);g._flexFixed=false;return false},_spacingHTML:function(g){var a=[],f=this._spacing,e=f&&f.startsWith("0")&&(f.length==1||zUtl.isChar(f.charAt(1),{digit:1})),c=this.isVertical(),b=f?(c?"height:":"width:")+f:"px";a.push("<t",c?"r":"d",' id="',g.uuid,'-chdex2" class="',this.getZclass(),'-sep"');var d=b;if(e||!g.isVisible()){d="display:none;"+d}if(d){a.push(' style="',d,'"')}a.push(">",c?"<td>":"",zUtl.img0,c?"</td></tr>":"</td>");return a.join("")},_childOuterAttrs:function(c){var b="";if(c.$instanceof(zul.box.Splitter)){b=' class="'+c.getZclass()+'-outer"'}else{if(this.isVertical()){if(this._isStretchPack()){var a=this._pack2;b=' valign="'+(a?zul.box.Box._toValign(a):"top")+'"'}else{b=' valign="top"'}}else{return""}}if(!c.isVisible()){b+=' style="display:none"'}return b},_childInnerAttrs:function(b){var g="",h=this.isVertical(),d=zul.box.Splitter;if(b.$instanceof(d)){return h?' class="'+b.getZclass()+'-outer-td"':""}if(this._isStretchPack()){var l=h?this.getAlign():this._pack2;if(l){g+=' align="'+zul.box.Box._toHalign(l)+'"'}}var a="",f=this._sizes;if(f){for(var e=0,i=f.length,k=this.firstChild;k&&e<i;k=k.nextSibling){if(b==k){a=(h?"height:":"width:")+f[e];break}if(!k.$instanceof(d)){++e}}}if(!h&&!b.isVisible()){a+=a?";display:none":"display:none"}if(!h){a+=a?";height:100%":"height:100%"}return a?g+' style="'+a+'"':g},_isStretchPack:function(){return this._splitterKid||this._stretchPack},_bindWatch:function(){if(!this._watchBound){this._watchBound=true;zWatch.listen({onSize:this,onShow:this,onHide:this})}},bind_:function(){this.$supers("bind_",arguments);if(this._align=="stretch"){this._bindAlign()}},unbind_:function(){if(this._watchBound){this._watchBound=false;zWatch.unlisten({onSize:this,onShow:this,onHide:this})}this._unbindAlign();this.$supers("unbind_",arguments)},_bindAlign:function(){if(!this._watchAlign){this._watchAlign=true;zWatch.listen({onSize:[this,this._fixAlign],onShow:[this,this._fixAlign],onHide:[this,this._fixAlign]})}},_unbindAlign:function(){if(!this._watchAlign){zWatch.unlisten({onSize:[this,this._fixAlign],onShow:[this,this._fixAlign],onHide:[this,this._fixAlign]});delete this._watchAlign}},_fixAlign:function(){if(this._align=="stretch"){var a=this.isVertical(),b=0;for(var f=this.firstChild;f;f=f.nextSibling){if(f.isVisible()){var e=f.$n();if(!b){var d=e.parentNode;b=a?zk(d).revisedWidth(d.offsetWidth):zk(d).revisedHeight(d.offsetHeight)}if(a){e.style.width=zk(e).revisedWidth(b,true)+"px"}else{e.style.height=zk(e).revisedHeight(b-((zk.ie&&e.offsetTop>0)?(e.offsetTop*2):0),true)+"px"}}}}},_configPack:function(){var a=this._pack;if(a){var a=a.split(",");if(a[0].trim()=="stretch"){this._stretchPack=true;this._pack2=a.length>1?a[1].trim():null}else{this._stretchPack=a.length>1&&a[1].trim()=="stretch";this._pack2=a[0].trim()}}else{delete this._pack2;delete this._stretchPack}},onSize:_zkf=function(){if(!this._splitterKid){return}var f=this.isVertical(),a=this.$n(),k=this.$n("real");k.style.height=k.style.width="100%";var b=f?k.rows:k.rows[0].cells,j=f?zk(k).revisedHeight(k.offsetHeight):zk(k).revisedWidth(k.offsetWidth);for(var e=b.length;e--;){var g=b[e];if(zk(g).isVisible()){if(f){var l=g.offsetHeight;if(g.id&&!g.id.endsWith("-chdex2")){if(g.cells.length){var h=g.cells[0];h.style.height=zk(h).revisedHeight(e?l:j)+"px";g.style.height=""}else{g.style.height=zk(g).revisedHeight(e?l:j)+"px"}}j-=l}else{var l=g.offsetWidth;if(g.id&&!g.id.endsWith("-chdex2")){g.style.width=zk(g).revisedWidth(e?l:j)+"px"}j-=l}}}},onShow:_zkf,onHide:_zkf},{_toValign:function(a){return a?"start"==a?"top":"center"==a?"middle":"end"==a?"bottom":a:null},_toHalign:function(a){return a?"start"==a?"left":"end"==a?"right":a:null}});
zkreg('zul.box.Box');zk._m={};
zk._m['vertical']=function(c){delete this._splitterKid;for(var a=this.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.box.Splitter)){this._splitterKid=true;break}}this._configPack();c.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");if(!this._isStretchPack()&&this._pack2){c.push(' valign="',zul.box.Box._toValign(this._pack2),'"')}c.push('><td style="width:100%');if(zk.ie){c.push(";height:100%")}c.push('"');var b=this.getAlign();if(b&&b!="stretch"){c.push(' align="',zul.box.Box._toHalign(b),'"')}c.push('><table id="',this.uuid,'-real"',zUtl.cellps0,'style="text-align:left');if(b=="stretch"){c.push(";width:100%")}if(this._isStretchPack()){c.push(";height:100%")}c.push('">');for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,false,c)}c.push("</table></td></tr></table>")};
;zk._m['horizontal']=function(c){delete this._splitterKid;for(var a=this.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.box.Splitter)){this._splitterKid=true;break}}this._configPack();c.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");var b=this.getAlign();if(b&&b!="stretch"){c.push(' valign="',zul.box.Box._toValign(b),'"')}c.push('><td style="width:100%;height:100%"');if(!this._isStretchPack()&&this._pack2){c.push(' align="',zul.box.Box._toHalign(this._pack2),'"')}c.push('><table id="',this.uuid,'-real"',zUtl.cellps0,'style="text-align:left');if(b=="stretch"){c.push(";height:100%")}if(this._isStretchPack()){c.push(";width:100%")}c.push('"><tr valign="',this._isStretchPack()&&b&&b!="stretch"?zul.box.Box._toValign(b):"top",'">');for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,false,c)}c.push("</tr></table></td></tr></table>")};
;zkmld(zk._p.Box,zk._m);zul.box.Splitter=zk.$extends(zul.Widget,{_collapse:"none",_open:true,$define:{open:function(h,a){var f=this.$n();if(!f){return}var p=this.getCollapse();if(!p||"none"==p){return}var g=this.$n("chdex"),i=this.isVertical(),o=this.$class,m=p=="before",e=m?o._prev(g):o._next(g),k=zk.Widget.$(e),d=i?"height":"width",n;if(e){if(!h){zWatch.fireDown("onHide",k)}k.setDomVisible_(e,h);k.parent._fixChildDomVisible(k,h);var l=i&&e.cells.length?e.cells[0]:e;n=zk.parseInt(l.style[d]);if(!m&&k&&!k.nextSibling){var b=this.$n("chdex2");if(b){b.style.display=h?"":"none";n+=zk.parseInt(b.style[d])}}}var j=m?o._next(g):o._prev(g);if(j){var l=i&&j.cells.length?j.cells[0]:j;n=zk.parseInt(l.style[d])+(h?-n:n);if(n<0){n=0}l.style[d]=n+"px"}if(e&&h){zWatch.fireDown("onShow",k)}if(j){zWatch.fireDown("onSize",zk.Widget.$(j))}f.style.cursor=!h?"default":i?"s-resize":"e-resize";this._fixNSDomClass();this._fixbtn();this._fixszAll();if(!a||a.sendOnOpen){this.fire("onOpen",{open:h})}}},isVertical:function(){var a=this.parent;return !a||a.isVertical()},getOrient:function(){var a=this.parent;return a?a.getOrient():"vertical"},getCollapse:function(){return this._collapse},setCollapse:function(b){if(this._collapse!=b){var a=this._open;if(!a){this.setOpen(true,{sendOnOpen:false})}this._collapse=b;if(this.desktop){this._fixbtn();this._fixsz()}if(!a){this.setOpen(false,{sendOnOpen:false})}}},getZclass:function(){var b=this._zclass,a=this.getMold()=="os"?"z-splitter-os":"z-splitter";return b?b:a+(this.isVertical()?"-ver":"-hor")},setZclass:function(){this.$supers("setZclass",arguments);if(this.desktop){this._fixDomClass(true)}},bind_:function(){this.$supers("bind_",arguments);var e=this.parent;if(e){e._bindWatch()}zWatch.listen({onSize:this,beforeSize:this,onShow:this});this._fixDomClass();var c=this.$n(),i=this.$class,f=this.isVertical(),a=this.button=this.$n("btn");c.style.cursor=this.isOpen()?f?"s-resize":"e-resize":"default";a.style.cursor="pointer";if(!this.inDesign){var h=jq(a);if(zk.ie){h.mouseover(i.onover).mouseout(i.onout)}h.click(i.onclick)}this._fixbtn();this._drag=new zk.Draggable(this,c,{constraint:this.getOrient(),ignoredrag:i._ignoresizing,ghosting:i._ghostsizing,overlay:true,snap:i._snap,endeffect:i._endDrag});if(!this.isOpen()){var d=this.$n("chdex"),j=this.getCollapse();if(!j||"none"==j){return}var b=j=="before"?i._prev(d):i._next(d);jq(b).hide();var g=zk.Widget.$(b);g.parent._fixChildDomVisible(g,false);this._fixNSDomClass()}},unbind_:function(){zWatch.unlisten({onSize:this,beforeSize:this,onShow:this});var c=this.$class,a=this.button;if(a){var b=jq(a);if(zk.ie){b.unbind("mouseover",c.onover).unbind("mouseout",c.onout)}b.unbind("click",c.onclick)}this._drag.destroy();this._drag=null;this.$supers("unbind_",arguments)},_fixDomClass:function(b){var c=this.$n(),d=c.parentNode;if(d){var a=this.isVertical(),e=this.getZclass();if(a){d=d.parentNode}if(d&&d.id.endsWith("-chdex")){d.className=e+"-outer";if(a){c.parentNode.className=e+"-outer-td"}}}if(b){this._fixbtn()}},_fixNSDomClass:function(){jq(this.$n())[this.isOpen()?"removeClass":"addClass"](this.getZclass()+"-ns")},_fixbtn:function(){var b=jq(this.button),a=this.getCollapse();if(!a||"none"==a){b.hide()}else{var d=this.getZclass(),c=a=="before";if(!this.isOpen()){c=!c}if(this.isVertical()){b.removeClass(d+"-btn-"+(c?"b":"t"));b.addClass(d+"-btn-"+(c?"t":"b"))}else{b.removeClass(d+"-btn-"+(c?"r":"l"));b.addClass(d+"-btn-"+(c?"l":"r"))}b.show()}},_fixsz:_zkf=function(){if(!this.isRealVisible()){return}var d=this.$n(),b=d.parentNode;if(b){var c=this.button,a="before"==this.getCollapse();if(this.isVertical()){if(a){b.vAlign="top";b.style.backgroundPosition="top left"}else{b.vAlign="bottom";b.style.backgroundPosition="bottom left"}d.style.width="";d.style.width=b.clientWidth+"px";c.style.marginLeft=((d.offsetWidth-c.offsetWidth)/2)+"px"}else{if(a){b.align="left";b.style.backgroundPosition="top left"}else{b.align="right";b.style.backgroundPosition="top right"}d.style.height="";d.style.height=(zk.safari?b.parentNode.clientHeight:b.clientHeight)+"px";c.style.marginTop=((d.offsetHeight-c.offsetHeight)/2)+"px"}}},onShow:_zkf,onSize:_zkf,beforeSize:function(){this.$n().style[this.isVertical()?"width":"height"]=""},_fixszAll:function(){var a=this.parent;if(a){this.$class._fixKidSplts(a.$n())}else{this._fixsz()}}},{onclick:function(a){var b=zk.Widget.$(a);jq(b.button).removeClass(b.getZclass()+"-btn-visi");b.setOpen(!b.isOpen())},_ignoresizing:function(a,h,b){var g=a.control;if(!g.isOpen()||g.button==b.domTarget){return true}var e=a.run={},c=g.$n(),f=g.$n("chdex"),d=zul.box.Splitter;e.prev=d._prev(f);e.next=d._next(f);e.prevwgt=g.previousSibling;e.nextwgt=g.nextSibling;e.z_offset=zk(c).cmOffset();return false},_ghostsizing:function(a,d,b){var c=zk(a.node);jq(document.body).append('<div id="zk_ddghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+d[1]+"px;left:"+d[0]+"px;width:"+c.offsetWidth()+"px;height:"+c.offsetHeight()+'px;"></div>');return jq("#zk_ddghost")[0]},_endDrag:function(k){var j=k.control,e=j.isVertical(),b=j.$n(),g=zul.box.Splitter,d=g._fixLayout(j),c=k.run,h,a;if(e){h=c.z_point[1];a="height";if(c.next&&c.next.cells.length){c.next=c.next.cells[0]}if(c.prev&&c.prev.cells.length){c.prev=c.prev.cells[0]}}else{h=c.z_point[0];a="width"}if(!h){return}if(c.nextwgt){zWatch.fireDown("beforeSize",c.nextwgt)}if(c.prevwgt){zWatch.fireDown("beforeSize",c.prevwgt)}var f=0;if(c.next){var i=zk.parseInt(c.next.style[a]);i-=h;if(i<0){i=0}c.next.style[a]=i+"px"}if(c.prev){var i=zk.parseInt(c.prev.style[a]);i+=h;if(i<0){i=0}c.prev.style[a]=i+"px"}if(c.nextwgt){zWatch.fireDown("onSize",c.nextwgt)}if(c.prevwgt){zWatch.fireDown("onSize",c.prevwgt)}g._unfixLayout(d);j._fixszAll();k.run=null},_snap:function(c,g){var d=c.run,e=c.control,b=g[0],f=g[1];if(e.isVertical()){if(f<=d.z_offset[1]-d.prev.offsetHeight){f=d.z_offset[1]-d.prev.offsetHeight}else{var a=d.z_offset[1]+d.next.offsetHeight-e.$n().offsetHeight;if(f>a){f=a}}}else{if(b<=d.z_offset[0]-d.prev.offsetWidth){b=d.z_offset[0]-d.prev.offsetWidth}else{var a=d.z_offset[0]+d.next.offsetWidth-e.$n().offsetWidth;if(b>a){b=a}}}d.z_point=[b-d.z_offset[0],f-d.z_offset[1]];return[b,f]},_next:function(a){return jq(a).next().next()[0]},_prev:function(a){return jq(a).prev().prev()[0]},_fixKidSplts:function(c){if(zk(c).isVisible()){var b=c.z_wgt,a=zul.box.Splitter;if(b&&b.$instanceof(a)){b._fixsz()}for(c=c.firstChild;c;c=c.nextSibling){a._fixKidSplts(c)}}}});if(zk.ie){zul.box.Splitter.onover=function(a){var b=zk.Widget.$(a);$(b.button).addClass(b.getZclass()+"-btn-visi")};zul.box.Splitter.onout=function(a){var b=zk.Widget.$(a);$(b.button).removeClass(b.getZclass()+"-btn-visi")}}if(zk.opera){zul.box.Splitter._fixLayout=function(c){var a=c.parent.$n();if(a.style.tableLayout!="fixed"){var b=[a,a.style.tableLayout];a.style.tableLayout="fixed";return b}};zul.box.Splitter._unfixLayout=function(a){if(a){a[0].style.tableLayout=a[1]}}}else{zul.box.Splitter._fixLayout=zul.box.Splitter._unfixLayout=zk.$void};
zkreg('zul.box.Splitter');zk._m={};
zk._m['os']=function(a){a.push("<div",this.domAttrs_(),'><span id="',this.uuid,'-btn"></span></div>')};
;zk._m['default']=[zk._p.Splitter,'os'];zkmld(zk._p.Splitter,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.box',1);zk.load('zul',function(){zk._n='zul.mesh';try{zk._p=zk.$package(zk._n,false,true);
zul.mesh.MeshWidget=zk.$extends(zul.Widget,{_pagingPosition:"bottom",$init:function(){this.$supers("$init",arguments);this.heads=[]},_innerWidth:"100%",$define:{pagingPosition:_zkf=function(){this.rerender()},sizedByContent:_zkf,model:null,innerWidth:function(a){if(a==null){this._innerWidth=a="100%"}if(this.eheadtbl){this.eheadtbl.style.width=a}if(this.ebodytbl){this.ebodytbl.style.width=a}if(this.efoottbl){this.efoottbl.style.width=a}}},getPageSize:function(){return this.paging.getPageSize()},setPageSize:function(a){this.paging.setPageSize(a)},getPageCount:function(){return this.paging.getPageCount()},getActivePage:function(){return this.paging.getActivePage()},setActivePage:function(a){this.paging.setActivePage(a)},inPagingMold:function(){return"paging"==this.getMold()},setHeight:function(a){this.$supers("setHeight",arguments);if(this.desktop){if(zk.ie6_&&this.ebody){this.ebody.style.height=a}this._setHgh(a);this.onSize()}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.eheadtbl){this.eheadtbl.style.width=""}if(this.efoottbl){this.efoottbl.style.width=""}if(this.desktop){this.onSize()}},setStyle:function(a){if(this._style!=a){this.$supers("setStyle",arguments);if(this.desktop){this.onSize()}}},bind_:function(){this.$supers("bind_",arguments);if(this.isVflex()){var a=this.$n().style.height;if(!a||a=="auto"){this.$n().style.height="99%"}}this._bindDomNode();this._fixHeaders();if(this.ebody){this.domListen_(this.ebody,"onScroll");this.ebody.style.overflow="";if(this.efrozen){this.ebody.style.overflowX="hidden"}}zWatch.listen({onSize:this,onShow:this,beforeSize:this,onResponse:this})},unbind_:function(){if(this.ebody){this.domUnlisten_(this.ebody,"onScroll")}this.ebody=this.ehead=this.efoot=this.efrozen=this.ebodytbl=this.eheadtbl=this.efoottbl=null;zWatch.unlisten({onSize:this,onShow:this,beforeSize:this,onResponse:this});this.$supers("unbind_",arguments)},onResponse:function(){if(this.desktop&&this._shallSize){this.$n()._lastsz=null;this.onSize()}},_syncSize:function(){this._shallSize=true;if(!this.inServer&&this.desktop){this.onResponse()}},_fixHeaders:function(){if(this.head&&this.ehead){var d=true;var c=false;for(var b=this.head.firstChild;b;b=b.nextSibling){if(!c&&b._nhflex){c=true}if(b.getLabel()||b.getImage()||b.nChildren){d=false;break}}var a=this.ehead.style.display;this.ehead.style.display=d?"none":"";if(d&&c){for(var b=this.head.firstChild;b;b=b.nextSibling){if(b._nhflex){b.fixFlex_()}}}return a!=this.ehead.style.display}return false},_bindDomNode:function(){for(var b=this.$n().firstChild;b;b=b.nextSibling){switch(b.id){case this.uuid+"-head":this.ehead=b;this.eheadtbl=jq(b).find(">table:first")[0];break;case this.uuid+"-body":this.ebody=b;this.ebodytbl=jq(b).find(">table:first")[0];break;case this.uuid+"-foot":this.efoot=b;this.efoottbl=jq(b).find(">table:first")[0];break;case this.uuid+"-frozen":this.efrozen=b;break}}if(this.ebody){var a=this.ebodytbl.tBodies;if(!a||!a.length||(this.ehead&&a.length<2)){this.ebodytbl.appendChild(document.createElement("TBODY"))}this.ebodyrows=this.ebodytbl.tBodies[this.ehead?1:0].rows}if(this.ehead){this.ehdfaker=this.eheadtbl.tBodies[0].rows[0];this.ebdfaker=this.ebodytbl.tBodies[0].rows[0];if(this.efoottbl){this.eftfaker=this.efoottbl.tBodies[0].rows[0]}}},fireOnRender:function(a){if(!this._pendOnRender){this._pendOnRender=true;setTimeout(this.proxy(this._onRender),a?a:100)}},_doScroll:function(){if(!(this.fire("onScroll",this.ebody.scrollLeft).stopped)){if(this.ehead){this.ehead.scrollLeft=this.ebody.scrollLeft}if(this.efoot){this.efoot.scrollLeft=this.ebody.scrollLeft}}if(!this.paging){this.fireOnRender(zk.gecko?200:60)}},_onRender:function(){this._pendOnRender=false;var k=this.ebodyrows;if(!this.desktop||!this._model||!k||!k.length){return}var e=[],a=this.ebody.scrollTop,g=a+this.ebody.offsetHeight;for(var b=0,c=this.getBodyWidgetIterator(),h;(h=c.next());b++){if(h.isVisible()&&!h._loaded){var i=k[b],d=zk(i),f=d.offsetTop();if(f+d.offsetHeight()<a){continue}if(f>g){break}e.push(h)}}if(e.length){this.fire("onRender",{items:e})}},beforeSize:function(){var a=zk.ie6_?this.getWidth():this.$n().style.width;if(!a||a=="auto"||a.indexOf("%")>=0){var b=this.$n();if(b._lastsz&&b._lastsz.height==b.offsetHeight&&b._lastsz.width==b.offsetWidth){return}if(this.ebody){this.ebody.style.width=""}if(this.ehead){this.ehead.style.width=""}if(this.efoot){this.efoot.style.width=""}}},onSize:_zkf=function(){if(this.isRealVisible()){var a=this.$n();if(a._lastsz&&a._lastsz.height==a.offsetHeight&&a._lastsz.width==a.offsetWidth){this.fireOnRender(155);return}this._calcSize();this.fireOnRender(155);this._shallSize=false}},onShow:_zkf,_vflexSize:function(c){var e=this.$n();if(zk.ie6_){e.style.height="";e.style.height=c}var a=0;if(this.paging){var d=this.$n("pgit"),b=this.$n("pgib");if(d){a+=d.offsetHeight}if(b){a+=b.offsetHeight}}return zk(e).revisedHeight(e.offsetHeight)-(this.ehead?this.ehead.offsetHeight:0)-(this.efoot?this.efoot.offsetHeight:0)-(this.efrozen?this.efrozen.offsetHeight:0)-a},_setHgh:function(a){if(this.isVflex()||(a&&a!="auto"&&a.indexOf("%")<0)){this.ebody.style.height="";var b=this._vflexSize(a);if(b<0){b=0}this.ebody.style.height=b+"px";if(zk.ie&&this.ebody.offsetHeight){}}else{this.ebody.style.height="";this.$n().style.height=a}},_calcSize:function(){var d=this.$n();this._setHgh(d.style.height);var b=d.style.width;if(!b||b=="auto"||b.indexOf("%")>=0){b=zk(d).revisedWidth(d.offsetWidth);if(b<0){b=0}if(b){b+="px"}}if(b){this.ebody.style.width=b;if(this.ehead){this.ehead.style.width=b}if(this.efoot){this.efoot.style.width=b}}var c=this.ebody.clientWidth;if(zk.ie){if(this.eheadtbl&&this.eheadtbl.offsetWidth!=this.ebodytbl.offsetWidth){this.ebodytbl.style.width=""}if(c&&this.ebody.offsetWidth==this.ebodytbl.offsetWidth&&this.ebody.offsetWidth-c>11){if(--c<0){c=0}this.ebodytbl.style.width=c+"px"}var a=this.getHeight();if(!a||a=="auto"){a=this.ebody.offsetWidth-this.ebody.clientWidth;if(this.ebody.clientWidth&&a>11){this.ebody.style.height=this.ebody.offsetHeight+jq.scrollbarWidth()+"px"}}}if(this.ehead){if(c){this.ehead.style.width=c+"px"}if(this.isSizedByContent()&&this.ebodyrows&&this.ebodyrows.length){this.$class._adjHeadWd(this)}}else{if(this.efoot){if(c){this.efoot.style.width=c+"px"}if(this.efoottbl.rows.length&&this.ebodyrows&&this.ebodyrows.length){this.$class.cpCellWidth(this)}}}d._lastsz={height:d.offsetHeight,width:d.offsetWidth}},domFaker_:function(c,a,e){var d=this.head;c.push('<tbody style="visibility:hidden;height:0px"><tr id="',d.uuid,a,'" class="',e,'-faker">');for(var b=d.firstChild;b;b=b.nextSibling){c.push('<th id="',b.uuid,a,'"',b.domAttrs_(),'><div style="overflow:hidden"></div></th>')}c.push("</tr></tbody>")},onChildAdded_:function(e){this.$supers("onChildAdded_",arguments);if(e.$instanceof(this.getHeadWidgetClass())){this.head=e}else{if(!e.$instanceof(zul.mesh.Auxhead)){return}}var c=e.nextSibling;if(c){for(var d=this.heads,b=0,a=d.length;b<a;++b){if(d[b]==c){this.heads.splice(b,0,e);return}}}this.heads.push(e)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.head){this.head=null;this.heads.$remove(a)}else{if(a.$instanceof(zul.mesh.Auxhead)){this.heads.$remove(a)}}}},{_adjHeadWd:function(q){var c=q.ehdfaker,l=q.ebdfaker,p=q.eftfaker;if(!c||!l||!c.cells.length||!l.cells.length||!zk(c).isRealVisible()||!q.getBodyWidgetIterator().hasNext()){return}var b=q.ehead.firstChild,m=q.head.$n();if(!m){return}if(zk.opera){if(!b.style.width){var e=true,h=q.ehead.offsetWidth;for(var f=c.cells.length;f--;){if(!c.cells[f].style.width||c.cells[f].style.width.indexOf("%")>=0){e=false;break}h-=zk.parseInt(c.cells[f].style.width)}if(!e||h>=0){b.style.tableLayout="auto"}}}var j=q.ebody.firstChild,k=Math.max(b.offsetWidth,j.offsetWidth),a=Math.min(j.parentNode.clientWidth,j.offsetWidth);if(k==q.ebody.offsetWidth&&q.ebody.offsetWidth>a&&q.ebody.offsetWidth-a<20){k=a}var g=k;b.style.width=k+"px";if(j){j.style.width=b.style.width}if(q.efoot){q.efoot.firstChild.style.width=b.style.width}for(var f=l.cells.length;f--;){if(!zk(c.cells[f]).isVisible()){continue}var d=f!=0?l.cells[f].offsetWidth:g;l.cells[f].style.width=zk(l.cells[f]).revisedWidth(d)+"px";c.cells[f].style.width=l.cells[f].style.width;if(p){p.cells[f].style.width=l.cells[f].style.width}var n=zk(m.cells[f]).revisedWidth(zk.parseInt(c.cells[f].style.width));m.cells[f].style.width=n+"px";var o=m.cells[f].firstChild;o.style.width=zk(o).revisedWidth(n)+"px";g-=d}if(k!=b.offsetWidth){k=b.offsetWidth;a=Math.min(q.ebody.clientWidth,j.offsetWidth);if(k==q.ebody.offsetWidth&&q.ebody.offsetWidth>a&&q.ebody.offsetWidth-a<20){k=a}b.style.width=k+"px";if(j){j.style.width=b.style.width}if(q.efoot){q.efoot.firstChild.style.width=b.style.width}}},cpCellWidth:function(k){var x=k.efoot.firstChild.rows[0],a=k.ebodyrows;if(!x||!a||!a.length||!x.cells.length){return}var i=x.cells.length,g,l=0;for(var r=0,e=k.getBodyWidgetIterator(),m;(m=e.next());){if(!m.isVisible()||!m._loaded){continue}var f=a[r++],q=zk(f),c=f.cells,h=q.ncols(),p=c.length==h&&q.isVisible();if(p&&h>=i){l=i;g=f;break}if(h>l){g=p?f:null;l=h}else{if(h==l&&!g&&p){g=f}}}if(!l){return}var u=!g;if(u){g=document.createElement("TR");g.style.height="0px";for(var r=0;r<l;++r){g.appendChild(document.createElement("TD"))}a[0].parentNode.appendChild(g)}for(var r=l;r--;){x.cells[r].style.width=""}var b=0;for(var r=l;r--;){var t=x.cells[r],o=g.cells[r];if(zk.opera){b+=o.offsetWidth;t.style.width=zk(o).revisedWidth(o.offsetWidth)}else{t.style.width=o.offsetWidth+"px";if(l>1){var n=o.offsetWidth-t.offsetWidth;if(n!=0){n+=o.offsetWidth;if(n<0){n=0}t.style.width=n+"px"}}}}if(zk.opera&&k.isSizedByContent()){x.parentNode.parentNode.style.width=b+"px"}if(u){g.parentNode.removeChild(g)}}});
zul.mesh.HeadWidget=zk.$extends(zul.Widget,{$init:function(){this.$supers("$init",arguments);this.listen({onColSize:this},-1000)},$define:{sizable:function(){this.rerender()}},removeChildHTML_:function(e,d){this.$supers("removeChildHTML_",arguments);if(!this.$instanceof(zul.mesh.Auxhead)){for(var b,a=e.$class._faker,c=a.length;c--;){jq(e.uuid+"-"+a[c],zk).remove()}}},onColSize:function(b){var a=this.parent;if(a.isSizedByContent()){a.$class._adjHeadWd(a)}b.column._width=b.width;a._innerWidth=a.eheadtbl.style.width;a.fire("onInnerWidth",a.eheadtbl.style.width);a.fireOnRender(zk.gecko?200:60)},unbind_:function(){jq(this.hdfaker).remove();jq(this.bdfaker).remove();jq(this.ftfaker).remove();this.$supers("unbind_",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(this.desktop){if(this.parent._fixHeaders()){this.parent.onSize()}}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);if(this.desktop){if(this.parent._fixHeaders()){this.parent.onSize()}}},beforeChildrenFlex_:function(a){return !this._inAfterChildrenFlex&&!this.parent._flexRerender},afterChildrenFlex_:function(a){this._inAfterChildrenFlex=true;try{a.updateMesh_()}finally{delete this._inAfterChildrenFlex}}},{redraw:function(b){b.push("<tr",this.domAttrs_(),' align="left">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")}});
zul.mesh.HeaderWidget=zk.$extends(zul.LabelImageWidget,{$define:{align:function(a){this.updateMesh_("align",a)},valign:function(a){this.updateMesh_("valign",a)},width:_zkf=function(){this.updateMesh_()},height:_zkf},updateMesh_:function(b,d){if(this.desktop){var c=this.getMeshWidget();if(c){if(c._inUpdateMesh){c._flexRerender=true;return}c._inUpdateMesh=true;try{if(!this.parent._inAfterChildrenFlex){for(var a=this.parent.firstChild;a;a=a.nextSibling){delete a._hflexWidth}}c.rerender();if(c._flexRerender){try{c.rerender()}finally{delete c._flexRerender}}}finally{delete c._inUpdateMesh}}}},setFlexSize_:function(a){if(a.width!==undefined&&a.width!="auto"&&a.width!=""){this._hflexWidth=jq.px(a.width);return{width:a.width}}else{return this.$supers("setFlexSize_",arguments)}},getParentSize_:function(b){var c=this.getMeshWidget();if(zk(c.ehead).isVisible()){return this.$supers("getParentSize_",arguments)}else{var a=c.$n();return{height:0,width:zk(a).revisedWidth(a.offsetWidth)}}},domStyle_:function(b){var a="";if(this._hflexWidth){a="width:"+this._hflexWidth+";";if(b){b.width=true}else{b={width:true}}}return a+this.$super("domStyle_",b)},getMeshWidget:function(){return this.parent?this.parent.parent:null},isSortable_:function(){return false},getColAttrs:function(){return(this._align?' align="'+this._align+'"':"")+(this._valign?' valign="'+this._valign+'"':"")},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",arguments);this.updateMesh_("visible",a)}},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments);return a+this.getColAttrs()},getTextNode:function(){return jq(this.$n()).find(">div:first")[0]},bind_:function(){this.$supers("bind_",arguments);if(this.parent.isSizable()){this._initsz()}this.fixedFaker_()},unbind_:function(){if(this._drag){this._drag.destroy();this._drag=null}this.$supers("unbind_",arguments)},_initsz:function(){var b=this.$n();if(b&&!this._drag){var a=this.$class;this._drag=new zk.Draggable(this,null,{revert:true,constraint:"horizontal",ghosting:a._ghostsizing,endghosting:a._endghostsizing,snap:a._snapsizing,ignoredrag:a._ignoresizing,endeffect:a._aftersizing})}},fixedFaker_:function(){var f=this.$n(),d=zk(f).cellIndex(),b=this.getMeshWidget();for(var c,a=this.$class._faker,e=a.length;e--;){c=b["e"+a[e]];if(c&&!this.$n(a[e])){c[c.cells.length>d?"insertBefore":"appendChild"](this._createFaker(f,a[e]),c.cells[d])}}},_createFaker:function(e,c){var a=document.createElement("TH"),b=document.createElement("DIV");a.id=e.id+"-"+c;a.className=e.className;a.style.cssText=e.style.cssText;b.style.overflow="hidden";a.appendChild(b);return a},doClick_:function(a){var b=zk.Widget.$(a.domTarget);if(!zk.dragging&&(b==this||b.$instanceof(zul.wgt.Label))&&this.isSortable_()&&a.domTarget.tagName!="INPUT"){this.fire("onSort");a.stop()}else{if(a.domTarget.tagName=="INPUT"){a.stop({propagation:true})}this.$supers("doClick_",arguments)}},doMouseMove_:function(a){if(zk.dragging||!this.parent.isSizable()){return}var c=this.$n(),b=zk(c).revisedOffset();if(this._insizer(a.pageX-b[0])){jq(c).addClass(this.getZclass()+"-sizing")}else{jq(c).removeClass(this.getZclass()+"-sizing")}},doMouseOut_:function(a){if(this.parent.isSizable()){var b=this.$n();jq(b).removeClass(this.getZclass()+"-sizing")}},_insizer:function(a){return a>=this.$n().offsetWidth-10}},{_faker:["hdfaker","bdfaker","ftfaker"],_ghostsizing:function(d,c,a){var f=d.control,b=f.getMeshWidget().eheadtbl,e=zk(b).revisedOffset(),g=f.$n();c[1]=e[1];c[0]+=zk(g).offsetWidth();jq(document.body).append('<div id="zk_hdghost" style="position:absolute;top:'+c[1]+"px;left:"+c[0]+"px;width:3px;height:"+zk(b.parentNode.parentNode).offsetHeight()+'px;background:darkgray"></div>');return jq("#zk_hdghost")[0]},_endghostsizing:function(b,a){b._zszofs=zk(b.node).revisedOffset()[0]-zk(a).revisedOffset()[0]},_snapsizing:function(c,d){var e=c.control.$n(),a=zk(e),b=a.revisedOffset();d[0]+=a.offsetWidth();if(b[0]+c._zmin>=d[0]){d[0]=b[0]+c._zmin}return d},_ignoresizing:function(d,f,a){var e=d.control,g=e.$n(),b=zk(g),c=b.revisedOffset();if(e._insizer(f[0]-c[0])){d._zmin=10+b.padBorderWidth();return false}return true},_aftersizing:function(j,m){var s=j.control,c=s.$n(),g=zk(c),b=s.getMeshWidget(),d=j._zszofs,p=b.eheadtbl,i=p.tBodies[0].rows[0],a=g.revisedWidth(d),o=i.cells,r=g.cellIndex(),h=0;for(var f=o.length;f--;){if(f!==r){h+=o[f].offsetWidth}}if(b.efoottbl){b.eftfaker.cells[r].style.width=d+"px"}var e;if(b.ebodytbl){if(zk.opera&&!b.ebodytbl.style.tableLayout){e="auto";b.ebodytbl.style.tableLayout="fixed"}b.ebdfaker.cells[r].style.width=d+"px"}i.cells[r].style.width=d+"px";c.style.width=a+"px";var l=c.firstChild;l.style.width=zk(l).revisedWidth(a)+"px";p.style.width=h+d+"px";if(b.efoottbl){b.efoottbl.style.width=p.style.width}if(b.ebodytbl){b.ebodytbl.style.width=p.style.width}if(zk.opera&&e){b.ebodytbl.style.tableLayout=e}s.parent.fire("onColSize",zk.copy({index:r,column:s,width:d+"px"},m.data),null,0);var q=s.getMeshWidget();q.$n()._lastsz=null;zWatch.fireDown("onSize",q)},redraw:function(b){var c=this.uuid,d=this.getZclass();b.push("<th",this.domAttrs_(),'><div id="',c,'-cave" class="',d,'-cnt"',this.domTextStyleAttr_(),">",this.domContent_());if(this.parent._menupopup&&this.parent._menupopup!="none"){b.push('<a id="',c,'-btn"  href="javascript:;" class="',d,'-btn"></a>')}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></th>")}});
zul.mesh.SortWidget=zk.$extends(zul.mesh.HeaderWidget,{_sortDirection:"natural",_sortAscending:"none",_sortDescending:"none",$define:{sortDirection:function(a){var d=this.$n();if(d){var c=this.getZclass(),b=jq(d);b.removeClass(c+"-sort-dsc").removeClass(c+"-sort-asc");switch(a){case"ascending":b.addClass(c+"-sort-asc");break;case"descending":b.addClass(c+"-sort-dsc");break;default:b.addClass(c+"-sort");break}}},sortAscending:function(a){if(!a){this._sortAscending=a="none"}var d=this.$n(),c=this.getZclass();if(d){var b=jq(d);if(a=="none"){b.removeClass(c+"-sort-asc");if(this._sortDescending=="none"){b.removeClass(c+"-sort")}}else{b.addClass(c+"-sort")}}},sortDescending:function(a){if(!a){this._sortDescending=a="none"}var d=this.$n(),c=this.getZclass();if(d){var b=jq(d);if(a=="none"){b.removeClass(c+"-sort-dsc");if(this._sortAscending=="none"){b.removeClass(c+"-sort")}}else{b.addClass(c+"-sort")}}}},$init:function(){this.$supers("$init",arguments);this.listen({onSort:this},-1000)},setSort:function(a){if(a&&a.startsWith("client")){this.setSortAscending(a);this.setSortDescending(a)}else{this.setSortAscending("none");this.setSortDescending("none")}},isSortable_:function(){return this._sortAscending!="none"||this._sortDescending!="none"},sort:function(c,o){var p=this.getSortDirection();if(c){if("ascending"==p){return false}}else{if("descending"==p){return false}}var r=c?this._sortAscending:this._sortDescending;if(r=="fromServer"){return false}else{if(r=="none"){o.stop();return false}}var a=this.getMeshWidget();if(!a||a.isModel()){return false}var m=this.getMeshBody();if(!m||m.hasGroup()){return false}var u=m.desktop,q=m.$n();o.stop();try{m.unbind();var v=[],e=this.getChildIndex();for(var t=0,j=0,f=a.getBodyWidgetIterator(),l;(l=f.next());j++){for(var s=0,b=l.firstChild;b;b=b.nextSibling,s++){if(s==e){v[t++]={wgt:b,index:j}}}}var g=p=="ascending"?-1:1,h=this.sorting,n=r=="client(number)";v.sort(function(i,d){var k=h(i.wgt,d.wgt,n)*g;if(k==0){k=(i.index<d.index?-1:1)}return k});for(var t=0,s=v.length;t<s;t++){m.appendChild(v[t].wgt.parent)}this._fixDirection(c)}finally{m.replaceHTML(q,u)}return true},sorting:function(d,c,e){var g,f;if(typeof d.getLabel=="function"){g=d.getLabel()}else{if(typeof d.getValue=="function"){g=d.getValue()}else{g=d}}if(typeof c.getLabel=="function"){f=c.getLabel()}else{if(typeof c.getValue=="function"){f=c.getValue()}else{f=c}}if(e){return g-f}return g>f?1:(g<f?-1:0)},_fixDirection:function(b){for(var a=this.parent.firstChild;a;a=a.nextSibling){a.setSortDirection(a!=this?"natural":b?"ascending":"descending")}},onSort:function(a){var b=this.getSortDirection();if("ascending"==b){this.sort(false,a)}else{if("descending"==b){this.sort(true,a)}else{if(!this.sort(true,a)){this.sort(false,a)}}}},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass(),a;if(this._sortAscending!="none"||this._sortDescending!="none"){switch(this._sortDirection){case"ascending":a=c+"-sort-asc";break;case"descending":a=c+"-sort-dsc";break;default:a=c+"-sort";break}}return b!=null?b+(a?" "+a:""):a||""}return b}});
zul.mesh.Paging=zk.$extends(zul.Widget,{_pageSize:20,_totalSize:0,_pageCount:1,_activePage:0,_pageIncrement:10,$define:{totalSize:function(){this._updatePageNum();if(this._detailed){if(this.isBothPaging()){this.rerender()}else{var a=this.$n("info");if(a){a.innerHTML=this.infoText_()}}}},pageIncrement:_zkf=function(){this.rerender()},detailed:_zkf,pageCount:_zkf,activePage:_zkf,pageSize:function(){this._updatePageNum()},autohide:function(){if(this._pageCount==1){this.rerender()}}},setStyle:function(){this.$supers("setStyle",arguments);if(this.isBothPaging()){this.parent.rerender()}},setSclass:function(){this.$supers("setSclass",arguments);if(this.isBothPaging()){this.parent.rerender()}},setWidth:function(){this.$supers("setWidth",arguments);if(this.isBothPaging()){this.parent.rerender()}},setHeight:function(){this.$supers("setHeight",arguments);if(this.isBothPaging()){this.parent.rerender()}},setLeft:function(){this.$supers("setLeft",arguments);if(this.isBothPaging()){this.parent.rerender()}},setTop:function(){this.$supers("setTop",arguments);if(this.isBothPaging()){this.parent.rerender()}},setTooltiptext:function(){this.$supers("setTooltiptext",arguments);if(this.isBothPaging()){this.parent.rerender()}},replaceHTML:function(){if(this.isBothPaging()){this.parent.rerender()}else{this.$supers("replaceHTML",arguments)}},isBothPaging:function(){return this.parent&&this.parent.getPagingPosition&&"both"==this.parent.getPagingPosition()},_updatePageNum:function(){var a=Math.floor((this._totalSize-1)/this._pageSize+1);if(a==0){a=1}if(a!=this._pageCount){this._pageCount=a;if(this._activePage>=this._pageCount){this._activePage=this._pageCount-1}if(this.desktop&&this.parent){if(this.isBothPaging()){this.parent.rerender()}else{this.rerender()}}}},infoText_:function(){var a=(this._activePage+1)*this._pageSize;return"[ "+(this._activePage*this._pageSize+1)+("os"!=this.getMold()?" - "+(a>this._totalSize?this._totalSize:a):"")+" / "+this._totalSize+" ]"},_infoTags:function(){if(this._totalSize==0){return""}var b=(this._activePage+1)*this._pageSize,a=[];a.push('<div id="',this.uuid,'-info" class="',this.getZclass(),'-info">',this.infoText_(),"</div>");return a.join("")},_innerTags:function(){var c=[];var f=this._pageIncrement/2,d,b=this._activePage+f-1;if(b>=this._pageCount){b=this._pageCount-1;d=b-this._pageIncrement+1;if(d<0){d=0}}else{d=this._activePage-f;if(d<0){d=0}b=d+this._pageIncrement-1;if(b>=this._pageCount){b=this._pageCount-1}}var a=this.getZclass();if(this._activePage>0){if(d>0){this.appendAnchor(a,c,msgzul.FIRST,0)}this.appendAnchor(a,c,msgzul.PREV,this._activePage-1)}var e=this._activePage<this._pageCount-1;for(;d<=b;++d){if(d==this._activePage){this.appendAnchor(a,c,d+1,d,true)}else{this.appendAnchor(a,c,d+1,d)}}if(e){this.appendAnchor(a,c,msgzul.NEXT,this._activePage+1);if(b<this._pageCount-1){this.appendAnchor(a,c,msgzul.LAST,this._pageCount-1)}}if(this._detailed){c.push('<span id="',this.uuid,'-info">',this.infoText_(),"</span>")}return c.join("")},appendAnchor:function(d,b,a,e,c){d+="-cnt"+(c?" "+d+"-seld":"");b.push('<a class="',d,'" href="javascript:;" onclick="zul.mesh.Paging.go(this,',e,')">',a,"</a>&nbsp;")},getZclass:function(){var a="os"==this.getMold()?"-os":"";return this._zclass==null?"z-paging"+a:this._zclass},isVisible:function(){var a=this.$supers("isVisible",arguments);return a&&(this._pageCount>1||!this._autohide)},bind_:function(){this.$supers("bind_",arguments);if(this.getMold()=="os"){return}var a=this.uuid,h=jq.$$(a,"real"),b=this.getZclass(),f=this.$class;if(!this.inDesign){for(var g=h.length;g--;){jq(h[g]).keydown(f._domKeyDown).blur(f._domBlur)}}for(var l=["first","prev","last","next"],d=l.length;d--;){var c=jq.$$(a,l[d]);for(var e=c.length;e--;){if(!this.inDesign){jq(c[e]).mouseover(f._domMouseOver).mouseout(f._domMouseOut).mousedown(f._domMouseDown).click(f["_dom"+l[d]+"Click"])}if(this._pageCount==1){jq(c[e]).addClass(b+"-btn-disd")}else{if(l[d]=="first"||l[d]=="prev"){if(this._activePage==0){jq(c[e]).addClass(b+"-btn-disd")}}else{if(this._activePage==this._pageCount-1){jq(c[e]).addClass(b+"-btn-disd")}}}}}},unbind_:function(){if(this.getMold()!="os"){var g=this.uuid,b=jq.$$(g,"real"),a=this.$class;for(var f=b.length;f--;){jq(b[f]).unbind("keydown",a._domKeyDown).unbind("blur",a._domBlur)}for(var h=["first","prev","last","next"],c=h.length;c--;){var e=jq.$$(g,h[c]);for(var d=e.length;d--;){jq(e[d]).unbind("mouseover",a._domMouseOver).unbind("mouseout",a._domMouseOut).unbind("mousedown",a._domMouseDown).unbind("click",a["_dom"+h[c]+"Click"])}}}this.$supers("unbind_",arguments)}},{go:function(a,c){var b=zk.Widget.isInstance(a)?a:zk.Widget.$(a);if(b&&b.getActivePage()!=c){b.fire("onPaging",c)}},_domKeyDown:function(a){var c=a.target,d=zk.Widget.$(c);if(c.disabled||c.readOnly){return}var b=a.keyCode;switch(b){case 48:case 96:case 49:case 97:case 50:case 98:case 51:case 99:case 52:case 100:case 53:case 101:case 54:case 102:case 55:case 103:case 56:case 104:case 57:case 105:break;case 37:break;case 38:case 33:d.$class._increase(c,d,1);a.stop();break;case 39:break;case 40:case 34:d.$class._increase(c,d,-1);a.stop();break;case 36:d.$class.go(d,0);a.stop();break;case 35:d.$class.go(d,d._pageCount-1);a.stop();break;case 9:case 8:case 46:break;case 13:d.$class._increase(c,d,0);d.$class.go(d,c.value-1);a.stop();break;default:if(!(b>=112&&b<=123)&&!a.ctrlKey&&!a.altKey){a.stop()}}},_domBlur:function(a){var b=a.target,c=zk.Widget.$(b);if(b.disabled||b.readOnly){return}c.$class._increase(b,c,0);c.$class.go(c,b.value-1);a.stop()},_increase:function(a,d,c){var b=zk.parseInt(a.value);b+=c;if(b<1){b=1}else{if(b>d._pageCount){b=d._pageCount}}a.value=b},_domfirstClick:function(a){var g=zk.Widget.$(a),f=g.getZclass();if(g.getActivePage()!=0){g.$class.go(g,0);var e=g.uuid;for(var h=["first","prev"],b=h.length;b--;){for(var d=jq.$$(e,h[b]),c=d.length;c--;){jq(d[c]).addClass(f+"-btn-disd")}}}},_domprevClick:function(g){var j=zk.Widget.$(g),e=j.getActivePage(),b=j.getZclass();if(e>0){j.$class.go(j,e-1);if(e-1==0){var a=j.uuid;for(var h=["first","prev"],d=h.length;d--;){for(var c=jq.$$(a,h[d]),f=c.length;f--;){jq(c[f]).addClass(b+"-btn-disd")}}}}},_domnextClick:function(h){var l=zk.Widget.$(h),e=l.getActivePage(),g=l.getPageCount(),b=l.getZclass();if(e<g-1){l.$class.go(l,e+1);if(e+1==g-1){var a=l.uuid;for(var j=["last","next"],d=j.length;d--;){for(var c=jq.$$(a,j[d]),f=c.length;f--;){jq(c[f]).addClass(b+"-btn-disd")}}}}},_domlastClick:function(g){var j=zk.Widget.$(g),f=j.getPageCount(),b=j.getZclass();if(j.getActivePage()<f-1){j.$class.go(j,f-1);var a=j.uuid;for(var h=["last","next"],d=h.length;d--;){for(var c=jq.$$(a,h[d]),e=c.length;e--;){jq(c[e]).addClass(b+"-btn-disd")}}}},_domMouseOver:function(a){var c=a.target,b=jq(c).parents("table:first"),d=zk.Widget.$(c).getZclass();if(!b.hasClass(d+"-btn-disd")){b.addClass(d+"-btn-over")}},_domMouseOut:function(a){var c=a.target,b=jq(c).parents("table:first"),d=zk.Widget.$(c);if(!zk.ie||!jq.isAncestor(b[0],a.relatedTarget||a.toElement)){b.removeClass(d.getZclass()+"-btn-over")}},_domMouseDown:function(a){var c=a.target,b=jq(c).parents("table:first"),e=zk.Widget.$(c),d=e.getZclass();if(!b.hasClass(d+"-btn-disd")){b.addClass(d+"-btn-clk");e.$class._downbtn=b[0];jq(document.body).mouseup(e.$class._domMouseUp)}},_domMouseUp:function(a){if(zul.mesh.Paging._downbtn){var b=zk.Widget.$(zul.mesh.Paging._downbtn).getZclass();jq(zul.mesh.Paging._downbtn).removeClass(b+"-btn-clk")}zul.mesh.Paging._downbtn=null;jq(document.body).unbind("mouseup",zul.mesh.Paging._domMouseUp)}});
zkreg('zul.mesh.Paging');zk._m={};
zk._m['os']=function(a){if(this.getMold()=="os"){a.push("<div",this.domAttrs_(),">",this._innerTags(),"</div>");return}var b=this.uuid,c=this.getZclass();a.push('<div name="',b,'"',this.domAttrs_(),">","<table",zUtl.cellps0,'><tbody><tr><td><table id="',b,'-first" name="',b,'-first"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr>','<td class="',c,'-btn-l"><i>&#160;</i></td>','<td class="',c,'-btn-m"><em unselectable="on">','<button type="button" class="',c,'-first"> </button></em></td>','<td class="',c,'-btn-r"><i>&#160;</i></td></tr></tbody></table></td>','<td><table id="',b,'-prev" name="',b,'-prev"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr><td class="',c,'-btn-l"><i>&#160;</i></td>','<td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-prev"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>','</tr></tbody></table></td><td><span class="',c,'-sep"/></td>','<td><span class="',c,'-text"></span></td><td><input id="',b,'-real" name="',b,'-real" type="text" class="',c,'-inp" value="',this.getActivePage()+1,'" size="3"/></td>','<td><span class="',c,'-text">/ ',this.getPageCount(),"</span></td>",'<td><span class="',c,'-sep"/></td><td><table id="',b,'-next" name="',b,'-next"',zUtl.cellps0,' class="',c,'-btn">','<tbody><tr><td class="',c,'-btn-l"><i>&#160;</i></td><td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-next"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>','</tr></tbody></table></td><td><table id="',b,'-last" name="',b,'-last"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr>','<td class="',c,'-btn-l"><i>&#160;</i></td><td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-last"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>',"</tr></tbody></table></td></tr></tbody></table>");if(this.isDetailed()){a.push(this._infoTags())}a.push("</div>")};
;zk._m['default']=[zk._p.Paging,'os'];zkmld(zk._p.Paging,zk._m);zul.mesh.Auxhead=zk.$extends(zul.mesh.HeadWidget,{getZclass:function(){return this._zclass==null?"z-auxhead":this._zclass}});
zkreg('zul.mesh.Auxhead');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),' align="left">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.Auxhead,zk._m);zul.mesh.Auxheader=zk.$extends(zul.mesh.HeaderWidget,{_colspan:1,_rowspan:1,$define:{colspan:function(a){var b=this.$n();if(b){if(zk.ie){this.rerender()}else{b.colSpan=a}}},rowspan:function(a){var b=this.$n();if(b){if(zk.ie){this.rerender()}else{b.rowSpan=a}}}},fixedFaker_:zk.$void,domAttrs_:function(){var b=this.$supers("domAttrs_",arguments),a;if((a=this._colspan)!=1){b+=' colspan="'+a+'"'}if((a=this._rowspan)!=1){b+=' rowspan="'+a+'"'}return b},getZclass:function(){return this._zclass==null?"z-auxheader":this._zclass}});
zkreg('zul.mesh.Auxheader',true);zk._m={};
zk._m['default']=function(b){b.push("<th",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'-cnt"',this.domTextStyleAttr_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.Auxheader,zk._m);zul.mesh.Frozen=zk.$extends(zul.Widget,{$define:{columns:[function(a){return a<0?0:a},function(a){if(this._columns){if(this.desktop){this.onShow();this.syncScorll()}}else{this.rerender()}}],start:function(){this.syncScorll()}},syncScorll:function(){var a=this.$n("scrollX");if(a){a.scrollLeft=this._start*100}},getZclass:function(){return this._zclass==null?"z-frozen":this._zclass},onShow:_zkf=function(){if(!this._columns){return}var c=this.parent.ebdfaker;if(!c){c=this.parent.ebodyrows[0];if(c){c=c.$n()}}if(c){var f=0;for(var b=this._columns,g=c.firstChild;g&&b--;g=g.nextSibling){f+=g.offsetWidth}this.$n("cave").style.width=jq.px(f);var a=this.$n("scrollX"),d=this.parent.$n("body").offsetWidth;d-=f;a.style.width=jq.px(d);var e=c.childNodes.length-this._columns-1;a.firstChild.style.width=jq.px(d+100*e);this.syncScorll()}},onSize:_zkf,_onScroll:function(a){if(!a.data){return}this.setStart(this._start+2);this.parent.ebody.scrollLeft=0;a.stop()},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onShow:this,onSize:this});var a=this.$n("scrollX"),b=this.parent.$n("body");this.$n().style.height=this.$n("cave").style.height=a.style.height=a.firstChild.style.height=jq.px(jq.scrollbarWidth());this.parent.listen({onScroll:this.proxy(this._onScroll)},-1000);this.domListen_(a,"onScroll");if(b){b.style.overflowX="hidden"}},unbind_:function(){zWatch.unlisten({onShow:this,onSize:this});var a=this.parent.$n("body");if(a){a.style.overflowX=""}this.$supers("unbind_",arguments)},_doScroll:function(b){var a=this.$n("scrollX"),c=Math.ceil(a.scrollLeft/100);if(this._lastScale==c){return}this._lastScale=c;this._doScrollNow(c);this.smartUpdate("start",c);this._start=c},_doScrollNow:function(f){var b=this.$n("cave").offsetWidth,o=this.parent,d=f,p=o.ebodyrows;if(!o.head&&(!p||p.length)){return}if(o.head){for(var q,k=o.head.firstChild.$n("hdfaker");k;k=k.nextSibling){if(k.style.width.indexOf("px")==-1){var l=k.style.width=jq.px(k.offsetWidth),n=zk.Widget.$(k);if((q=n.$n("bdfaker"))){q.style.width=l}if((q=n.$n("ftfaker"))){q.style.width=l}}}for(var m,q,h=this._columns,i=o.head.nChildren-h,k=o.head.getChildAt(h).$n();k;k=k.nextSibling,h++,i--){m=d--<=0?"":"none";if(k.style.display!=m){k.style.display=m;if((q=jq("#"+k.id+"-hdfaker")[0])){q.style.display=m}if((q=jq("#"+k.id+"-bdfaker")[0])){q.style.display=m}if((q=jq("#"+k.id+"-fdfaker")[0])){q.style.display=m}for(var a=p[0],g;a&&(g=a.childNodes.length)>i;a=a.nextSibling){a.cells[g-i].style.display=m}}}for(var k=o.head.getChildAt(this._columns+f).$n("hdfaker");k;k=k.nextSibling){b+=zk.parseInt(k.style.width)}}else{for(var h=this._columns,j=p[0].firstChild;j;j=j.nextSibling){if(j.style.width.indexOf("px")==-1){j.style.width=jq.px(zk(j).revisedWidth(j.offsetWidth))}}for(var e=p[0],m,h=this._columns,g=e.childNodes.length;h<g;h++){m=d--<=0?"":"none";for(var a=e;a;a=a.nextSibling){a.cells[h].style.display=m}}for(var j=p[0].cells[this._columns+f];j;j=j.nextSibling){b+=zk.parseInt(j.style.width)}}b=jq.px(b);if(o.eheadtbl){o.eheadtbl.style.width=b}if(o.ebodytbl){o.ebodytbl.style.width=b}if(o.efoottbl){o.efoottbl.style.width=b}}});
zkreg('zul.mesh.Frozen',true);zk._m={};
zk._m['default']=function(c){var d=this.uuid,e=this.getZclass();c.push("<div",this.domAttrs_(),'><div id="',d,'-cave" class="',e,'-body">');for(var b=0,a=this.firstChild;a;a=a.nextSibling,b++){a.redraw(c)}c.push('</div><div id="',d,'-scrollX" class="',e,'-inner"><div></div></div>','<div class="z-clear"></div></div>')};
;zkmld(zk._p.Frozen,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.mesh',1);zk.load('zul.wgt',function(){zk._n='zul.menu';try{zk._p=zk.$package(zk._n,false,true);
zul.menu.Menubar=zk.$extends(zul.Widget,{_orient:"horizontal",$define:{orient:function(){this.rerender()},autodrop:null},getZclass:function(){return this._zclass==null?"z-menubar"+("vertical"==this.getOrient()?"-ver":"-hor"):this._zclass},unbind_:function(){this._lastTarget=null;this.$supers("unbind_",arguments)},insertChildHTML_:function(c,a,b){if(a){jq(a.$n("chdextr")).before(this.encloseChildHTML_({child:c,vertical:"vertical"==this.getOrient()}))}else{jq(this).append(this.encloseChildHTML_({child:c,vertical:"vertical"==this.getOrient()}))}c.bind(b)},removeChildHTML_:function(b,a){this.$supers("removeChildHTML_",arguments);jq(b.uuid+"-chdextr",zk).remove()},encloseChildHTML_:function(c){var b=c.out||[],d=c.child,a=c.vertical;if(a){b.push('<tr id="',d.uuid,'-chdextr"');if(d.getHeight()){b.push(' height="',d.getHeight(),'"')}b.push(">")}d.redraw(b);if(a){b.push("</tr>")}if(!c.out){return b.join("")}}});
zkreg('zul.menu.Menubar');zk._m={};
zk._m['default']=function(b){var c=this.uuid;if("vertical"==this.getOrient()){b.push("<div",this.domAttrs_(),'><table id="',c,'-cave"',zUtl.cellps0,">");for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_({out:b,child:a,vertical:true})}b.push("</table></div>")}else{b.push("<div",this.domAttrs_(),"><table",zUtl.cellps0,">",'<tr valign="bottom" id="',c,'-cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr></table></div>")}};
;zkmld(zk._p.Menubar,zk._m);zul.menu.Menu=zk.$extends(zul.LabelImageWidget,{domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a='<span class="'+this.getZclass()+'-img"'+(this._image?' style="background-image:url('+this._image+')"':"")+"></span>";return b?a+" "+b:a},isTopmost:function(){return this._topmost},beforeParentChanged_:function(a){this._topmost=a&&!(a.$instanceof(zul.menu.Menupopup))},getZclass:function(){return this._zclass==null?"z-menu":this._zclass},domStyle_:function(b){var a=this.$supers("domStyle_",arguments);return this.isTopmost()?a+"padding-left:4px;padding-right:4px;":a},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.menu.Menupopup)){this.menupopup=a}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.menupopup){this.menupopup=null}},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar)){return a}}return null},_fixBtn:function(){var b=this.$n("b");if(b){var a=b.innerHTML,c=zk(b);b.style.width=(c.textSize(a)[0]+c.padBorderWidth())+"px"}},bind_:function(){this.$supers("bind_",arguments);if(!this.isTopmost()){var a=this.$n("a"),b=this.$n();this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_").domListen_(b,"onMouseOver").domListen_(b,"onMouseOut")}else{if(zk.ie){this._fixBtn()}var a=this.$n("a");this.domListen_(a,"onMouseOver").domListen_(a,"onMouseOut")}},unbind_:function(){if(!this.isTopmost()){var a=this.$n("a"),b=this.$n();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_").domUnlisten_(b,"onMouseOver").domUnlisten_(b,"onMouseOut")}else{var a=this.$n("a");this.domUnlisten_(a,"onMouseOver").domUnlisten_(a,"onMouseOut")}this.$supers("unbind_",arguments)},doClick_:function(a){if(this.isTopmost()&&!jq.isAncestor(this.$n("a"),a.domTarget)){return}if(this.menupopup){jq(this.$n("a")).addClass(this.getZclass()+"-body-seld");this.menupopup._shallClose=false;if(this.isTopmost()){this.getMenubar()._lastTarget=this}if(!this.menupopup.isOpen()){this.menupopup.open()}else{var b=this.menupopup.$n("a");if(b){b.focus()}}}this.fireX(a)},_doMouseOver:function(a){if(this.$class._isActive(this)){return}var b=this.isTopmost();if(b&&zk.ie&&!jq.isAncestor(this.$n("a"),a.domTarget)){return}if(!b){if(this.menupopup){this.menupopup._shallClose=false}zWatch.fire("onFloatUp",this);if(this.menupopup&&!this.menupopup.isOpen()){this.menupopup.open()}}else{var c=this.getMenubar();if(this.menupopup&&c.isAutodrop()){c._lastTarget=this;this.menupopup._shallClose=false;zWatch.fire("onFloatUp",this);if(!this.menupopup.isOpen()){this.menupopup.open()}}else{var d=c._lastTarget;if(d&&d!=this&&c._lastTarget.menupopup&&c._lastTarget.menupopup.isVisible()){c._lastTarget.menupopup.close({sendOnOpen:true});this.$class._rmActive(c._lastTarget);c._lastTarget=this;if(this.menupopup){this.menupopup.open()}}}}this.$class._addActive(this)},_doMouseOut:function(a){if(zk.ie&&jq.isAncestor(this.$n("a"),a.domEvent.relatedTarget||a.domEvent.toElement)){return}var b=this.isTopmost();if(b){this.$class._rmActive(this);if(this.menupopup&&this.getMenubar().isAutodrop()){if(this.menupopup.isOpen()){this.menupopup._shallClose=true}zWatch.fire("onFloatUp",this,{timeout:10})}}else{if(this.menupopup&&!this.menupopup.isOpen()){this.$class._rmActive(this)}}}},{_isActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");return jq(d).hasClass(a)},_addActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");jq(d).addClass(a);if(!b&&c.parent.parent.$instanceof(zul.menu.Menu)){this._addActive(c.parent.parent)}},_rmActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");jq(d).removeClass(a)}});
zkreg('zul.menu.Menu');zk._m={};
zk._m['default']=function(a){var b=this.uuid,c=this.getZclass();if(this.isTopmost()){a.push('<td align="left"',this.domAttrs_(),'><table id="',b,'-a"',zUtl.cellps0,' class="',c,"-body");if(this.getImage()){a.push(" ",c,"-body");if(this.getLabel()){a.push("-text")}a.push("-img")}a.push('" style="width: auto;"><tbody><tr><td class="',c,'-inner-l"><span class="',c,'-space"></span></td><td class="',c,'-inner-m"><div><button id="',b,'-b" type="button" class="',c,'-btn"');if(this.getImage()){a.push(' style="background-image:url(',this.getImage(),')"')}a.push(">",zUtl.encodeXML(this.getLabel()),"&nbsp;</button>");if(this.menupopup){this.menupopup.redraw(a)}a.push('</div></td><td class="',c,'-inner-r"><span class="',c,'-space"></span></td></tr></tbody></table></td>')}else{a.push("<li",this.domAttrs_(),'><a href="javascript:;" id="',b,'-a" class="',c,"-cnt ",c,'-cnt-img">',this.domContent_(),"</a>");if(this.menupopup){this.menupopup.redraw(a)}a.push("</li>")}};
;zkmld(zk._p.Menu,zk._m);zul.menu.Menuitem=zk.$extends(zul.LabelImageWidget,{_value:"",$define:{checkmark:_zkf=function(){this.rerender()},disabled:_zkf,href:_zkf,value:null,checked:function(b){if(b){this._checkmark=b}var d=this.$n("a");if(d&&!this.isTopmost()&&!this.getImage()){var c=this.getZclass(),a=jq(d);a.removeClass(c+"-cnt-ck").removeClass(c+"-cnt-unck");if(this._checkmark){a.addClass(c+(b?"-cnt-ck":"-cnt-unck"))}}},autocheck:null,target:function(b){var a=this.$n("a");if(a){if(this.isTopmost()){a=a.parentNode}a.target=this._target}},upload:function(a){var b=this.$n();if(b){this._cleanUpld();if(a&&a!="false"){this._initUpld()}}}},isTopmost:function(){return this._topmost},beforeParentChanged_:function(a){this._topmost=a&&!(a.$instanceof(zul.menu.Menupopup))},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a=this.isDisabled()?this.getZclass()+"-disd":"";if(a){b+=(b?" ":"")+a}}return b},getZclass:function(){return this._zclass==null?"z-menu-item":this._zclass},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a='<span class="'+this.getZclass()+'-img"'+(this._image?' style="background-image:url('+this._image+')"':"")+"></span>";return b?a+" "+b:a},domStyle_:function(b){var a=this.$supers("domStyle_",arguments);return this.isTopmost()?a+"padding-left:4px;padding-right:4px;":a},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar)){return a}}return null},_fixBtn:function(){var b=this.$n("b");if(b){var a=b.innerHTML,c=zk(b);b.style.width=(c.textSize(a)[0]+c.padBorderWidth())+"px"}},bind_:function(){this.$supers("bind_",arguments);if(!this.isDisabled()){if(this.isTopmost()){var a=this.$n("a");this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")}if(this._upload){this._initUpld()}}if(zk.ie&&this.isTopmost()){this._fixBtn()}},unbind_:function(){if(!this.isDisabled()){if(this._upload){this._cleanUpld()}if(this.isTopmost()){var a=this.$n("a");this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_")}}this.$supers("unbind_",arguments)},_initUpld:function(){zWatch.listen(zk.ie7?{onShow:this,onSize:this}:{onShow:this});var a;if(a=this._upload){this._uplder=new zul.Upload(this,this.isTopmost()?this.$n():this.$n("a"),a)}},_cleanUpld:function(){var a;if(a=this._uplder){zWatch.unlisten(zk.ie7?{onShow:this,onSize:this}:{onShow:this});this._uplder=null;a.destroy()}},onShow:_zkf=function(){if(this._uplder){this._uplder.sync()}},onSize:zk.ie7?_zkf:zk.$void,doClick_:function(a){if(this._disabled){a.stop()}else{if(!this.$class._isActive(this)){return}var b=this.isTopmost(),c=this.$n("a");if(b){jq(c).removeClass(this.getZclass()+"-body-over");c=c.parentNode}if("javascript:;"==c.href){if(this.isAutocheck()){this.setChecked(!this.isChecked());this.fire("onCheck",this.isChecked())}this.fireX(a)}else{if(zk.ie&&b&&this.$n().id!=c.id){zUtl.go(c.href,false,c.target)}if(zk.gecko3&&b&&this.$n().id!=c.id){zUtl.go(c.href,false,c.target);a.stop()}}if(!b){for(var d=this.parent;d;d=d.parent){if(d.$instanceof(zul.menu.Menupopup)){if(d.isOpen()&&!this._uplder&&!this._popup){d.close({sendOnOpen:true})}else{break}}}}this.$class._rmActive(this);this.$super("doClick_",a,true)}},doMouseOver_:function(a){if(!this.$class._isActive(this)&&!this.isDisabled()&&(!zk.ie||!this.isTopmost()||this._uplder||jq.isAncestor(this.$n("a"),a.domTarget))){this.$class._addActive(this);zWatch.fire("onFloatUp",this)}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(c){if(!this.isDisabled()){var b=!zk.ie;if(!b){var g=this.$n("a"),e=zk(g).revisedOffset(),a=c.pageX,f=c.pageY,d=this.isTopmost()?1:0;b=a-d<=e[0]||a>e[0]+g.offsetWidth||f-d<=e[1]||f>e[1]+g.offsetHeight}if(b){this.$class._rmActive(this)}}this.$supers("doMouseOut_",arguments)}},{_isActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");return jq(d).hasClass(a)},_addActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");jq(d).addClass(a);if(!b&&c.parent.parent.$instanceof(zul.menu.Menu)){this._addActive(c.parent.parent)}},_rmActive:function(c){var b=c.isTopmost(),d=b?c.$n("a"):c.$n(),a=c.getZclass()+(b?"-body-over":"-over");jq(d).removeClass(a)}});
zkreg('zul.menu.Menuitem');zk._m={};
zk._m['default']=function(b){var c=this.uuid,d=this.getZclass();if(this.isTopmost()){b.push('<td align="left"',this.domAttrs_(),'><a href="',this.getHref()?this.getHref():"javascript:;",'"');if(this.getTarget()){b.push(' target="',this.getTarget(),'"')}b.push(' class="',d,'-cnt"><table id="',c,'-a"',zUtl.cellps0,' class="',d,"-body");if(this.getImage()){b.push(" ",d,"-body");if(this.getLabel()){b.push("-text")}b.push("-img")}b.push('" style="width: auto;"><tbody><tr><td class="',d,'-inner-l"><span class="',d,'-space"></span></td><td class="',d,'-inner-m"><div><button id="',c,'-b" type="button" class="',d,'-btn"');if(this.getImage()){b.push(' style="background-image:url(',this.getImage(),')"')}b.push(">",zUtl.encodeXML(this.getLabel()),'&nbsp;</button></div></td><td class="',d,'-inner-r"><span class="',d,'-space"></span></td></tr></tbody></table></a></td>')}else{b.push("<li",this.domAttrs_(),">");var a=d+"-cnt"+(!this.getImage()&&this.isCheckmark()?" "+d+(this.isChecked()?"-cnt-ck":"-cnt-unck"):"");b.push('<a href="',this.getHref()?this.getHref():"javascript:;",'"');if(this.getTarget()){b.push(' target="',this.getTarget(),'"')}b.push(' id="',c,'-a" class="',a,'">',this.domContent_(),"</a></li>")}};
;zkmld(zk._p.Menuitem,zk._m);zul.menu.Menuseparator=zk.$extends(zul.Widget,{isPopup:function(){return this.parent&&this.parent.$instanceof(zul.menu.Menupopup)},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar)){return a}}return null},getZclass:function(){return this._zclass==null?"z-menu-separator":this._zclass},doMouseOver_:function(){zWatch.fire("onFloatUp",this);this.$supers("doMouseOver_",arguments)}});
zkreg('zul.menu.Menuseparator');zk._m={};
zk._m['default']=function(a){var b=this.isPopup()?"li":"td";a.push("<",b,this.domAttrs_(),'><span class="',this.getZclass(),'-inner">&nbsp;</span></',b,">")};
;zkmld(zk._p.Menuseparator,zk._m);zul.menu.Menupopup=zk.$extends(zul.wgt.Popup,{_curIndex:-1,_getCurrentIndex:function(){return this._curIndex},getZclass:function(){return this._zclass==null?"z-menu-popup":this._zclass},_isActiveItem:function(a){return a.isVisible()&&(a.$instanceof(zul.menu.Menu)||(a.$instanceof(zul.menu.Menuitem)&&!a.isDisabled()))},_currentChild:function(c){var c=c!=null?c:this._curIndex;for(var a=this.firstChild,b=-1;a;a=a.nextSibling){if(this._isActiveItem(a)&&++b===c){return a}}return null},_previousChild:function(b){b=b?b.previousSibling:this.lastChild;var a=this.lastChild==b;for(;b;b=b.previousSibling){if(this._isActiveItem(b)){this._curIndex--;return b}}if(a){return null}this.curIndex=0;for(b=this.firstChild;b;b=b.nextSibling){if(this._isActiveItem(b)){this._curIndex++}}return this._previousChild()},_nextChild:function(b){b=b?b.nextSibling:this.firstChild;var a=this.firstChild==b;for(;b;b=b.nextSibling){if(this._isActiveItem(b)){this._curIndex++;return b}}if(a){return null}this._curIndex=-1;return this._nextChild()},_syncShadow:function(){if(!this._shadow){this._shadow=new zk.eff.Shadow(this.$n(),{stackup:(zk.useStackup===undefined?zk.ie6_:zk.useStackup)})}this._shadow.sync()},_hideShadow:function(){if(this._shadow){this._shadow.hide()}},close:function(){this.$supers("close",arguments);jq(this.$n()).hide();this._hideShadow();var b=this.parent;if(b.$instanceof(zul.menu.Menu)&&b.isTopmost()){jq(b.$n("a")).removeClass(b.getZclass()+"-body-seld")}var a=this._currentChild();if(a){a.$class._rmActive(a)}this._curIndex=-1;this.$class._rmActive(this)},open:function(d,f,g,a){if(this.parent.$instanceof(zul.menu.Menu)){if(!f){d=this.parent.$n("a");if(!g){if(this.parent.isTopmost()){g=this.parent.parent.getOrient()=="vertical"?"end_before":"after_start"}else{g="end_before"}}}}this.$super("open",d,f,g,a||{sendOnOpen:true,disableMask:true});var b=this._shadow,c=this.$n(),i=c.style;if(b){var a=b.opts,e=c.offsetLeft,h=c.offsetTop;if(jq.innerX()+jq.innerWidth()-c.offsetWidth==e){i.left=(e-a.right)+"px"}else{if(jq.innerY()+jq.innerHeight()-c.offsetHeight==h){i.top=(h-a.bottom)+"px"}}}this._syncShadow()},onFloatUp:function(a){var d=a.origin;if(!this.isVisible()){return}var e=d;if(this.parent.menupopup==this&&!this.parent.isTopmost()&&!this.parent.$class._isActive(this.parent)){this.close({sendOnOpen:true});return}for(var c;d;d=d.parent){if(d==this||(d.menupopup==this&&!this._shallClose)){if(!c){this.setTopmost()}return}c=c||d.isFloating_()}if(e&&e.$instanceof(zul.menu.Menu)){for(var c,d=this.parent;d;d=d.parent){if(d==e){if(this._shallClose){break}if(!c){this.setTopmost()}return}c=c||d.isFloating_()}if(!this._shallClose&&this.parent.$instanceof(zul.menu.Menu)){var b=this.parent.getMenubar();if(b&&b._lastTarget==this.parent){return}}}this.close({sendOnOpen:true})},onShow:function(){if(zk.ie7){var a=this.$n();if(!a.style.width){var b=this.$n("cave");if(b.childNodes.length){a.style.width=b.offsetWidth+zk(a).padBorderWidth()+"px"}else{zWatch.listen({onResponse:this})}}}this._syncShadow();var c=this.$n("a");if(c){if(zk.ie){zk(this.$n()).cleanVisibility()}if(zk(c).isRealVisible()){c.focus()}}},onHide:function(){if(this.isOpen()){this.close()}this._hideShadow()},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onHide:this})},unbind_:function(){if(this.isOpen()){this.close()}if(this._shadow){this._shadow.destroy()}this._shadow=null;zWatch.unlisten({onHide:this});this.$supers("unbind_",arguments)},onResponse:function(){var a=this.$n();if(!a.style.width){var b=this.$n("cave");if(b.childNodes.length){a.style.width=b.offsetWidth+zk(a).padBorderWidth()+"px";zWatch.unlisten({onResponse:this})}}},doKeyDown_:function(c){var b=this._currentChild(),e=c.keyCode;switch(e){case 38:case 40:if(b){b.$class._rmActive(b)}b=e==38?this._previousChild(b):this._nextChild(b);if(b){b.$class._addActive(b)}break;case 37:this.close();if(this.parent.$instanceof(zul.menu.Menu)&&!this.parent.isTopmost()){var a=this.parent.parent;if(a){var d=a.$n("a");if(d){d.focus()}}}break;case 39:if(b&&b.$instanceof(zul.menu.Menu)&&b.menupopup){b.menupopup.open()}break;case 13:if(b&&b.$instanceof(zul.menu.Menuitem)){b.doClick_(new zk.Event(b,"onClick",{}));zWatch.fire("onFloatUp",b);this.close({sendOnOpen:true})}break}c.stop();this.$supers("doKeyDown_",arguments)},doMouseOver_:function(a){this._shallClose=false;this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){this._shallClose=true;this.$supers("doMouseOut_",arguments)}},{_rmActive:function(a){if(a.parent.$instanceof(zul.menu.Menu)){a.parent.$class._rmActive(a.parent);if(!a.parent.isTopmost()){this._rmActive(a.parent.parent)}}}});
zkreg('zul.menu.Menupopup');zk._m={};
zk._m['default']=function(c){var d=this.uuid,e=this.getZclass(),b=zk.ie||zk.gecko?"a":"button";c.push("<div",this.domAttrs_(),"><",b,' id="',d,'-a" tabindex="-1" onclick="return false;" href="javascript:;"',' class="z-focus-a"></',b,'><ul class="',e,'-cnt" id="',d,'-cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(c)}c.push("</ul></div>")};
;zkmld(zk._p.Menupopup,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.menu',1);zk.load('zul.mesh,zul.menu',function(){zk._n='zul.grid';try{zk._p=zk.$package(zk._n,false,true);
zul.grid.Column=zk.$extends(zul.mesh.SortWidget,{getGrid:zul.mesh.HeaderWidget.prototype.getMeshWidget,$init:function(){this.$supers("$init",arguments);this.listen({onGroup:this},-1000)},getMeshBody:function(){var a=this.getGrid();return a?a.rows:null},group:function(e,s){var v=this.getSortDirection();if(e){if("ascending"==v){return false}}else{if("descending"==v){return false}}var y=e?this._sortAscending:this._sortDescending;if(y=="fromServer"){return false}else{if(y=="none"){s.stop();return false}}var a=this.getMeshWidget();if(!a||a.isModel()){return false}var q=this.getMeshBody();if(!q){return false}s.stop();var D=q.desktop,x=q.$n();try{q.unbind();if(q.hasGroup()){for(var u=q.getGroups(),C=u.length;--C>=0;){q.removeChild(u[C])}}var E=[],f=this.getChildIndex();for(var B=0,o=0,g=a.getBodyWidgetIterator(),p;(p=g.next());o++){for(var A=0,b=p.firstChild;b;b=b.nextSibling,A++){if(A==f){E[B++]={wgt:b,index:o}}}}var l=v=="ascending"?-1:1,n=this.sorting,r=y=="client(number)";E.sort(function(i,d){var k=n(i.wgt,d.wgt,r)*l;if(k==0){k=(i.index<d.index?-1:1)}return k});for(;q.firstChild;){q.removeChild(q.firstChild)}for(var c,j,h=this.getChildIndex(),B=0,A=E.length;B<A;B++){j=E[B];if(!c||n(c.wgt,j.wgt,r)!=0){var m,b=j.wgt.parent.getChildAt(h);if(b&&b.$instanceof(zul.wgt.Label)){m=new zul.grid.Group();m.appendChild(new zul.wgt.Label({value:b.getValue()}))}else{var t=b.firstChild;if(t&&t.$instanceof(zul.wgt.Label)){m=new zul.grid.Group();m.appendChild(new zul.wgt.Label({value:t.getValue()}))}else{m=new zul.grid.Group();m.appendChild(new zul.wgt.Label({value:msgzul.GRID_OTHER}))}}q.appendChild(m)}q.appendChild(j.wgt.parent);c=j}this._fixDirection(e)}finally{q.replaceHTML(x,D)}return true},setLabel:function(a){this.$supers("setLabel",arguments);if(this.parent){this.parent._syncColMenu()}},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",arguments);if(this.parent){this.parent._syncColMenu()}}},onGroup:function(a){var b=this.getSortDirection();if("ascending"==b){this.group(false,a)}else{if("descending"==b){this.group(true,a)}else{if(!this.group(true,a)){this.group(false,a)}}}},getZclass:function(){return this._zclass==null?"z-column":this._zclass},bind_:function(){this.$supers("bind_",arguments);var b=this.$n();this.domListen_(b,"onMouseOver").domListen_(b,"onMouseOut");var a=this.$n("btn");if(a){this.domListen_(a,"onClick")}},unbind_:function(){var b=this.$n();this.domUnlisten_(b,"onMouseOver").domUnlisten_(b,"onMouseOut");var a=this.$n("btn");if(a){this.domUnlisten_(a,"onClick")}this.$supers("unbind_",arguments)},_doMouseOver:function(a){if(this.parent._menupopup||this.parent._menupopup!="none"){var b=this.$n("btn"),c=this.$n();jq(c).addClass(this.getZclass()+"-over");if(b){b.style.height=c.offsetHeight-1+"px"}}},_doMouseOut:function(a){if(this.parent._menupopup||this.parent._menupopup!="none"){var b=this.$n("btn"),e=this.$n(),c=jq(e),d=this.getZclass();if(!c.hasClass(d+"-visi")&&(!zk.ie||!jq.isAncestor(e,a.domEvent.relatedTarget||a.domEvent.toElement))){c.removeClass(d+"-over")}}},_doClick:function(h){if(this.parent._menupopup||this.parent._menupopup!="none"){var c=this.parent._menupopup,d=this.$n(),b=this.$n("btn"),a=this.getZclass();jq(d).addClass(a+"-visi");if(c=="auto"&&this.parent._mpop){c=this.parent._mpop}else{c=this.$f(this.parent._menupopup)}if(zul.menu.Menupopup.isInstance(c)){var f=zk(b).revisedOffset(),g=this.getSortAscending()!="none",e=this.getSortDescending()!="none";if(c.$instanceof(zul.grid.ColumnMenupopup)){c.getAscitem().setVisible(g);c.getDescitem().setVisible(e);if(c.getGroupitem()){c.getGroupitem().setVisible((g||e))}var i=c.getDescitem().nextSibling;if(i){i.setVisible((g||e))}}else{c.listen({onOpen:[this.parent,this.parent._onMenuPopup]})}c.open(b,[f[0],f[1]+b.offsetHeight-4],null,{sendOnOpen:true})}h.stop()}}});
zkreg('zul.grid.Column',true);zk._m={};
zk._m['default']=zul.mesh.HeaderWidget.redraw;
;zkmld(zk._p.Column,zk._m);zul.grid.Columns=zk.$extends(zul.mesh.HeadWidget,{_menupopup:"none",_columnshide:true,_columnsgroup:true,$define:{columnshide:_zkf=function(){if(this.desktop){this._initColMenu()}},columnsgroup:_zkf,menupopup:function(){if(this._menupopup!="auto"){this._mpop=null}this.rerender()}},getGrid:function(){return this.parent},rerender:function(){if(this.desktop){if(this.parent){this.parent.rerender()}else{this.$supers("rerender",arguments)}}return this},setPopup:function(a){if(zk.Widget.isInstance(a)){this._menupopup=a;this._mpop=null}return this},getZclass:function(){return this._zclass==null?"z-columns":this._zclass},bind_:function(b,d,c){this.$supers("bind_",arguments);zWatch.listen({onResponse:this});var a=this;if(this._menupopup=="auto"){c.push(function(){a._initColMenu()})}},unbind_:function(){zWatch.unlisten({onResponse:this});if(this._mpop){this._mpop.parent.removeChild(this._mpop);this._shallSync=this._mpop=null}this.$supers("unbind_",arguments)},onResponse:function(){if(this._shallSync){this.syncColMenu()}},_syncColMenu:function(){this._shallSync=true;if(!this.inServer&&this.desktop){this.onResponse()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this._syncColMenu()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);this._syncColMenu()},_initColMenu:function(){if(this._mpop){this._mpop.parent.removeChild(this._mpop)}this._mpop=new zul.grid.ColumnMenupopup({columns:this})},syncColMenu:function(){this._shallSync=false;if(this._mpop){this._mpop.syncColMenu()}return this},_onColVisi:function(c){var f=c.currentTarget,b=f.parent;b.close({sendOnOpen:true});var e=0;for(var a=b.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.menu.Menuitem)&&a.isChecked()){e++}}if(e==0){f.setChecked(true)}var d=zk.Widget.$(f._col);if(d&&d.parent==this){d.setVisible(f.isChecked())}},_onGroup:function(a){this._mref.fire("onGroup")},_onAsc:function(a){if(this._mref.getSortDirection()!="ascending"){this._mref.fire("onSort")}},_onDesc:function(a){if(this._mref.getSortDirection()!="descending"){this._mref.fire("onSort")}},_onMenuPopup:function(a){if(this._mref){var b=this._mref.getZclass(),c=this._mref.$n();jq(c).removeClass(b+"-visi").removeClass(b+"-over")}this._mref=a.data.reference}});zul.grid.ColumnMenupopup=zk.$extends(zul.menu.Menupopup,{$define:{columns:null},$init:function(){this.$supers("$init",arguments);this.$afterInit(this._init)},getAscitem:function(){return this._asc},getDescitem:function(){return this._desc},getGroupitem:function(){return this._group},_init:function(){var a=this._columns,e=a.getZclass();this.listen({onOpen:[a,a._onMenuPopup]});if(zk.feature.professional&&a.isColumnsgroup()){var c=new zul.menu.Menuitem({label:msgzul.GRID_GROUP});c.setSclass(e+"-menu-grouping");c.listen({onClick:[a,a._onGroup]});this.appendChild(c);this._group=c}var b=new zul.menu.Menuitem({label:msgzul.GRID_ASC});b.setSclass(e+"-menu-asc");b.listen({onClick:[a,a._onAsc]});this._asc=b;this.appendChild(b);var d=new zul.menu.Menuitem({label:msgzul.GRID_DESC});d.setSclass(e+"-menu-dsc");d.listen({onClick:[a,a._onDesc]});this._desc=d;this.appendChild(d);this.syncColMenu();a.getPage().appendChild(this)},syncColMenu:function(){var a=this._columns;for(var f=this.lastChild,e;f!=this._desc;){e=f.previousSibling;this.removeChild(f);f=e}if(a&&a.isColumnshide()){var b=new zul.menu.Menuseparator();this.appendChild(b);for(var d,f=a.firstChild;f;f=f.nextSibling){d=new zul.menu.Menuitem({label:f.getLabel(),autocheck:true,checkmark:true,checked:f.isVisible()});d._col=f.uuid;d.listen({onClick:[a,a._onColVisi]});this.appendChild(d)}}},unbind_:function(){this._asc=this._desc=this._group=null;this.$supers("unbind_",arguments)}});
zkreg('zul.grid.Columns');zk._m={};
zk._m['default']=zul.mesh.HeadWidget.redraw;
;zkmld(zk._p.Columns,zk._m);zul.grid.Grid=zk.$extends(zul.mesh.MeshWidget,{getCell:function(b,a){if(!this.rows){return null}if(rows.nChildren<=b){return null}var b=rows.getChildAt(b);return b.nChildren<=a?null:b.getChildAt(a)},getOddRowSclass:function(){return this._scOddRow==null?this.getZclass()+"-odd":this._scOddRow},setOddRowSclass:function(a){if(!a){a=null}if(this._scOddRow!=a){this._scOddRow=a;var b=this.$n();if(b&&this.rows){this.rows.stripe()}}return this},rerender:function(){this.$supers("rerender",arguments);if(this.rows){this.rows._syncStripe()}return this},getZclass:function(){return this._zclass==null?"z-grid":this._zclass},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);var a;if(b.$instanceof(zul.grid.Rows)){this.rows=b;a=true}else{if(b.$instanceof(zul.grid.Columns)){this.columns=b}else{if(b.$instanceof(zul.grid.Foot)){this.foot=b}else{if(b.$instanceof(zul.mesh.Paging)){this.paging=b}else{if(b.$instanceof(zul.mesh.Frozen)){this.frozen=b}}}}}if(!a){this._syncSize()}},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);var a;if(b==this.rows){this.rows=null;a=true}else{if(b==this.columns){this.columns=null}else{if(b==this.foot){this.foot=null}else{if(b==this.paging){this.paging=null}else{if(b==this.frozen){this.frozen=null}}}}}if(!a){this._syncSize()}},insertChildHTML_:function(c,a,b){if(c.$instanceof(zul.grid.Rows)){this.rows=c;if(this.ebodytbl){jq(this.ebodytbl).append(c._redrawHTML());c.bind(b);return}}this.rerender()},getHeadWidgetClass:function(){return zul.grid.Columns},getBodyWidgetIterator:function(){return new zul.grid.RowIter(this)}});zul.grid.RowIter=zk.$extends(zk.Object,{$init:function(a){this.grid=a},_init:function(){if(!this._isInit){this._isInit=true;this.p=this.grid.rows?this.grid.rows.firstChild:null}},hasNext:function(){this._init();return this.p},next:function(){this._init();var a=this.p;if(a){this.p=a.nextSibling}return a}});
zkreg('zul.grid.Grid');zk._m={};
zk._m['paging']=function(h){var b=this.uuid,e=this.getZclass(),k=this.getInnerWidth(),l=k=="100%"?' width="100%"':"",c=k!="100%"?"width:"+k:"",a=this.inPagingMold(),d;h.push("<div",this.domAttrs_(),">");if(a&&this.paging){d=this.getPagingPosition();if(d=="top"||d=="both"){h.push('<div id="',b,'-pgit" class="',e,'-pgi-t">');this.paging.redraw(h);h.push("</div>")}}if(this.columns){h.push('<div id="',b,'-head" class="',e,'-header">',"<table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'">');this.domFaker_(h,"-hdfaker",e);for(var m=this.heads,g=0,i=m.length;g<i;){m[g++].redraw(h)}h.push("</table></div>")}h.push('<div id="',b,'-body" class="',e,'-body"');var f=this.getHeight();if(f){h.push(' style="height:',f,'"')}h.push("><table",l,zUtl.cellps0);if(!this.isSizedByContent()){h.push(' style="table-layout:fixed;',c,'"')}h.push(">");if(this.columns){this.domFaker_(h,"-bdfaker",e)}if(this.rows){this.rows.redraw(h)}h.push("</table></div>");if(this.foot){h.push('<div id="',b,'-foot" class="',e,'-footer">',"<table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'">');if(this.columns){this.domFaker_(h,"-ftfaker",e)}this.foot.redraw(h);h.push("</table></div>")}if(this.frozen){h.push('<div id="',b,'-frozen" class="',e,'-frozen">');this.frozen.redraw(h);h.push("</div>")}if(d=="bottom"||d=="both"){h.push('<div id="',b,'-pgib" class="',e,'-pgi-b">');this.paging.redraw(h);h.push("</div>")}h.push("</div>")};
;zk._m['default']=[zk._p.Grid,'paging'];zkmld(zk._p.Grid,zk._m);zul.grid.Row=zk.$extends(zul.Widget,{$define:{getAlign:function(){return this._align},align:function(a){var b=this.$n();if(b){b.align=a}},nowrap:function(a){var b=this.$n();if(b){b.noWrap=a}},valign:function(a){var b=this.$n();if(b){b.vAlign=a}}},getGrid:function(){return this.parent?this.parent.parent:null},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",arguments);if(this.isStripeable_()&&this.parent){this.parent.stripe()}}},getSpans:function(){return zUtl.intsToString(this._spans)},setSpans:function(a){if(this.getSpans()!=a){this._spans=zUtl.stringToInts(a,1);this.rerender()}},_getIndex:function(){return this.parent?this.getChildIndex():-1},getZclass:function(){return this._zclass!=null?this._zclass:"z-row"},getGroup:function(){if(this.parent&&this.parent.hasGroup()){for(var a=this.previousSibling;a;a=a.previousSibling){if(a.$instanceof(zul.grid.Group)){return a}}}return null},setStyle:function(a){if(this._style!=a){if(!zk._rowTime){zk._rowTime=zUtl.now()}this._style=a;this.rerender()}},getSclass:function(){var b=this.$supers("getSclass",arguments);if(b!=null){return b}var a=this.getGrid();return a?a.getSclass():b},_getChdextr:function(a){return a.$n("chdextr")||a.$n()},insertChildHTML_:function(d,b,c){var a=!this.getGrid().isSizedByContent()?"z-overflow-hidden":"";if(b){jq(this._getChdextr(b)).before(this.encloseChildHTML_({child:d,index:d.getChildIndex(),zclass:this.getZclass(),cls:a}))}else{jq(this).append(this.encloseChildHTML_({child:d,index:d.getChildIndex(),zclass:this.getZclass(),cls:a}))}d.bind(c)},removeChildHTML_:function(b,a){this.$supers("removeChildHTML_",arguments);jq(b.uuid+"-chdextr",zk).remove()},encloseChildHTML_:function(c){var b=c.out||[],d=c.child,a=d.$instanceof(zul.wgt.Cell);if(!a){b.push('<td id="',d.uuid,'-chdextr"',this._childAttrs(d,c.index),">",'<div id="',d.uuid,'-cell" class="',c.zclass,"-cnt ",c.cls,'">')}d.redraw(b);if(!a){b.push("</div></td>")}if(!c.out){return b.join("")}},_childAttrs:function(d,o){var i=o,r=1;if(this._spans){for(var n=0,l=this._spans.length;n<l;++n){if(n==o){r=this._spans[n];break}i+=this._spans[n]-1}}var m,h,g,a=this.getGrid();if(a){var q=a.columns;if(q){if(i<q.nChildren){var e=q.getChildAt(i);m=e.getColAttrs();h=e.isVisible()?"":"display:none";g=e.getHeight()}}}var b=this.domStyle_({visible:1,width:1,height:1}),c=zk.isLoaded("zkex.grid")&&d.$instanceof(zkex.grid.Detail);if(c){var f=d.getWidth();if(f){b+="width:"+f+";"}}if(h||g){b+=h;if(g){b+="height:"+g+";"}}var p=c?d.getZclass()+"-outer":this.getZclass()+"-inner";if(!m&&!b&&r===1){return' class="'+p+'"'}var s=m?m:"";if(r!==1){s+=' colspan="'+r+'"'}return s+' style="'+b+'" class="'+p+'"'},isStripeable_:function(){return true},domStyle_:function(c){if((this.$instanceof(zul.grid.Group)||this.$instanceof(zul.grid.Groupfoot))||(c&&c.visible)){return this.$supers("domStyle_",arguments)}var a=this.$supers("domStyle_",arguments),b=this.getGroup();return b&&!b.isOpen()?a+"display:none;":a},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.grid.Detail)){this.detail=a}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.detail){this.detail=null}},doMouseOver_:function(b){if(zk.gecko&&this._draggable){var a=b.domTarget.tagName;if(a!="INPUT"&&a!="TEXTAREA"){var c=this.$n();if(c){c.firstChild.style.MozUserSelect="none"}}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){if(zk.gecko&&this._draggable){var b=this.$n();if(b){b.firstChild.style.MozUserSelect="none"}}this.$supers("doMouseOut_",arguments)}});
zkreg('zul.grid.Row');zk._m={};
zk._m['default']=function(c){c.push("<tr",this.domAttrs_(),">");var d=this.getZclass(),e=!this.getGrid().isSizedByContent()?"z-overflow-hidden":"";for(var b=0,a=this.firstChild;a;a=a.nextSibling,b++){this.encloseChildHTML_({child:a,index:b,zclass:d,cls:e,out:c})}c.push("</tr>")};
;zkmld(zk._p.Row,zk._m);zul.grid.Rows=zk.$extends(zul.Widget,{_visibleItemCount:0,$init:function(){this.$supers("$init",arguments);this._groupsInfo=[]},getGrid:function(){return this.parent},getGroupCount:function(){return this._groupsInfo.length},getGroups:function(){return this._groupsInfo.$clone()},hasGroup:function(){return this._groupsInfo.length},getZclass:function(){return this._zclass==null?"z-rows":this._zclass},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onResponse:this});zk.afterMount(this.proxy(this.onResponse))},unbind_:function(){zWatch.unlisten({onResponse:this});this.$supers("unbind_",arguments)},onResponse:function(){if(this.desktop&&this._shallStripe){this.stripe();this.getGrid().onSize()}},_syncStripe:function(){this._shallStripe=true;if(!this.inServer&&this.desktop){this.onResponse()}},stripe:function(){var a=this.getGrid().getOddRowSclass();if(!a){return}var e=this.$n();for(var c=0,b=this.firstChild,d=true;b;b=b.nextSibling,++c){if(b.isVisible()&&b.isStripeable_()){for(;e.rows[c];++c){if(e.rows[c].id==b.uuid){break}}jq(e.rows[c])[d?"removeClass":"addClass"](a);b.fire("onStripe");d=!d}}this._shallStripe=false},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.grid.Group)){this._groupsInfo.push(a)}this._syncStripe()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a.$instanceof(zul.grid.Group)){this._groupsInfo.$remove(a)}this._syncStripe()}});
zkreg('zul.grid.Rows');zk._m={};
zk._m['default']=function(b){b.push("<tbody",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tbody>")};
;zkmld(zk._p.Rows,zk._m);zul.grid.Foot=zk.$extends(zul.Widget,{getGrid:function(){return this.parent},getZclass:function(){return this._zclass==null?"z-foot":_zclass}});
zkreg('zul.grid.Foot');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.Foot,zk._m);zul.grid.Footer=zk.$extends(zul.LabelImageWidget,{_span:1,$define:{span:function(a){var b=this.$n();if(b){b.colSpan=a}}},getGrid:function(){return this.parent?this.parent.parent:null},getColumn:function(){var a=this.getGrid();if(a){var b=a.columns;if(b){return b.getChildAt(this.getChildIndex())}}return null},getZclass:function(){return this._zclass==null?"z-footer":this._zclass}});
zkreg('zul.grid.Footer',true);zk._m={};
zk._m['default']=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.Footer,zk._m);zul.grid.Group=zk.$extends(zul.grid.Row,{_open:true,$define:{open:function(a){this._openItem(a,true);if(a){this.getGrid().stripe()}}},getItems:function(){var b=[];for(var a=this.nextSibling;a&&!a.$instanceof(zul.grid.Group);a=a.nextSibling){b.push(a)}return b},getItemCount:function(){return this.getItems().length},getZclass:function(){return this._zclass!=null?this._zclass:"z-group"},getLabel:function(){return this.firstChild!=null&&this.firstChild.$instanceof(zul.wgt.Label)?this.firstChild.getValue():null},domImage_:function(){var a=this.getZclass();return'<span id="'+this.uuid+'-img" class="'+a+"-img "+a+"-img-"+(this._open?"open":"close")+'"></span>'},domContent_:function(){var b=this.getLabel(),a=this.domImage_();return b?a+" ":a},isStripeable_:function(){return false},encloseChildHTML_:function(b){var a=b.out||[],c=b.child;a.push('<td id="',c.uuid,'-chdextr"',this._childAttrs(c,b.index),">",'<div id="',c.uuid,'-cell" class="',b.zclass,"-cnt ",b.cls,'">');if(c==this.firstChild){a.push(this.domContent_())}c.redraw(a);a.push("</div></td>");if(!b.out){return a.join("")}},_doImgClick:function(a){var b=!this.isOpen(),c=this.getGrid();this._openItem(b);if(b||c.getModel()){if(b){this.parent.stripe()}if(!c.paging){c.onSize()}}a.stop()},_openItem:function(d,c){this._open=d;var b=this.$n("img"),f=this.getZclass();if(b){jq(b)[d?"removeClass":"addClass"](f+"-img-close")[d?"addClass":"removeClass"](f+"-img-open")}var e=this.getGrid(),a=e?e.inPagingMold():false;if(!a){this._openItemNow(d)}if(!c){this.fire("onOpen",{open:d},{toServer:a})}},_openItemNow:function(b){var a=this.$n();if(a){for(var c,a=a.nextSibling;a&&(c=zk.Widget.$(a))&&!zul.grid.Group.isInstance(c)&&!zul.grid.Groupfoot.isInstance(c);a=a.nextSibling){if(c.desktop&&c.isVisible()){jq(a)[b?"show":"hide"]()}}}},beforeParentChanged_:function(e){if(!e){var d=this.parent,b=d.hasGroup();if(b){for(var a=d.getGroups(),f=d.getGroupCount();--f>=0;){if(a[f]==this){b=a[--f];break}}}if(b){this._unbindafter=[function(){if(b){b._openItem(b.isOpen(),true)}}]}else{this._openItemNow(true,true)}}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(this.firstChild==a){this.rerender()}},bind_:function(){this.$supers("bind_",arguments);var g=this.$n(),a=this.$n("img");if(a){this.domListen_(a,"onClick","_doImgClick")}var e=g.parentNode.parentNode;if(e.tBodies.length>1){var d=0;for(var f=e.rows[0],c=f.cells.length;c--;){if(zk(f.cells[c]).isVisible()){d++}}for(var b=g.cells,c=b.length;c--;){d-=b[c].colSpan}if(d>0&&g.cells.length){g.cells[g.cells.length-1].colSpan+=d}}},unbind_:function(b,a){this.domUnlisten_(this.$n("img"),"onClick","_doImgClick");if(this._unbindafter&&this._unbindafter.length){a.push(this._unbindafter.pop())}this._unbindafter=null;this.$supers("unbind_",arguments)}});
zkreg('zul.grid.Group');zul.grid.Groupfoot=zk.$extends(zul.grid.Row,{getZclass:function(){return this._zclass!=null?this._zclass:"z-groupfoot"},isStripeable_:function(){return false}});
zkreg('zul.grid.Groupfoot');
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.grid',1);zk.load('zul.wgt',function(){zk._n='zul.inp';try{zk._p=zk.$package(zk._n,false,true);
zul.inp.InputWidget=zk.$extends(zul.Widget,{_maxlength:0,_cols:0,_tabindex:-1,_type:"text",$define:{name:function(a){var b=this.getInputNode();if(b){b.name=a}},disabled:function(a){var b=this.getInputNode();if(b){b.disabled=a;var c=this.getZclass(),d=a?"addClass":"removeClass";jq(this.$n())[d](c+"-disd");jq(b)[d](c+"-text-disd")}},readonly:function(a){var b=this.getInputNode();if(b){b.readOnly=a;jq(b)[a?"addClass":"removeClass"](this.getZclass()+"-readonly")}},cols:function(b){var a=this.getInputNode();if(a){if(this.isMultiline()){a.cols=b}else{a.size=b}}},maxlengths:function(a){var b=this.getInputNode();if(b&&!this.isMultiline()){b.maxLength=a}},tabindex:function(a){var b=this.getInputNode();if(b){b.tabIndex=a}},inplace:function(a){this.rerender()}},getInplaceCSS:function(){return this._inplace?this.getZclass()+"-inplace":""},select:function(b,a){zk(this.getInputNode()).setSelectionRange(b,a)},getType:function(){return this._type},isMultiline:function(){return false},getValue:function(){return this._value},setValue:function(c,a){var d;if(a){this.clearErrorMessage(true)}else{if(c==this._lastRawValVld){return}else{d=this._validate(c);c=d.value}}if((!d||!d.error)&&(a||this._value!=c)){this._value=c;var b=this.getInputNode();if(b){b.value=c=this.coerceToString_(c);if(a){b.defaultValue=c}}}},getInputNode:function(){return this.$n()},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments);if(!b||!b.text){a+=this.textAttrs_()}return a},textAttrs_:function(){var b="",a;if(this.isMultiline()){a=this._cols;if(a>0){b+=' cols="'+a+'"'}}else{b+=' value="'+this.coerceToString_(this.getValue())+'"';b+=' type="'+this._type+'"';a=this._cols;if(a>0){b+=' size="'+a+'"'}a=this._maxlength;if(a>0){b+=' maxlength="'+a+'"'}}a=this._tabindex;if(a>=0){b+=' tabindex="'+a+'"'}a=this._name;if(a){b+=' name="'+a+'"'}if(this._disabled){b+=' disabled="disabled"'}if(this._readonly){b+=' readonly="readonly"'}var c=this.domStyle_({width:true,height:true});if(c){b+=' style="'+c+'"'}return b},_areaText:function(){return zUtl.encodeXML(this.coerceToString_(this._value))},setConstraint:function(a){if(typeof a=="string"&&a.charAt(0)!="["){this._cst=new zul.inp.SimpleConstraint(a)}else{this._cst=a}if(this._cst){delete this._lastRawValVld}},getConstraint:function(){return this._cst},doMouseOut_:function(){this._inplaceout=true;this.$supers("doMouseOut_",arguments)},doMouseOver_:function(){this._inplaceout=false;this.$supers("doMouseOut_",arguments)},doFocus_:function(a){this.$supers("doFocus_",arguments);if(a.domTarget.tagName){var c=this.getInputNode();if(this.isListen("onChanging")){this._lastChg=c.value;this._tidChg=setInterval(this.proxy(this._onChanging),500)}jq(this.$n()).addClass(this.getZclass()+"-focus");if(this._inplace){jq(this.getInputNode()).removeClass(this.getInplaceCSS());if(this._inplaceout===undefined){this._inplaceout=true}}if(this._errbox){var b=this;setTimeout(function(){if(b._errbox){b._errbox.open(b,null,"end_before",{overflow:true})}})}}},doBlur_:function(a){this._stopOnChanging();jq(this.$n()).removeClass(this.getZclass()+"-focus");if(!zk.alerting&&this.shallUpdate_(zk.currentFocus)){this.updateChange_();this.$supers("doBlur_",arguments)}if(this._inplace&&this._inplaceout){jq(this.getInputNode()).addClass(this.getInplaceCSS())}},_doSelect:function(c){if(this.isListen("onSelection")){var f=this.getInputNode(),d=zk(f).getSelectionRange(),a=d[0],g=d[1];this.fire("onSelection",{start:a,end:g,selected:f.value.substring(a,g)})}},shallUpdate_:function(a){return !a||!zUtl.isAncestor(this,a)},getErrorMesssage:function(){return this._errmsg},wrongValue_:function(a){this.clearErrorMessage(true,true);this._markError(a,null,true)},clearErrorMessage:function(c,b){var a=this._errbox;if(a){this._errbox=null;a.destroy()}if(!b){this._errmsg=null;jq(this.getInputNode()).removeClass(this.getZclass()+"-text-invalid")}if(c){delete this._lastRawValVld}},coerceFromString_:function(a){return a},coerceToString_:function(a){return a||""},_markError:function(e,d,c){this._errmsg=e;if(this.desktop){jq(this.getInputNode()).addClass(this.getZclass()+"-text-invalid");var a=this._cst,b;if(a!="[c"){if(a&&(b=a.showCustomError)){b=b.call(a,this,e)}if(!b){this._errbox=this.showError_(e)}}if(!c){this.fire("onError",{value:d,message:e})}}},validate_:function(c){var a;if(a=this._cst){if(typeof a=="string"){return false}var b=a.validate(this,c);if(!b&&a.serverValidate){return false}return b}},_validate:function(a){zul.inp.validating=true;try{var c=a,b;if(typeof c=="string"||c==null){c=this.coerceFromString_(c);if(c&&(b=c.error)){this.clearErrorMessage(true);if(this._cst=="[c"){return{error:b,server:true}}this._markError(b,c);return c}}if(!this.desktop){this._errmsg=null}else{this.clearErrorMessage(true);b=this.validate_(c);if(b===false){return{value:c,server:true}}if(b){this._markError(b,c);return{error:b}}else{this._lastRawValVld=a}}return{value:c}}finally{zul.inp.validating=false}},_shallIgnore:function(a,c){var b=(zk.ie||zk.opera)?a.keyCode:a.charCode;if(!a.altKey&&!a.ctrlKey&&(zk.ie||b>=32)&&c.indexOf(String.fromCharCode(b))<0){a.stop();return true}},showError_:function(b){var a=new zul.inp.Errorbox();a.show(this,b);return a},updateChange_:function(){if(zul.inp.validating){return false}var b=this.getInputNode(),d=b.value;if(d==this._lastRawValVld){return false}var a=this._errmsg,e=this._validate(d);if(!e.error||e.server){var c;if(!e.error){b.value=d=this.coerceToString_(e.value);c=a||d!=b.defaultValue;if(c){this._value=e.value;b.defaultValue=d}}if(c||e.server){this.fire("onChange",this._onChangeData(d),e.server?{toServer:true}:null,150)}}return true},_onChanging:function(){var b=this.getInputNode(),c=this.valueEnter_||b.value;if(this._lastChg!=c){this._lastChg=c;var a=this.valueSel_;this.valueSel_=null;this.fire("onChanging",this._onChangeData(c,a==c),{ignorable:1},100)}},_onChangeData:function(b,c){var a={value:b,start:zk(this.getInputNode()).getSelectionRange()[0]};if(c){a.bySelectBack=true}return a},_stopOnChanging:function(){if(this._tidChg){clearInterval(this._tidChg);this._tidChg=this._lastChg=this.valueEnter_=this.valueSel_=null}},focus:function(a){if(this.isVisible()&&this.canActivate({checkOnly:true})){zk(this.getInputNode()).focus(a);return true}return false},domClass_:function(c){var b=this.$supers("domClass_",arguments),a=this.getZclass();if(!c||!c.zclass){if(this._disabled){b+=" "+a+"-disd"}}if(!c||!c.input){if(this._disabled){b+=" "+a+"-text-disd"}if(this._inplace){b+=" "+this.getInplaceCSS()}}return b},bind_:function(){this.$supers("bind_",arguments);var a=this.getInputNode();if(this._readonly){jq(a).addClass(this.getZclass()+"-readonly")}this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_").domListen_(a,"onSelect")},unbind_:function(){this.clearErrorMessage(true);var a=this.getInputNode();this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_").domUnlisten_(a,"onSelect").$supers("unbind_",arguments)},doKeyDown_:function(a){var e=a.keyCode;if(!this._inplaceout){this._inplaceout=e==9}if(e==9&&!a.altKey&&!a.ctrlKey&&!a.shiftKey&&this._tabbable){var c=this.getInputNode(),d=zk(c),b=d.getSelectionRange(),f=c.value;f=f.substring(0,b[0])+"\t"+f.substring(b[1]);c.value=f;f=b[0]+1;d.setSelectionRange(f,f);a.stop();return}this.$supers("doKeyDown_",arguments)},doKeyUp_:function(){if(this.isMultiline()){var a=this._maxlength;if(a>0){var b=this.getInputNode(),c=b.value;if(c!=b.defaultValue&&c.length>a){b.value=c.substring(0,a)}}}this.$supers("doKeyUp_",arguments)},afterKeyDown_:function(a){if(this._inplace){if(a.keyCode==13){var c=jq(this.getInputNode()),b=this.getInplaceCSS();if(c.toggleClass(b).hasClass(b)){c.zk.setSelectionRange(0,c[0].value.length)}}else{jq(this.getInputNode()).removeClass(this.getInplaceCSS())}}if(a.keyCode!=13||!this.isMultiline()){this.$supers("afterKeyDown_",arguments)}},beforeCtrlKeys_:function(a){this.updateChange_()}},{_allowKeys:"0123456789"+zk.MINUS});
zul.inp.Errorbox=zk.$extends(zul.wgt.Popup,{$init:function(){this.$supers("$init",arguments);this.setWidth("260px");this.setSclass("z-errbox")},show:function(a,b){this.parent=a;this.msg=b;jq(document.body).append(this);this.open(a,null,"end_before",{overflow:true})},destroy:function(){this.close();this.unbind();jq(this).remove();this.parent=null},bind_:function(){this.$supers("bind_",arguments);var a=zul.inp.Errorbox;this._drag=new zk.Draggable(this,null,{starteffect:zk.$void,endeffect:a._enddrag,ignoredrag:a._ignoredrag,change:a._change});zWatch.listen({onScroll:this})},unbind_:function(){this._drag.destroy();zWatch.unlisten({onScroll:this});this.$supers("unbind_",arguments);this._drag=null},onScroll:function(a){if(a){this.position(this.parent,null,"end_before",{overflow:true});this._fixarrow()}},setDomVisible_:function(b,c){this.$supers("setDomVisible_",arguments);var a=this._stackup;if(a){a.style.display=c?"":"none"}},doMouseMove_:function(a){var d=a.domTarget;if(d==this.$n("c")){var e=a.pageY,c=jq(d),b=zk.parseInt(c.css("padding-right"));offs=c.zk.revisedOffset();c[e>=offs[1]&&e<offs[1]+b?"addClass":"removeClass"]("z-errbox-close-over")}else{this.$supers("doMouseMove_",arguments)}},doMouseOut_:function(a){var b=a.domTarget;if(b==this.$n("c")){jq(b).removeClass("z-errbox-close-over")}else{this.$supers("doMouseOut_",arguments)}},doClick_:function(a){var b=a.domTarget;if(b==this.$n("c")&&jq(b).hasClass("z-errbox-close-over")){this.parent.clearErrorMessage(true,true)}else{this.$supers("doClick_",arguments);this.parent.focus(0)}},open:function(){this.$supers("open",arguments);this.setTopmost();this._fixarrow()},prologHTML_:function(a){var b=this.uuid;a.push('<div id="',b);a.push('-a" class="z-errbox-left z-arrow" title="');a.push(zUtl.encodeXML(mesg.GOTO_ERROR_FIELD));a.push('"><div id="',b,'-c" class="z-errbox-right z-errbox-close"><div class="z-errbox-center">');a.push(zUtl.encodeXML(this.msg,{multiline:true}));a.push("</div></div></div>")},onFloatUp:function(a){var d=a.origin;if(d==this){this.setTopmost();return}if(!d||d==this.parent||!this.isVisible()){return}var c=this,b=d;while((c=c.parent)&&!c.isFloating_()){}for(;b&&!b.isFloating_();b=b.parent){}if(c==b){var e=d.$n();if(e){this._uncover(e)}}},_uncover:function(a){var h=zk(a).cmOffset(),e=this.$n(),c=zk(e).cmOffset();if(jq.isOverlapped(h,[a.offsetWidth,a.offsetHeight],c,[e.offsetWidth,e.offsetHeight])){var j=this.parent.$n(),i;var g=zk(j).cmOffset(),d=j.offsetHeight,b=g[1]+d;i=h[1]+a.offsetHeight<=b?b:g[1]-e.offsetHeight;var f=zk(e).toStyleOffset(0,i);e.style.top=f[1]+"px";this._fixarrow()}},_fixarrow:function(){var e=this.parent.$n(),f=this.$n(),g=this.$n("a"),b=zk(e).revisedOffset(),h=zk(f).revisedOffset();var c=h[0]-b[0],a=h[1]-b[1],d;if(c>=e.offsetWidth-2){d=a<-10?"ld":a>=e.offsetHeight-2?"lu":"l"}else{if(c<0){d=a<-10?"rd":a>=e.offsetHeight-2?"ru":"r"}else{d=a<0?"d":"u"}}g.className="z-errbox-left z-arrow-"+d}},{_enddrag:function(b){var a=b.control;a.setTopmost();a._fixarrow()},_ignoredrag:function(b,d,a){var e=b.control.$n("c");return a.domTarget==e&&jq(e).hasClass("z-errbox-close-over")},_change:function(d){var c=d.control,a=c._stackup;if(a){var b=c.$n();a.style.top=b.style.top;a.style.left=b.style.left}c._fixarrow()}});
zkreg('zul.inp.Errorbox');zul.inp.SimpleConstraint=zk.$extends(zk.Object,{$init:function(e,d,f){if(typeof e=="string"){this._flags={};this._init(e)}else{this._flags=typeof e=="number"?this._cvtNum(e):e||{};this._regex=typeof d=="string"?new RegExp(d):d;this._errmsg=f;if(this._flags.SERVER){this.serverValidate=true}}},_init:function(d){l_out:for(var c=0,b=0,a=d.length;b>=0;c=b+1){for(;;++c){if(c>=a){return}var f=d.charAt(c);if(f=="/"){for(b=++c;;++b){if(b>=a){b=-1;break}f=d.charAt(b);if(f=="/"){break}if(f=="\\"){++b}}this._regex=new RegExp(b>=0?d.substring(c,b):d.substring(c));continue l_out}if(f==":"){this._errmsg=d.substring(c+1).trim();return}if(!zUtl.isChar(f,{whitespace:1})){break}}var e;for(b=c;;++b){if(b>=a){e=d.substring(c);b=-1;break}var f=d.charAt(b);if(f==","||f==":"||f==";"||f=="/"){if(this._regex&&c==b){c++;continue}e=d.substring(c,b);if(f==":"||f=="/"){--b}break}}this.parseConstraint_(e.trim().toLowerCase())}},getFlags:function(){return tis._flags},parseConstraint_:function(a){var b=this._flags;if(a=="no positive"){b.NO_POSITIVE=true}else{if(a=="no negative"){b.NO_NEGATIVE=true}else{if(a=="no zero"){b.NO_ZERO=true}else{if(a=="no empty"){b.NO_EMPTY=true}else{if(a=="no future"){b.NO_FUTURE=true}else{if(a=="no past"){b.NO_PAST=true}else{if(a=="no today"){b.NO_TODAY=true}else{if(a=="strict"){b.STRICT=true}else{if(a=="server"){b.SERVER=true;this.serverValidate=true}else{if(zk.debugJS){zk.error("Unknown constraint: "+a)}}}}}}}}}}},_cvtNum:function(a){var b={};if(a&1){b.NO_POSITIVE=b.NO_FUTURE=true}if(a&2){b.NO_NEGATIVE=b.NO_PAST=true}if(a&4){b.NO_ZERO=b.NO_TODAY=true}if(a&256){b.NO_EMPTY=true}if(a&512){b.STRICT=true}return b},validate:function(i,h){var e=this._flags,g=this._errmsg;switch(typeof h){case"string":if(e.NO_EMPTY&&(!h||!h.trim())){return msgzul.EMPTY_NOT_ALLOWED}var d=this._regex;if(d&&!d.test(h)){return g||msgzul.ILLEGAL_VALUE}if(e.STRICT&&h&&i.validateStrict){g=i.validateStrict(h);if(g){return g}}return;case"number":if(h>0){if(e.NO_POSITIVE){return g||this._msgNumDenied()}}else{if(h==0){if(e.NO_ZERO){return g||this._msgNumDenied()}}else{if(e.NO_NEGATIVE){return g||this._msgNumDenied()}}}return}if(h&&h.getFullYear){var c=zUtl.today(),h=new Date(h.getFullYear(),h.getMonth(),h.getDate());if((c-h)/86400000<0){if(e.NO_FUTURE){return g||this._msgDateDenied()}}else{if(h-c==0){if(e.NO_TODAY){return g||this._msgDateDenied()}}else{if(e.NO_PAST){return g||this._msgDateDenied()}}}return}if(h&&h.compareTo){var a=h.compareTo(0);if(a>0){if(e.NO_POSITIVE){return g||this._msgNumDenied()}}else{if(a==0){if(e.NO_ZERO){return g||this._msgNumDenied()}}else{if(e.NO_NEGATIVE){return g||this._msgNumDenied()}}}return}if(!h&&e.NO_EMPTY){return g||msgzul.EMPTY_NOT_ALLOWED}},_msgNumDenied:function(){var a=this._flags;if(a.NO_POSITIVE){return a.NO_ZERO?a.NO_NEGATIVE?NO_POSITIVE_NEGATIVE_ZERO:msgzul.NO_POSITIVE_ZERO:a.NO_NEGATIVE?msgzul.NO_POSITIVE_NEGATIVE:msgzul.NO_POSITIVE}else{if(a.NO_NEGATIVE){return a.NO_ZERO?msgzul.NO_NEGATIVE_ZERO:msgzul.NO_NEGATIVE}else{if(a.NO_ZERO){return msgzul.NO_ZERO}}}return msgzul.ILLEGAL_VALUE},_msgDateDenied:function(){var a=this._flags;if(a.NO_FUTURE){return a.NO_TODAY?a.NO_PAST?NO_FUTURE_PAST_TODAY:msgzul.NO_FUTURE_TODAY:a.NO_PAST?msgzul.NO_FUTURE_PAST:msgzul.NO_FUTURE}else{if(a.NO_PAST){return a.NO_TODAY?msgzul.NO_PAST_TODAY:msgzul.NO_PAST}else{if(a.NO_TODAY){return msgzul.NO_TODAY}}}return msgzul.ILLEGAL_VALUE}});
zul.inp.SimpleSpinnerConstraint=zk.$extends(zul.inp.SimpleConstraint,{$define:{min:_zkf=function(){},max:_zkf},parseConstraint_:function(c){var e=c.replace(/ +/g," ").split(/[, ]/),b=e.length,a;for(var d=0;d<b+1;d++){if(e[d]=="min"){this._min=e[++d]*1;a=true}else{if(e[d]=="max"){this._max=e[++d]*1;a=true}}}if(a){return}else{return this.$supers("parseConstraint_",arguments)}},validate:function(c,b){switch(typeof b){case"number":if((this._max&&b>this._max)||(this._min&&b<this._min)){var a=msgzul.OUT_OF_RANGE+": ";a+="("+this._min!=null?this._max!=null?this._min+" ~ "+this._max:">= "+this._min:"<= "+this._max+")"}}if(a){return a}else{return this.$supers("validate",arguments)}}});
zul.inp.SimpleDateConstraint=zk.$extends(zul.inp.SimpleConstraint,{format:"yyyyMMdd",parseConstraint_:function(b){if(b.startsWith("between")){var a=b.indexOf("and",7);if(a<0&&zk.debugJS){zk.error("Unknown constraint: "+b)}this._beg=zDateFormat.parseDate(b.substring(7,a),this.format);this._end=zDateFormat.parseDate(b.substring(a+3),this.format);if(this._beg.getTime()>this._end.getTime()){var c=this._beg;this._beg=this._end;this._end=c}return}else{if(b.startsWith("before")){this._end=zDateFormat.parseDate(b.substring(6),this.format);return}else{if(b.startsWith("after")){this._beg=zDateFormat.parseDate(b.substring(5),this.format);return}}}return this.$supers("parseConstraint_",arguments)},validate:function(b,a){if(typeof a.getTime=="function"){if(this._beg!=null&&this._beg.getTime()>a.getTime()){return this.outOfRangeValue()}if(this._end!=null&&this._end.getTime()<a.getTime()){return this.outOfRangeValue()}}return this.$supers("validate",arguments)},outOfRangeValue:function(){return msgzul.OUT_OF_RANGE+": "+(this._beg!=null?this._end!=null?zDateFormat.formatDate(this._beg,this.format)+" ~ "+zDateFormat.formatDate(this._end,this.format):">= "+zDateFormat.formatDate(this._beg,this.format):"<= "+zDateFormat.formatDate(this._end,this.format))}});
zul.inp.Textbox=zk.$extends(zul.inp.InputWidget,{_value:"",_rows:1,$define:{multiline:function(){this.rerender()},tabbable:null,rows:function(a){var b=this.getInputNode();if(b&&this.isMultiline()){b.rows=a}},type:function(a){var b=this.getInputNode();if(b){b.type=a}}},textAttrs_:function(){var a=this.$supers("textAttrs_",arguments);if(this._multiline){a+=' rows="'+this._rows+'"'}return a},getZclass:function(){var a=this._zclass;return a!=null?a:"z-textbox"}});
zkreg('zul.inp.Textbox');zk._m={};
zk._m['default']=function(a){if(this.isMultiline()){a.push("<textarea",this.domAttrs_(),">",this._areaText(),"</textarea>")}else{a.push("<input",this.domAttrs_(),"/>")}};
;zkmld(zk._p.Textbox,zk._m);zul.inp.FormatWidget=zk.$extends(zul.inp.InputWidget,{$define:{format:function(){var a=this.getInputNode();if(a){a.value=this.coerceToString_(this._value)}}}});
zul.inp.Intbox=zk.$extends(zul.inp.FormatWidget,{intValue:function(){return this.$supers("getValue",arguments)},coerceFromString_:function(a){if(!a){return null}var b=zNumFormat.unformat(this._format,a),c=parseInt(b.raw);if(b.raw!=""+c&&b.raw!="+"+c){return{error:zMsgFormat.format(msgzul.INTEGER_REQUIRED,a)}}if(c>2147483647||c<-2147483648){return{error:zMsgFormat.format(msgzul.OUT_OF_RANGE+"(2147483648 - 2147483647)")}}if(b.divscale){c=Math.round(c/Math.pow(10,b.divscale))}return c},coerceToString_:function(b){var a=this._format;return a?zNumFormat.format(a,b):b!=null?""+b:""},getZclass:function(){var a=this._zclass;return a!=null?a:"z-intbox"},doKeyPress_:function(a){if(!this._shallIgnore(a,zul.inp.InputWidget._allowKeys)){this.$supers("doKeyPress_",arguments)}}});
zkreg('zul.inp.Intbox');zk._m={};
zk._m['default']=function(a){a.push("<input",this.domAttrs_(),"/>")};
;zkmld(zk._p.Intbox,zk._m);zul.inp.Doublebox=zk.$extends(zul.inp.FormatWidget,{coerceFromString_:function(b){if(!b){return null}var c=zNumFormat.unformat(this._format,b),d=parseFloat(c.raw),a=c.raw.length;rawcc=c.raw.substring(a-1,a);if(c.raw!=""+d+(rawcc=="."?rawcc:"")&&c.raw!="+"+d&&c.raw.indexOf("e")<0){return{error:zMsgFormat.format(msgzul.NUMBER_REQUIRED,b)}}if(c.divscale){d=d/Math.pow(10,c.divscale)}return d},coerceToString_:function(b){var a=this._format;return b!=null?a?zNumFormat.format(a,b):""+b:null},getZclass:function(){var a=this._zclass;return a!=null?a:"z-doublebox"},doKeyPress_:function(a){if(!this._shallIgnore(a,zul.inp.Doublebox._allowKeys)){this.$supers("doKeyPress_",arguments)}}},{_allowKeys:zul.inp.InputWidget._allowKeys+zk.DECIMAL+zk.PERCENT+zk.GROUPING});
zkreg('zul.inp.Doublebox');zk._m={};
zk._m['default']=[zk._p.Intbox,'default'];zkmld(zk._p.Doublebox,zk._m);zul.inp.Longbox=zk.$extends(zul.inp.Intbox,{coerceFromString_:function(a){if(!a){return null}var b=zNumFormat.unformat(this._format,a),c=parseInt(b.raw);if(b.raw!=""+c&&b.raw!="+"+c){return{error:zMsgFormat.format(msgzul.INTEGER_REQUIRED,a)}}if(b.divscale){c=Math.round(c/Math.pow(10,b.divscale))}return c},getZclass:function(){var a=this._zclass;return a!=null?a:"z-longbox"}});
zkreg('zul.inp.Longbox');zk._m={};
zk._m['default']=[zk._p.Intbox,'default'];zkmld(zk._p.Longbox,zk._m);zul.inp.ComboWidget=zk.$extends(zul.inp.InputWidget,{_buttonVisible:true,$define:{buttonVisible:function(a){var b=this.$n("btn");if(b){a?jq(b).show():jq(b).hide();this.onSize()}},autodrop:null},onSize:_zkf=function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth();this._auxb.fixpos()},onShow:_zkf,onFloatUp:function(b){if(jq(this.$n("pp")).is(":animated")||(!this._inplace&&!this.isOpen())){return}var c=b.origin;if(!zUtl.isAncestor(this,c)){if(this.isOpen()){this.close({sendOnOpen:true})}if(this._inplace){var d=this.$n(),a=this.getInplaceCSS();if(jq(d).hasClass(a)){return}d.style.width=jq.px(zk(d).revisedWidth(d.offsetWidth));jq(this.getInputNode()).addClass(a);jq(d).addClass(a);this.onSize();d.style.width=this.getWidth()||""}}},setOpen:function(a,b){if(a){this.open(b)}else{this.close(b)}},isOpen:function(){return this._open},open:function(a){if(this._open){return}this._open=true;if(a&&a.focus){this.focus()}var b=this.$n("pp"),f=this.getInputNode();if(!b){return}zWatch.fire("onFloatUp",this);this.setTopmost();var g=this.getPopupSize_(b);b.style.width=g[0];b.style.height="auto";b.style.zIndex=88000;var c=this.$n("cave");if(c){c.style.width=c.style.height="auto"}b.style.position="absolute";b.style.display="block";b.style.visibility="hidden";b.style.left="-10000px";var k=zk(b);k.makeVParent();b.style.left="";this._fixsz(g);k.position(f,"after_start");b.style.display="none";b.style.visibility="";zk(b).slideDown(this,{afterAnima:this._afterSlideDown});if(zk.gecko){var i=c?c.rows:null;if(i){var h=b.offsetHeight-b.clientHeight;if(h>10&&b.offsetHeight<150){var d=0;for(var e=i.length;e--;){d+=i[e].offsetHeight}b.style.height=(d+20)+"px"}}}if(!this._shadow){this._shadow=new zk.eff.Shadow(b,{left:-4,right:4,top:-2,bottom:3,stackup:(zk.useStackup===undefined?zk.ie6_:zk.useStackup)})}if(a&&a.sendOnOpen){this.fire("onOpen",{open:true,value:f.value})}},_afterSlideDown:function(a){zWatch.fireDown("onShow",this);if(this._shadow){this._shadow.sync()}},close:function(b){if(!this._open){return}this._open=false;if(b&&b.focus){this.focus()}var a=this.$n("pp");if(!a){return}a.style.display="none";zk(a).undoVParent();if(this._shadow){this._shadow.destroy();this._shadow=null}var c=this.$n("btn");if(c){jq(c).removeClass(this.getZclass()+"-btn-over")}if(b&&b.sendOnOpen){this.fire("onOpen",{open:false,value:this.getInputNode().value})}zWatch.fireDown("onHide",this)},_fixsz:function(d){var c=this.$n("pp");if(!c){return}var b=this.$n("cave");if(d[1]=="auto"&&c.offsetHeight>250){c.style.height="250px"}else{if(c.offsetHeight<10){c.style.height="10px"}}if(d[0]=="auto"){var a=this.$n();if(c.offsetWidth<a.offsetWidth){c.style.width=a.offsetWidth+"px";if(b){b.style.width="100%"}}else{var e=jq.innerWidth()-20;if(e<a.offsetWidth){e=a.offsetWidth}if(c.offsetWidth>e){c.style.width=e}}}},dnPressed_:zk.$void,upPressed_:zk.$void,otherPressed_:zk.$void,enterPressed_:function(a){this.close({sendOnOpen:true});this.updateChange_();a.stop()},escPressed_:function(a){this.close({sendOnOpen:true});a.stop()},getPopupSize_:function(a){return["auto","auto"]},getInputNode:function(){return this.$n("real")},syncWidth:function(){var e=this.$n();if(!zk(e).isRealVisible()||(!this._inplace&&!e.style.width)){return}if(this._buttonVisible&&this._inplace){if(!e.style.width){var c=jq(e),f=this.getInplaceCSS();c.removeClass(f);if(zk.opera){e.style.width=jq.px(zk(e).revisedWidth(e.clientWidth)+zk(e).borderWidth())}else{e.style.width=jq.px(zk(e).revisedWidth(e.offsetWidth))}c.addClass(f)}}var b=zk.opera?zk(e).revisedWidth(e.clientWidth)+zk(e).borderWidth():zk(e).revisedWidth(e.offsetWidth),a=this.$n("btn"),d=this.getInputNode();d.style.width=jq.px(zk(d).revisedWidth(b-(a?a.offsetWidth:0)))},doFocus_:function(a){var b=this.$n();if(this._inplace){b.style.width=jq.px(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doFocus_",arguments);if(this._inplace){if(jq(b).hasClass(this.getInplaceCSS())){jq(b).removeClass(this.getInplaceCSS());this.onSize()}}if(!this._shallClose&&this._readonly&&!this.isOpen()){this.open({focus:true,sendOnOpen:true})}this._shallClose=false},doBlur_:function(a){var b=this.$n();if(this._inplace&&this._inplaceout){b.style.width=jq.px(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doBlur_",arguments);if(this._inplace&&this._inplaceout){jq(b).addClass(this.getInplaceCSS());this.onSize();b.style.width=this.getWidth()||""}},afterKeyDown_:function(a){if(this._inplace){jq(this.$n()).toggleClass(this.getInplaceCSS(),a.keyCode==13?null:false)}this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers("bind_",arguments);var a=this.$n("btn"),b=this.getInputNode();if(this._inplace){jq(b).addClass(this.getInplaceCSS())}if(a){this._auxb=new zul.Auxbutton(this,a,b);this.domListen_(a,"onClick","_doBtnClick")}zWatch.listen({onSize:this,onShow:this,onFloatUp:this})},unbind_:function(){this.close();var a=this.$n("btn");if(a){this._auxb.cleanup();this._auxb=null;this.domUnlisten_(a,"onClick","_doBtnClick")}zWatch.unlisten({onSize:this,onShow:this,onFloatUp:this});this.$supers("unbind_",arguments)},_doBtnClick:function(a){if(!this._disabled){if(this._open){this.close({focus:true,sendOnOpen:true})}else{this.open({focus:true,sendOnOpen:true})}}a.stop()},doKeyDown_:function(a){this._doKeyDown(a);if(!a.stopped){this.$supers("doKeyDown_",arguments)}},doClick_:function(a){if(a.domTarget==this.$n("pp")){this.close({focus:true,sendOnOpen:true})}this.$supers("doClick_",arguments)},_doKeyDown:function(a){var d=a.keyCode,b=this._open;if(d==9||(zk.safari&&d==0)){if(b){this.close({sendOnOpen:true})}return}if(a.altKey&&(d==38||d==40)){if(b){this.close({sendOnOpen:true})}else{this.open({sendOnOpen:true})}var c={propagation:true};if(zk.ie){c.dom=true}a.stop(c);return}if(b&&(d==13||d==27)){if(d==13){this.enterPressed_(a)}else{this.escPressed_(a)}return}if(d==18||d==27||d==13||(d>=112&&d<=123)){return}if(this._autodrop&&!b){this.open({sendOnOpen:true})}if(d==38){this.upPressed_(a)}else{if(d==40){this.dnPressed_(a)}else{this.otherPressed_(a)}}},onChildAdded_:_zkf=function(a){if(this._shadow){this._shadow.sync()}},onChildRemoved_:_zkf,onChildVisible_:_zkf});
zul.inp.Combobox=zk.$extends(zul.inp.ComboWidget,{_autocomplete:true,$define:{autocomplete:null,repos:function(){if(this.desktop){this._typeahead(this._bDel);this._bDel=null}this._repos=false}},setValue:function(a){this.$supers("setValue",arguments);this._reIndex()},_reIndex:function(){var b=this.getValue();if(!this._sel||b!=this._sel.getLabel()){this._sel=null;this._lastsel=null;for(var a=this.firstChild;a;a=a.nextSibling){if(b==a.getLabel()){this._sel=a;break}}}},validateStrict:function(a){return this._findItem(a,true)?null:msgzul.VALUE_NOT_MATCHED},_findItem:function(b,a){return this._findItem0(b,a)},_findItem0:function(g,a,e,b){var f=this.firstChild;if(f&&g){g=g.toLowerCase();var d=this._sel;if(!d||d.parent!=this){d=f}for(var c=b?d.nextSibling?d.nextSibling:f:d;;){if((!a||!c.isDisabled())&&c.isVisible()&&(e?c.getLabel().toLowerCase().startsWith(g):g==c.getLabel().toLowerCase())){return c}if(!(c=c.nextSibling)){c=f}if(c==d){break}}}},_hilite:function(a){this._hilite2(this._findItem(this.getInputNode().value,this._isStrict()||(a&&a.strict)),a)},_hilite2:function(c,b){if(!b){b={}}var a=this._sel;this._sel=c;if(a&&a.parent==this){var d=a.$n();if(d){jq(d).removeClass(a.getZclass()+"-seld")}}if(c&&!c.isDisabled()){jq(c.$n()).addClass(c.getZclass()+"-seld")}if(b.sendOnSelect&&this._lastsel!=c){this._lastsel=c;this.setValue(c?c.getLabel():"");this.fire("onSelect",{items:c?[c]:[],reference:c})}},_isStrict:function(){var a=this.getConstraint();return a&&a._flags&&a._flags.STRICT},open:function(a){this.$supers("open",arguments);this._hilite()},dnPressed_:function(a){this._updnSel(a)},upPressed_:function(a){this._updnSel(a,true)},_updnSel:function(j,g){var d=this.getInputNode(),b=d.value,a,i;if(b){b=b.toLowerCase();var e=this._sel,h=this._next(null,!g);if(!e||e.parent!=this){e=this._next(null,g)}for(var k=e;;){if(!k.isDisabled()&&k.isVisible()){var f=k.getLabel().toLowerCase();if(b==f){a=k;break}else{if(!i&&f.startsWith(b)){i=k;break}}}if((k=this._next(k,g))==e){break}}if(!a){a=i}if(a){var c=zk(d).getSelectionRange();if(c[0]==0&&c[1]==b.length){a=this._next(a,g)}}else{a=this._next(null,g)}}else{a=this._next(null,g)}this._select(a,{sendOnSelect:true});j.stop()},_next:(function(){function a(e,d,c){var b=d?"previousSibling":"nextSibling";for(var f=c?e:e[b];f;f=f[b]){if(!f.isDisabled()){return f}}return null}return function(c,b){if(c){c=a(c,b)}return c?c:a(b?this.firstChild:this.lastChild,!b,true)}})(),_select:function(c,b){var a=this.getInputNode(),d=a.value=c?c.getLabel():"";if(d){zk(a).setSelectionRange(0,d.length)}this.$super("updateChange_");this._hilite2(c,b)},otherPressed_:function(b){var c=this,a=b.keyCode;this._bDel=a=a==zk.Event.BS||a==zk.Event.DEL;if(this._readonly){this._matchKey(b,b.keyCode)}else{setTimeout(function(){c._typeahead(a)},0)}},_matchKey:function(a,d){switch(d){case 35:case 36:this._hilite2();this.getInputNode().value="";case 37:case 39:this._updnSel(a,d==37||d==35);break;default:var b=String.fromCharCode(d);var c=this._findItem0(b,true,true,!!this._sel);if(c){this._select(c,{sendOnSelect:true})}}},_typeahead:function(a){if(zk.currentFocus!=this){return}var c=this.getInputNode(),f=c.value,e=zk(c).getSelectionRange();fchild=this.firstChild;this.valueEnter_=f;if(!f||!fchild||e[0]!=f.length||e[0]!=e[1]){return this._hilite({strict:true})}var d=this._findItem(f,true);if(d||a||!this._autocomplete){return this._hilite2(d)}f=f.toLowerCase();var d=this._sel;if(!d||d.parent!=this){d=fchild}for(var b=d;;){if(!b.isDisabled()&&b.isVisible()&&b.getLabel().toLowerCase().startsWith(f)){c.value=b.getLabel();zk(c).setSelectionRange(f.length,c.value.length);this._hilite2(b);return}if(!(b=b.nextSibling)){b=fchild}if(b==d){this._hilite2();return}}},enterPressed_:function(a){this.valueEnter_=null;this.$supers("enterPressed_",arguments)},updateChange_:function(){if(this.$supers("updateChange_",arguments)){this._hilite({sendOnSelect:true});return true}},unbind_:function(){this._hilite2();this._sel=this._lastsel=null;this.$supers("unbind_",arguments)},getZclass:function(){var a=this._zclass;return a!=null?a:"z-combobox"}});
zkreg('zul.inp.Combobox');zk._m={};
zk._m['default']=function(b){var c=this.uuid,d=this.getZclass();b.push("<span",this.domAttrs_({text:true}),'><input id="',c,'-real" class="',d,'-inp" autocomplete="off"',this.textAttrs_(),'/><span id="',this.uuid,'-btn" class="',d,'-btn"');if(!this._buttonVisible){b.push(' style="display:none"')}b.push('><span class="',d,'-img"></span></span><div id="',c,'-pp" class="',d,'-pp" style="display:none" tabindex="-1"><table id="',c,'-cave"',zUtl.cellps0,">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</table></div></span>")};
;zkmld(zk._p.Combobox,zk._m);zul.inp.Comboitem=zk.$extends(zul.LabelImageWidget,{$define:{disabled:function(a){var c=this.$n();if(c){var b=this.getZclass()+"-disd";a?jq(c).addClass(b):jq(c).removeClass(b)}},description:_zkf=function(){this.rerender()},content:_zkf},doMouseOver_:function(){if(!this._disabled){var c=this.$n(),a=jq(c),b=this.getZclass();a.addClass(a.hasClass(b+"-seld")?b+"-over-seld":b+"-over")}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(){if(!this._disabled){this._doMouseOut()}this.$supers("doMouseOut_",arguments)},_doMouseOut:function(){var b=this.$n(),a=this.getZclass();jq(b).removeClass(a+"-over").removeClass(a+"-over-seld")},doClick_:function(a){if(!this._disabled){this._doMouseOut();this.parent._select(this,{sendOnSelect:true});this.parent.close({sendOnOpen:true});this.parent._shallClose=true;a.stop()}},domClass_:function(c){var a=this.$supers("domClass_",arguments);if(this._disabled&&(!c||!c.zclass)){var b=this.getZclass();a+=" "+b+"-disd"}return a},getZclass:function(){var a=this._zclass;return a!=null?a:"z-comboitem"}});
zkreg('zul.inp.Comboitem');zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<tr",this.domAttrs_({text:true}),'><td class="',c,'-img">',this.domImage_(),'</td><td class="',c,'-text">',this.domLabel_());var a;if(a=this._description){b.push('<br/><span class="',c,'-inner">',zUtl.encodeXML(a),"</span>")}if(a=this._content){b.push('<span class="',c,'-cnt">',a,"</span>")}b.push("</td></tr>")};
;zkmld(zk._p.Comboitem,zk._m);zul.inp.Bandbox=zk.$extends(zul.inp.ComboWidget,{getPopupSize_:function(b){var d=this.firstChild,a,c;if(d){a=d.getWidth();c=d.getHeight()}return[a||"auto",c||"auto"]},getZclass:function(){var a=this._zclass;return a!=null?a:"z-bandbox"}});
zkreg('zul.inp.Bandbox');zk._m={};
zk._m['default']=function(b){var c=this.uuid,d=this.getZclass();b.push("<span",this.domAttrs_({text:true}),'><input id="',c,'-real" class="',d,'-inp" autocomplete="off"',this.textAttrs_(),'/><span id="',this.uuid,'-btn" class="',d,'-btn"');if(!this._buttonVisible){b.push(' style="display:none"')}b.push('><span class="',d,'-img"></span></span><div id="',c,'-pp" class="',d,'-pp" style="display:none" tabindex="-1">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></span>")};
;zkmld(zk._p.Bandbox,zk._m);zul.inp.Bandpopup=zk.$extends(zul.Widget,{getZclass:function(){var a=this._zclass;return a!=null?a:"z-bandpopup"}});
zkreg('zul.inp.Bandpopup',true);zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.Bandpopup,zk._m);zul.inp.Slider=zk.$extends(zul.Widget,{_orient:"horizontal",_curpos:0,_maxpos:100,_pageIncrement:10,_slidingtext:"{0}",$define:{orient:function(){if("vertical"==this._orient){this.setWidth("");this.setHeight("207px")}else{this.setWidth("207px");this.setHeight("")}this.rerender()},curpos:_zkf=function(){if(this.desktop){this._fixPos();this.inp.value=this._curpos}},maxpos:function(){if(this._curpos>this._maxpos){this.inp.value=this._curpos=this._maxpos;if(this.desktop){this._fixPos()}}},slidingtext:_zkf=function(){},pageIncrement:_zkf,name:function(){if(this.desktop){this.inp.name=this._name}}},getZclass:function(){var a="z-slider";if(this._zclass!=null){return"z-slider"}else{if(this.inScaleMold()){return a+"-scale"}else{if(this.inSphereMold()){return a+("horizontal"==this._orient?"-sphere-hor":"-sphere-ver")}else{return a+("horizontal"==this._orient?"-hor":"-ver")}}}},$init:function(){this.$supers("$init",arguments);this.inner=this.$n("inner");this.button=this.$n("btn")},doMouseOver_:function(a){this.$supers("doMouseOver_",arguments);jq(this.btn).addClass(this.getZclass()+"-btn-over")},doMouseOut_:function(a){this.$supers("doMouseOut_",arguments);jq(this.btn).removeClass(this.getZclass()+"-btn-over")},onup_:function(a){var b=zul.inp.Slider.down_btn;if(b){var c=b.id.split("-")[0];var d=zk.Widget.$(c);var e=d.getZclass();jq(b).removeClass(e+"-btn-drag").removeClass(e+"-btn-over")}zul.inp.Slider.down_btn=null;jq(document.body).unbind("mouseup",d.onup_)},doMouseDown_:function(a){this.$supers("doMouseDown_",arguments);jq(this.btn).addClass(this.getZclass()+"-btn-drag");jq(document.body).mouseup(this.onup_);zul.inp.Slider.down_btn=this.btn},_makeDraggable:function(){this._drag=new zk.Draggable(this,this.btn,{constraint:this._orient=="vertical"?"vertical":"horizontal",starteffect:this._startDrag,change:this._dragging,endeffect:this._endDrag})},_snap:function(f,b,g){if((typeof f)=="number"){var e=this,g=b,b=f}else{var e=f.control}var c=e.$n("btn");var d=zk(e.$n()).cmOffset();d=zk(c).toStyleOffset(d[0],d[1]);if(b<=d[0]){b=d[0]}else{var a=d[0]+e._getWidth();if(b>a){b=a}}if(g<=d[1]){g=d[1]}else{var a=d[1]+e._getHeight();if(g>a){g=a}}return[b,g]},_startDrag:function(b){var a=b.control;a.btn.title="";a.slidepos=a._curpos;jq(document.body).append('<div id="zul_slidetip" class="z-slider-pp" style="position:absolute;display:none;z-index:60000;background-color:white;border: 1px outset">'+a.slidepos+"</div>");a.slidetip=jq("#zul_slidetip")[0];if(a.slidetip){a.slidetip.style.display="block";zk(a.slidetip).position(a.$n(),a.isVertical()?"end_before":"after_start")}},_dragging:function(b){var a=b.control;var c=a._realpos();if(c!=a.slidepos){if(c>a._maxpos){c=a._maxpos}a.slidepos=c;if(a.slidetip){a.slidetip.innerHTML=a._slidingtext.replace(/\{0\}/g,c)}a.fire("onScrolling",c)}a._fixPos()},_endDrag:function(b){var a=b.control;var c=a._realpos();a.fire("onScroll",c);a._fixPos();a.btn.title=c;a.inp.value=c;jq(a.slidetip).remove();a.slidetip=null},_realpos:function(f){var a=zk(this.btn).cmOffset(),e=zk(this.node).cmOffset(),c=this._maxpos,g;if(this.isVertical()){var b=this._getHeight();g=b?Math.round(((a[1]-e[1])*c)/b):0}else{var d=this._getWidth();g=d?Math.round(((a[0]-e[0])*c)/d):0}return this._curpos=(g>=0?g:0)},_getWidth:function(){return this.node.clientWidth-this.btn.offsetWidth+7},_getHeight:function(){return this.node.clientHeight-this.btn.offsetHeight+7},_fixPos:_zkf=function(){if(this.isVertical()){var b=this._getHeight(),a=b>0?Math.round((this._curpos*b)/this._maxpos):0,d=zk(this.node).cmOffset();d=zk(this.btn).toStyleOffset(d[0],d[1]);d=this._snap(0,d[1]+a);this.btn.style.top=d[1]+"px"}else{var c=this._getWidth(),a=c>0?Math.round((this._curpos*c)/this._maxpos):0,d=zk(this.node).cmOffset();d=zk(this.btn).toStyleOffset(d[0],d[1]);d=this._snap(d[0]+a,0);this.btn.style.left=d[0]+"px"}},onSize:_zkf,onShow:_zkf,inScaleMold:function(){if(this.getMold()=="scale"){return true}return false},inSphereMold:function(){if(this.getMold()=="sphere"){return true}return false},isVertical:function(){return"vertical"==this._orient},bind_:function(){this.$supers("bind_",arguments);this.inner=this.$n("inner");this.btn=this.$n("btn");this.inp=this.$n("inp");if(this._name){this.inp.name=this._name}if(this.inScaleMold()){this.node=this.$n("real")}else{this.node=this.$n()}if(this._orient=="vertical"){this.btn.style.top="0px";var a=this.node.clientHeight;if(a>0){this.inner.style.height=(a+7)+"px"}else{this.inner.style.height="214px"}}this._makeDraggable();zWatch.listen({onSize:this,onShow:this})},unbind_:function(){this.inp=this.inner=this.btn=this.node=null;if(this._drag){this._drag.destroy();this._drag=null}zWatch.unlisten({onSize:this,onShow:this});this.$supers("unbind_",arguments)}});
zkreg('zul.inp.Slider');zk._m={};
zk._m['scale']=function(b){var d=this.getZclass();var a=this.inScaleMold();if(a){var c=this.uuid;b.push('<div id="'+this.uuid+'" class="'+d+'-tick">');this.uuid=this.uuid+"-real"}b.push("<div",this.domAttrs_(),">");if(a){this.uuid=c}b.push('<div id="',this.uuid,'-inner" class="',d,'-center">');b.push('<div id="',this.uuid,'-btn" class="',d,'-btn">');b.push('<input id="',this.uuid,'-inp" class="',d,'-inp" style="display:none;position:relative"/>');b.push("</div></div></div>");if(a){b.push("</div>")}};
;zk._m['sphere']=[zk._p.Slider,'scale'];zk._m['default']=[zk._p.Slider,'scale'];zkmld(zk._p.Slider,zk._m);zul.inp.Spinner=zk.$extends(zul.inp.FormatWidget,{_value:0,_step:1,_buttonVisible:true,$define:{step:_zkf=function(){},buttonVisible:function(a){this.btn.style.display=a=="true"?"":"none";this.onSize();return},min:_zkf=function(a){this._min=parseInt(a)},max:_zkf},getZclass:function(){var a=this._zclass;return a!=null?a:"z-spinner"},isButtonVisible:function(){return _buttonVisible},intValue:function(){return this.$supers("getValue",arguments)},setConstraint:function(a){if(a!=null){var b=new zul.inp.SimpleSpinnerConstraint(a);this._min=b._min;this._max=b._max;this.$supers("setConstraint",[b])}else{this.$supers("setConstraint",arguments)}},getInputNode:function(){return this.$n("real")},coerceFromString_:function(a){if(!a){return null}var b=zNumFormat.unformat(this._format,a),c=parseInt(b.raw);if(b.raw!=""+c){return{error:zMsgFormat.format(msgzul.INTEGER_REQUIRED,a)}}if(b.divscale){c=Math.round(c/Math.pow(10,b.divscale))}return c},coerceToString_:function(b){var a=this._format;return a?zNumFormat.format(a,b):b!=null?""+b:""},onSize:_zkf=function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth();this._auxb.fixpos()},onShow:_zkf,onHide:zul.inp.Textbox.onHide,validate:zul.inp.Intbox.validate,doKeyPress_:function(a){if(!this._shallIgnore(a,zul.inp.InputWidget._allowKeys)){this.$supers("doKeyPress_",arguments)}},doKeyDown_:function(a){var b=this.inp;if(b.disabled||b.readOnly){return}switch(a.keyCode){case 38:this.checkValue();this._increase(true);a.stop();return;case 40:this.checkValue();this._increase(false);a.stop();return}this.$supers("doKeyDown_",arguments)},ondropbtnup:function(a){jq(this._currentbtn).removeClass(this.getZclass()+"-btn-clk");this.domUnlisten_(document.body,"mouseup","ondropbtnup");this._currentbtn=null},_btnDown:function(a){if(this.inp&&!this.inp.disabled&&!zk.dragging){if(this._currentbtn){this.ondropbtnup(a)}jq(b).addClass(this.getZclass()+"-btn-clk");this.domListen_(document.body,"mouseup","ondropbtnup");this._currentbtn=b}var c=this.inp,b=this.btn;if(c.disabled){return}this.checkValue();b=zk.opera||zk.safari?b:b.firstChild,ofs=zk(b).revisedOffset();if((a.pageY-ofs[1])<b.offsetHeight/2){this._increase(true);this._startAutoIncProc(true)}else{this._increase(false);this._startAutoIncProc(false)}},checkValue:function(){var c=this.inp,b=this._min,a=this._max;if(!c.value){if(b&&a){c.value=(b<=0&&0<=a)?0:b}else{if(b){c.value=b<=0?0:b}else{if(a){c.value=0<=a?0:a}else{c.value=0}}}}},_btnUp:function(b){var c=this.inp;if(c.disabled){return}this._onChanging();this._stopAutoIncProc();if(zk.ie){var a=c.value.length;zk(c).setSelectionRange(a,a)}c.focus()},_btnOut:function(a){if(this.inp&&!this.inp.disabled&&!zk.dragging){jq(this.btn).removeClass(this.getZclass()+"-btn-over")}var b=this.inp;if(b.disabled){return}this._stopAutoIncProc()},_btnOver:function(a){if(this.inp&&!this.inp.disabled&&!zk.dragging){jq(this.btn).addClass(this.getZclass()+"-btn-over")}},_increase:function(a){var b=this.inp,c=parseInt(b.value);if(a){result=c+this._step}else{result=c-this._step}if(result>Math.pow(2,31)-1){result=Math.pow(2,31)-1}else{if(result<-Math.pow(2,31)){result=-Math.pow(2,31)}}if(this._max!=null&&result>this._max){result=this._max}else{if(this._min!=null&&result<this._min){result=this._min}}b.value=result;this._onChanging()},_clearValue:function(){var a=this.inp;a.value=a.defaultValue="";return true},_startAutoIncProc:function(a){var b=this;if(this.timerId){clearInterval(this.timerId)}this.timerId=setInterval(function(){b._increase(a)},200)},_stopAutoIncProc:function(){if(this.timerId){clearTimeout(this.timerId)}this.timerId=null},syncWidth:function(){var e=this.$n();if(!zk(e).isRealVisible()||(!this._inplace&&!e.style.width)){return}if(this._buttonVisible&&this._inplace){if(!e.style.width){var c=jq(e),f=this.getInplaceCSS();c.removeClass(f);if(zk.opera){e.style.width=jq.px(zk(e).revisedWidth(e.clientWidth)+zk(e).borderWidth())}else{e.style.width=jq.px(zk(e).revisedWidth(e.offsetWidth))}c.addClass(f)}}var b=zk.opera?zk(e).revisedWidth(e.clientWidth)+zk(e).borderWidth():zk(e).revisedWidth(e.offsetWidth),a=this.$n("btn"),d=this.getInputNode();d.style.width=jq.px(zk(d).revisedWidth(b-(a?a.offsetWidth:0)))},doFocus_:function(a){var b=this.$n();if(this._inplace){b.style.width=jq.px(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doFocus_",arguments);if(this._inplace){if(jq(b).hasClass(this.getInplaceCSS())){jq(b).removeClass(this.getInplaceCSS());this.onSize()}}},doBlur_:function(a){var b=this.$n();if(this._inplace&&this._inplaceout){b.style.width=jq.px(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doBlur_",arguments);if(this._inplace&&this._inplaceout){jq(b).addClass(this.getInplaceCSS());this.onSize();b.style.width=this.getWidth()||""}},afterKeyDown_:function(a){if(this._inplace){jq(this.$n()).toggleClass(this.getInplaceCSS(),a.keyCode==13?null:false)}this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers("bind_",arguments);this.timeId=null;var b=this.inp=this.$n("real"),a=this.btn=this.$n("btn");zWatch.listen({onSize:this,onShow:this});if(this._inplace){jq(b).addClass(this.getInplaceCSS())}if(a){this._auxb=new zul.Auxbutton(this,a,b);this.domListen_(a,"onmousedown","_btnDown");this.domListen_(a,"onmouseup","_btnUp");this.domListen_(a,"onmouseout","_btnOut");this.domListen_(a,"mouseover","_btnOver")}this.syncWidth()},unbind_:function(){if(this.timerId){clearTimeout(this.timerId);this.timerId=null}zWatch.unlisten({onSize:this,onShow:this});var a=this.btn;if(a){this._auxb.cleanup();this._auxb=null;this.domUnlisten_(a,"onmousedown","_btnDown");this.domUnlisten_(a,"onmouseup","_btnUp");this.domUnlisten_(a,"onmouseout","_btnOut");this.domUnlisten_(a,"mouseover","_btnOver")}this.$supers("unbind_",arguments)}});
zkreg('zul.inp.Spinner');zk._m={};
zk._m['default']=function(a){var b=this.getZclass();a.push("<span",this.domAttrs_({text:true}),">");a.push('<input id="',this.uuid,'-real"','class="',this.getZclass(),'-inp"',this.textAttrs_(),"/>");a.push('<span id="',this.uuid,'-btn"','class="',this.getZclass(),'-btn" ');if(!this.isButtonVisible()){a.push('" style="display:none"')}a.push('><span class="',b,'-img"></span></span></span>')};
;zkmld(zk._p.Spinner,zk._m);zul.inp.Timebox=zk.$extends(zul.inp.FormatWidget,{LEGAL_CHARS:"ahKHksm",MINUTE_FIELD:1,SECOND_FIELD:2,AM_PM_FIELD:3,HOUR0_FIELD:4,HOUR1_FIELD:5,HOUR2_FIELD:6,HOUR3_FIELD:7,_buttonVisible:true,_format:"HH:mm",$define:{buttonVisible:function(a){var b=this.$n("btn");if(b){a?jq(b).show():jq(b).hide();this.onSize()}},format:function(a,b){this._parseFormat(a);var c=this.getInputNode();if(c){c.value=this.coerceToString_(this._value);if(b){c.defaultValue=c.value}}}},setValue:function(c){var b;if(c){b=[];for(var a=arguments.length;--a>0;){b.unshift(arguments[a])}b.unshift((typeof c=="string")?this.coerceFromString_(c):c)}else{b=arguments}this.$supers("setValue",b)},getRawText:function(){return this.coerceToString_(this._value)},_checkFormat:function(a){var e,d=[];for(var f=0,b=a.length;f<b;f++){var g=a.charAt(f);switch(g){case"K":case"h":case"H":case"k":case"m":case"s":if(a.charAt(f+1)==g){f++}else{e=true}d.push(g+g);break;default:d.push(g)}}if(e){return zMsgFormat.format(msgzul.DATE_REQUIRED+d.join(""))}},_parseFormat:function(e){var k=[];for(var h=0,g=e.length;h<g;h++){var m=e.charAt(h);switch(m){case"a":var l=zk.APM[0].length;k.push(new zul.inp.AMPMHandler([h,h+l-1],this.AM_PM_FIELD));break;case"K":var a=h,f=e.charAt(h+1)=="K"?++h:h;k.push(new zul.inp.HourHandler2([a,f],this.HOUR3_FIELD));break;case"h":var a=h,f=e.charAt(h+1)=="h"?++h:h;k.push(new zul.inp.HourHandler([a,f],this.HOUR2_FIELD));break;case"H":var a=h,f=e.charAt(h+1)=="H"?++h:h;k.push(new zul.inp.HourInDayHandler([a,f],this.HOUR0_FIELD));break;case"k":var a=h,f=e.charAt(h+1)=="k"?++h:h;k.push(new zul.inp.HourInDayHandler2([a,f],this.HOUR1_FIELD));break;case"m":var a=h,f=e.charAt(h+1)=="m"?++h:h;k.push(new zul.inp.MinuteHandler([a,f],this.MINUTE_FIELD));break;case"s":var a=h,f=e.charAt(h+1)=="s"?++h:h;k.push(new zul.inp.SecondHandler([a,f],this.SECOND_FIELD));break;default:var d=[],a=h,f=h;while((d.push(m))&&++f<g){m=e.charAt(f);if(this.LEGAL_CHARS.indexOf(m)!=-1){f--;break}}k.push({index:[a,f],format:(function(c){return function(){return c}})(d.join(""))});h=f}}for(var b,h=0,g=k.length;h<g;h++){if(k[h].type==this.AM_PM_FIELD){b=k[h].index[1]-k[h].index[0];if(!b){break}}else{if(b){k[h].index[0]+=b;k[h].index[1]+=b}}}this._fmthdler=k},coerceToString_:function(c){if(!this._fmthdler){return""}var b=[];for(var d=0,a=this._fmthdler.length;d<a;d++){b.push(this._fmthdler[d].format(c))}return b.join("")},coerceFromString_:function(a){if(!a){return null}var g;if((g=this._checkFormat(this._format))){return{error:g}}if(!this._fmthdler){this._parseFormat(this._format)}var c=new Date(),h,f,k,b=[];for(var e=0,d=this._fmthdler.length;e<d;e++){if(this._fmthdler[e].type==this.AM_PM_FIELD){h=true;f=this._fmthdler[e].unformat(c,a)}else{if(this._fmthdler[e].type){b.push(this._fmthdler[e])}}}if(h){for(var e=0,d=b.length;e<d;e++){if(b[e].type==this.HOUR2_FIELD||b[e].type==this.HOUR3_FIELD){k=true;break}}}if(k){for(var e=0,d=b.length;e<d;e++){if(b[e]!=this.HOUR0_FIELD&&b[e]!=this.HOUR1_FIELD){c=b[e].unformat(c,a,f)}}}else{for(var e=0,d=b.length;e<d;e++){if(b[e]!=this.HOUR2_FIELD&&b[e].type!=this.HOUR3_FIELD){c=b[e].unformat(c,a)}}}return c},getZclass:function(){var a=this._zclass;return a!=null?a:"z-timebox"},getInputNode:function(){return this.$n("real")},onSize:_zkf=function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth();this._auxb.fixpos()},onShow:_zkf,onHide:zul.inp.Textbox.onHide,validate:zul.inp.Intbox.validate,doClick_:function(a){if(a.domTarget==this.getInputNode()){this._doCheckPos(this._getPos())}this.$supers("doClick_",arguments)},doKeyPress_:function(a){if(zk.opera&&a.keyCode!=9){a.stop();return}this.$supers("doKeyPress_",arguments)},doKeyDown_:function(a){var c=this.getInputNode();if(c.disabled||c.readOnly){return}this.lastPos=this._getPos();var b=a.keyCode;switch(b){case 48:case 96:case 49:case 97:case 50:case 98:case 51:case 99:case 52:case 100:case 53:case 101:case 54:case 102:case 55:case 103:case 56:case 104:case 57:case 105:b=b-(b>=96?96:48);this._doType(b);a.stop();return;case 37:this._doLeft();a.stop();return;case 38:this._doUp();a.stop();return;case 39:this._doRight();a.stop();return;case 40:this._doDown();a.stop();return;case 46:this._doDel();a.stop();return;case 8:this._doBack();a.stop();return;case 9:break;case 35:case 36:this._doCheckPos(b==36?0:c.value.length);a.stop();return;case 13:case 27:break;default:if(!(b>=112&&b<=123)&&!a.ctrlKey&&!a.altKey){a.stop()}}this.$supers("doKeyDown_",arguments)},_dodropbtnup:function(a){jq(this._currentbtn).removeClass(this.getZclass()+"-btn-clk");this.domUnlisten_(document.body,"onMouseup","_dodropbtnup");this._currentbtn=null},_btnDown:function(a){var c=this.getInputNode(),b=this.$n("btn");if(!c||c.disabled){return}if(this._currentbtn){this._dodropbtnup(a)}jq(b).addClass(this.getZclass()+"-btn-clk");this.domListen_(document.body,"onMouseup","_dodropbtnup");this._currentbtn=b;b=zk.opera||zk.safari?b:b.firstChild;if(!this._fmthdler){this._parseFormat(this._format)}if(!c.value){c.value=this.coerceToString_()}var d=zk(b).revisedOffset();if((a.pageY-d[1])<b.offsetHeight/2){this._doUp();this._startAutoIncProc(true)}else{this._doDown();this._startAutoIncProc(false)}this._lastPos=this._getPos()},_btnUp:function(a){var b=this.getInputNode();if(b.disabled||zk.dragging){return}this._onChanging();this._stopAutoIncProc();if(zk.ie&&this._lastPos){zk(b).setSelectionRange(this._lastPos,this._lastPos)}b.focus()},_btnOut:function(a){var b=this.getInputNode();if(!b||b.disabled||zk.dragging){return}jq(this.$n("btn")).removeClass(this.getZclass()+"-btn-over");this._stopAutoIncProc()},_btnOver:function(a){if(this.getInputNode()&&!this.getInputNode().disabled&&!zk.dragging){jq(this.$n("btn")).addClass(this.getZclass()+"-btn-over")}},_getPos:function(){return zk(this.getInputNode()).getSelectionRange()[1]},_doCheckPos:function(f){var e=this.getInputNode();if(!this._fmthdler){this._parseFormat(this._format)}for(var d=0,c=this._fmthdler.length;d<c;d++){var a=this._fmthdler[d];if(a.index[1]+1==f){if(a.type){break}var b=d;while(this._fmthdler[++b]){if(this._fmthdler[b].type){f=this._fmthdler[b].index[0]+1;break}}break}else{if(a.index[0]<=f&&a.index[1]+1>=f){if(!a.type){var b=d;if(this._fmthdler[b+1]){while(this._fmthdler[++b]){if(this._fmthdler[b].type){f=this._fmthdler[b].index[0]+1;break}}}else{while(this._fmthdler[--b]){if(this._fmthdler[b].type){f=this._fmthdler[b].index[1]+1;break}}}}else{if(a.type==this.AM_PM_FIELD){f=a.index[1]+1;break}else{if(a.index[0]==f){f++}break}}}}}zk(e).setSelectionRange(f,f);this.lastPos=f},_doLeft:function(){var f=this.getInputNode(),g=this.lastPos-1,b=this.getTimeHandler();for(var e=0,d=this._fmthdler.length;e<d;e++){var h=this._fmthdler[e];if(h.index[0]==g){var c=e;g++;while(this._fmthdler[--c]){if(this._fmthdler[c].type){g=this._fmthdler[c].index[1]+1;break}}break}else{if(h.index[0]<g&&h.index[1]>=g){if(!h.type||h.type==this.AM_PM_FIELD){var c=e;g++;while(this._fmthdler[--c]){if(this._fmthdler[c].type){g=this._fmthdler[c].index[1]+1;break}}}else{break}}}}if(b.type&&b.type!=this.AM_PM_FIELD){if(g<=b.index[0]||g>b.index[1]+1){var a=f.value,k=a.substring(b.index[0],b.index[1]+1);k=k.replace(/ /g,"0");f.value=a.substring(0,b.index[0])+k+a.substring(b.index[1]+1,a.length)}}zk(f).setSelectionRange(g,g);this.lastPos=g},_doRight:function(){var f=this.getInputNode(),g=this.lastPos+1,b=this.getTimeHandler();for(var e=0,d=this._fmthdler.length;e<d;e++){var h=this._fmthdler[e];if(h.index[1]+2==g){var c=e;g--;while(this._fmthdler[++c]){if(this._fmthdler[c].type){g=this._fmthdler[c].index[0]+1;break}}break}else{if(h.index[0]<g&&h.index[1]+1>=g){if(!h.type||h.type==this.AM_PM_FIELD){var c=e;g--;while(this._fmthdler[++c]){if(this._fmthdler[c].type){g=this._fmthdler[c].index[0]+1;break}}}else{break}}}}if(b.type&&b.type!=this.AM_PM_FIELD){if(g<=b.index[0]||g>b.index[1]+1){var a=f.value,k=a.substring(b.index[0],b.index[1]+1);k=k.replace(/ /g,"0");f.value=a.substring(0,b.index[0])+k+a.substring(b.index[1]+1,a.length)}}zk(f).setSelectionRange(g,g);this.lastPos=g},_doUp:function(){this.getTimeHandler().increase(this,1);this._onChanging()},_doDown:function(){this.getTimeHandler().increase(this,-1);this._onChanging()},_doBack:function(){this.getTimeHandler().deleteTime(this,true)},_doDel:function(){this.getTimeHandler().deleteTime(this,false)},_doType:function(a){this.getTimeHandler().addTime(this,a)},getTimeHandler:function(){var e=this._getPos(),d;for(var b=0,c=this._fmthdler,a=c.length;b<a;b++){if(!c[b].type){continue}if(c[b].index[0]<e&&c[b].index[1]+1>=e){return c[b]}d=c[b]}return d},_startAutoIncProc:function(a){if(this.timerId){clearInterval(this.timerId)}var b=this,c=a?"_doUp":"_doDown";this.timerId=setInterval(function(){b[c]()},300)},_stopAutoIncProc:function(){if(this.timerId){clearTimeout(this.timerId)}this.currentStep=this.defaultStep;this.timerId=null},syncWidth:function(){var e=this.$n();if(!zk(e).isRealVisible()||(!this._inplace&&!e.style.width)){return}if(this._buttonVisible&&this._inplace){if(!e.style.width){var c=jq(e),f=this.getInplaceCSS();c.removeClass(f);if(zk.opera){e.style.width=jq.px(zk(e).revisedWidth(e.clientWidth)+zk(e).borderWidth())}else{e.style.width=jq.px(zk(e).revisedWidth(e.offsetWidth))}c.addClass(f)}}var b=zk.opera?zk(e).revisedWidth(e.clientWidth)+zk(e).borderWidth():zk(e).revisedWidth(e.offsetWidth),a=this.$n("btn"),d=this.getInputNode();d.style.width=jq.px(zk(d).revisedWidth(b-(a?a.offsetWidth:0)))},doFocus_:function(a){var d=this.$n(),c=this.getInputNode(),b=zk(c).getSelectionRange();if(this._inplace){d.style.width=jq.px(zk(d).revisedWidth(d.offsetWidth))}this.$supers("doFocus_",arguments);if(!this._fmthdler){this._parseFormat(this._format)}if(!c.value){c.value=this.coerceToString_()}this._doCheckPos(this._getPos());if(b[0]!==b[1]){zk(c).setSelectionRange(b[0],b[1]);this.lastPos=b[1]}if(this._inplace){if(jq(d).hasClass(this.getInplaceCSS())){jq(d).removeClass(this.getInplaceCSS());this.onSize()}}},doBlur_:function(a){var b=this.$n();if(this._inplace&&this._inplaceout){b.style.width=jq.px(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doBlur_",arguments);if(this._inplace&&this._inplaceout){jq(b).addClass(this.getInplaceCSS());this.onSize();b.style.width=this.getWidth()||""}},afterKeyDown_:function(a){if(this._inplace){jq(this.$n()).toggleClass(this.getInplaceCSS(),a.keyCode==13?null:false)}this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers("bind_",arguments);var b=this.getInputNode(),a=this.$n("btn");zWatch.listen({onSize:this,onShow:this});if(this._inplace){jq(b).addClass(this.getInplaceCSS())}if(a){this._auxb=new zul.Auxbutton(this,a,b);this.domListen_(a,"onMousedown","_btnDown").domListen_(a,"onMouseup","_btnUp").domListen_(a,"onMouseout","_btnOut").domListen_(a,"onMouseover","_btnOver")}this.syncWidth()},unbind_:function(){if(this.timerId){clearTimeout(this.timerId);this.timerId=null}zWatch.unlisten({onSize:this,onShow:this});var a=this.$n("btn");if(a){this._auxb.cleanup();this._auxb=null;this.domUnlisten_(a,"onMousedown","_btnDown").domUnlisten_(a,"onMouseup","_btnUp").domUnlisten_(a,"onMouseout","_btnOut").domUnlisten_(a,"onMouseover","_btnOver")}this.$supers("unbind_",arguments)}});zul.inp.TimeHandler=zk.$extends(zk.Object,{maxsize:59,minsize:0,digits:2,$init:function(a,b){this.index=a;this.type=b},format:function(a){return"00"},unformat:function(a,b){return a},increase:function(g,b){var d=g.getInputNode(),h=this.index[0],c=this.index[1]+1,f=d.value,e=f.substring(h,c);e=zk.parseInt(e.replace(/ /g,"0"));e+=b;var a=this.maxsize+1;if(e<this.minsize){e=this.maxsize}else{if(e>=a){e=this.minsize}}if(e<10){e="0"+e}d.value=f.substring(0,h)+e+f.substring(c,f.length);zk(d).setSelectionRange(h,c)},deleteTime:function(f,b){var c=f.getInputNode(),d=zk(c).getSelectionRange(),h=d[1],g=this.index[0],a=this.index[1]+1,e=c.value;if(d[0]!=d[1]){c.value=e.substring(0,g)+"  "+e.substring(a,e.length);h=a}else{if(h==g+1){if(b){c.value=e.substring(0,g)+" "+e.substring(g+1,e.length)}else{c.value=e.substring(0,g+1)+" "+e.substring(g+2,e.length);h++}}else{if(b){c.value=e.substring(0,g)+" "+e.substring(g,g+1)+e.substring(a,e.length)}}}zk(c).setSelectionRange(h,h)},addTime:function(j,g){var h=j.getInputNode(),d=zk(h).getSelectionRange(),b=this.index[0],f=this.index[1]+1,e=h.value,i=e.substring(b,f);if(d[1]-d[0]>2){d[0]=d[1]-2}var a=e.substring(d[0],d[1]);if(a){if(d[1]-d[0]>1){a=" "+g}h.value=e.substring(0,d[0])+a+e.substring(d[1],e.length)}else{var c="";if(d[1]==f){if(i.startsWith(" ")){if(i.endsWith(" ")){c=" "+g}else{c=i.charAt(1)+g}}else{if(i.endsWith(" ")){c=i.charAt(0)+g}}}else{if(i.startsWith(" ")){c=g+i.charAt(1)}}if(c&&c!=i){if(zk.parseInt(c)<=this.maxsize){h.value=e.substring(0,b)+c+e.substring(f,e.length)}}}zk(h).setSelectionRange(d[1],d[1])},getText:function(b){var c=this.index[0],a=this.index[1]+1;return b.substring(c,a)}});zul.inp.HourInDayHandler=zk.$extends(zul.inp.TimeHandler,{maxsize:23,minsize:0,format:function(a){if(!a){return"00"}else{var b=a.getHours();if(b<10){b="0"+b}return b.toString()}},unformat:function(a,b){a.setHours(zk.parseInt(this.getText(b)));return a}});zul.inp.HourInDayHandler2=zk.$extends(zul.inp.TimeHandler,{maxsize:24,minsize:1,format:function(a){if(!a){return"24"}else{var b=a.getHours();if(b==0){b="24"}else{if(b<10){b="0"+b}}return b.toString()}},unformat:function(b,c){var a=zk.parseInt(this.getText(c));if(a==24){a=0}b.setHours(a);return b}});zul.inp.HourHandler=zk.$extends(zul.inp.TimeHandler,{maxsize:12,minsize:1,format:function(a){if(!a){return"12"}else{var b=a.getHours();b=(b%12);if(b==0){b="12"}else{if(b<10){b="0"+b}}return b.toString()}},unformat:function(b,d,c){var a=zk.parseInt(this.getText(d));if(a==12){a=0}b.setHours(c?a:a+12);return b}});zul.inp.HourHandler2=zk.$extends(zul.inp.TimeHandler,{maxsize:11,minsize:0,format:function(a){if(!a){return"00"}else{var b=a.getHours();b=(b%12);if(b<10){b="0"+b}return b.toString()}},unformat:function(b,d,c){var a=zk.parseInt(this.getText(d));b.setHours(c?a:a+12);return b}});zul.inp.MinuteHandler=zk.$extends(zul.inp.TimeHandler,{format:function(b){if(!b){return"00"}else{var a=b.getMinutes();if(a<10){a="0"+a}return a.toString()}},unformat:function(a,b){a.setMinutes(zk.parseInt(this.getText(b)));return a}});zul.inp.SecondHandler=zk.$extends(zul.inp.TimeHandler,{format:function(a){if(!a){return"00"}else{var b=a.getSeconds();if(b<10){b="0"+b}return b.toString()}},unformat:function(a,b){a.setSeconds(zk.parseInt(this.getText(b)));return a}});zul.inp.AMPMHandler=zk.$extends(zul.inp.TimeHandler,{format:function(a){if(!a){return zk.APM[0]}var b=a.getHours();return zk.APM[b<12?0:1]},unformat:function(a,b){return zk.APM[0]==this.getText(b)},deleteTime:zk.$void,increase:function(f,a){var c=f.getInputNode(),g=this.index[0],b=this.index[1]+1,e=c.value,d=e.substring(g,b);d=zk.APM[0]==d?zk.APM[1]:zk.APM[0];c.value=e.substring(0,g)+d+e.substring(b,e.length);zk(c).setSelectionRange(g,b)}});
zkreg('zul.inp.Timebox');zk._m={};
zk._m['default']=[zk._p.Spinner,'default'];zkmld(zk._p.Timebox,zk._m);zul.inp.Decimalbox=zk.$extends(zul.inp.FormatWidget,{coerceFromString_:function(a){if(!a){return null}var b=zNumFormat.unformat(this._format,a),c=new zk.BigDecimal(b.raw);if(b.raw!=c.$toString()&&b.raw!="+"+c&&b.raw.indexOf("e")<0){return{error:zMsgFormat.format(msgzul.NUMBER_REQUIRED,a)}}if(b.divscale){c.setPrecision(c.getPrecision()+b.divscale)}return c},coerceToString_:function(b){var a=this._format;return b!=null?a?zNumFormat.format(a,b.$toString()):b.$toLocaleString():null},getZclass:function(){var a=this._zclass;return a!=null?a:"z-decimalbox"},doKeyPress_:function(a){if(!this._shallIgnore(a,zul.inp.Doublebox._allowKeys)){this.$supers("doKeyPress_",arguments)}}});
zkreg('zul.inp.Decimalbox');zk._m={};
zk._m['default']=[zk._p.Intbox,'default'];zkmld(zk._p.Decimalbox,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.inp',1);zk.load('zul.inp',function(){zk._n='zul.db';try{zk._p=zk.$package(zk._n,false,true);
zul.db.Calendar=zk.$extends(zul.Widget,{_view:"day",$define:{value:_zkf=function(){this.rerender()},constraint:function(){var b=this._constraint||"";if(b.startsWith("between")){var a=b.indexOf("and",7);if(a<0&&zk.debugJS){zk.error("Unknown constraint: "+b)}this._beg=zDateFormat.parseDate(b.substring(7,a),"yyyyMMdd");this._end=zDateFormat.parseDate(b.substring(a+3),"yyyyMMdd");if(this._beg.getTime()>this._end.getTime()){var c=this._beg;this._beg=this._end;this._end=c}this._beg.setHours(0);this._beg.setMinutes(0);this._beg.setSeconds(0);this._beg.setMilliseconds(0);this._end.setHours(0);this._end.setMinutes(0);this._end.setSeconds(0);this._end.setMilliseconds(0)}else{if(b.startsWith("before")){this._end=zDateFormat.parseDate(b.substring(6),"yyyyMMdd");this._end.setHours(0);this._end.setMinutes(0);this._end.setSeconds(0);this._end.setMilliseconds(0)}else{if(b.startsWith("after")){this._beg=zDateFormat.parseDate(b.substring(5),"yyyyMMdd");this._beg.setHours(0);this._beg.setMinutes(0);this._beg.setSeconds(0);this._beg.setMilliseconds(0)}}}}},getFormat:function(){return this._fmt||"yyyy/MM/dd"},getZclass:function(){var a=this._zclass;return a!=null?a:"z-calendar"},today:function(){return zUtl.today()},bind_:function(){this.$supers("bind_",arguments);this._value?zDateFormat.parseDate(this._value,this.getFormat()):new Date();var e=this.$n("title"),a=this.$n("mid"),b=this.$n("ly"),c=this.$n("ry"),d=this.getZclass();jq(e).hover(function(){$(this).toggleClass(d+"-title-over")},function(){$(this).toggleClass(d+"-title-over")});this._markCal();this.domListen_(e,"onClick","_changeView").domListen_(a,"onClick","_choiceData").domListen_(b,"onClick","_doclickArrow").domListen_(c,"onClick","_doclickArrow").domListen_(a,"onMouseOver","_doMouseEffect").domListen_(a,"onMouseOut","_doMouseEffect")},unbind_:function(){var d=this.$n("title"),a=this.$n("mid"),b=this.$n("ly"),c=this.$n("ry");this.domUnlisten_(d,"onClick","_changeView").domUnlisten_(a,"onClick","_choiceData").domUnlisten_(b,"onClick","_doclickArrow").domUnlisten_(c,"onClick","_doclickArrow").domUnlisten_(a,"onMouseOver","_doMouseEffect").domUnlisten_(a,"onMouseOut","_doMouseEffect").$supers("unbind_",arguments)},_doclickArrow:function(a){var b=a.domTarget,c=b.id.indexOf("-ly")>0?-1:1;if(jq(b).hasClass(this.getZclass()+(c==-1?"-left-icon-disd":"-right-icon-disd"))){return}switch(this._view){case"day":this._shiftDate("m",c);break;case"month":this._shiftDate("y",c);break;case"year":this._shiftDate("y",c*10);break;case"decade":this._shiftDate("y",c*100);break}this.rerender()},_doMouseEffect:function(a){var b=a.domTarget.tagName=="TD"?a.domTarget:a.domTarget.parentNode,c=this.getZclass();if(jq(b).hasClass(c+"-disd")){return}if(jq(b).is("."+c+"-seld")){jq(b).removeClass(c+"-over");jq(b).toggleClass(c+"-over-seld")}else{jq(b).toggleClass(c+"-over")}},getTime:function(){return this._value?zDateFormat.parseDate(this._value,this.getFormat()):new Date()},_setTime:function(h,a,e,i,b){var j=this.getTime(),f=h!=null?h:j.getFullYear(),c=a!=null?a:j.getMonth(),g=e!=null?e:j.getDate();this._value=zDateFormat.formatDate(new Date(f,c,g),this.getFormat());this.fire("onChange",{value:this._value})},_choiceData:function(b){var e=b.domTarget;e=e.tagName=="TD"?e:e.parentNode;var f=jq(e).attr("_dt");if(e&&!jq(e).hasClass(this.getZclass()+"-disd")&&!isNaN(f)){var a=e,c=this.getTime();switch(this._view){case"day":var g=this.getTime();this._setTime(null,a._monofs!=null&&a._monofs!=0?c.getMonth()+a._monofs:null,f);var d=this.getTime();if(g.getYear()==d.getYear()&&g.getMonth()==d.getMonth()){this._markCal()}else{this.rerender()}break;case"month":this._setTime(null,f);this._setView("day");break;case"year":this._setTime(f);this._setView("month");break;case"decade":this._setTime(f);this._setView("year");break}}},_shiftDate:function(b,e){var d=this.getTime(),c=d.getFullYear(),f=d.getMonth(),a=d.getDate();switch(b){case"d":a=a+e;break;case"m":f=f+e;break;case"y":c=c+e;break;case"d":c=c+e;break}this._value=zDateFormat.formatDate(new Date(c,f,a),this.getFormat());this.fire("onChange",{value:this._value,shallClose:false})},_changeView:function(c){var b=this.$n("tm"),a=this.$n("ty"),d=this.$n("tyd");if(c.domTarget==b){this._setView("month")}else{if(c.domTarget==a){this._setView("year")}else{if(c.domTarget==d){this._setView("decade")}}}},_setView:function(a){if(a!=this._view){this._view=a;this.rerender()}},_invalid:function(g,b,e,c){var f=new Date(g,b,e,0,0,0,0);switch(this._constraint){case"no today":return c-f==0;break;case"no past":return(f-c)/86400000<0;break;case"no future":return(c-f)/86400000<0;break;default:var a=false;if(this._beg&&(a=(f-this._beg)/86400000<0)){return a}if(this._end&&(a=(this._end-f)/86400000<0)){return a}return a}},_markCal:function(){var c=this.getZclass(),x=this.getTime(),n=x.getMonth(),u=x.getDate(),f=x.getFullYear(),e=new Date(f,n+1,0).getDate(),l=new Date(f,n,0).getDate(),g=new Date(f,n,1).getDay()-zk.DOW_1ST,t=this.today();for(var r=0;r<12;++r){var s=this.$n("m"+r),h=this.$n("y"+r),i=f%10+1;if(s){if(n==r){jq(s).addClass(c+"-seld");jq(s).removeClass(c+"-over")}else{jq(s).removeClass(c+"-seld")}}if(h){if(i==r){jq(h).addClass(c+"-seld");jq(h).removeClass(c+"-over")}else{jq(h).removeClass(c+"-seld")}}}if(g<0){g+=7}for(var r=0,b=-g+1;r<6;++r){var p=this.$n("w"+r);if(p!=null){for(var q=0;q<7;++q,++b){g=b<=0?l+b:b<=e?b:b-e;if(q==0&&b>e){p.style.display="none"}else{if(q==0){p.style.display=""}var a=p.cells[q],w=b<=0?-1:b<=e?0:1,o=b==u;a.style.textDecoration="";a._monofs=w;jq(a).removeClass(c+"-over");jq(a).removeClass(c+"-over-seld");if(o){jq(a).addClass(c+"-seld")}else{jq(a).removeClass(c+"-seld")}if(this._invalid(f,n+w,g,t)){jq(a).addClass(c+"-disd")}else{jq(a).removeClass(c+"-disd")}jq(a).html('<a href="javascript:;">'+g+"</a>").attr("_dt",g)}}}}}});
zkreg('zul.db.Calendar');zk._m={};
zk._m['popup']=function(a){a.push('<table id="',this.uuid,'"',this.domAttrs_(),"</table>")};
;zk._m['default']=function(l){var a=this.uuid,r=this._view,c=this.getZclass(),f=this.getTime(),g=f.getMonth(),o=f.getDate(),q=f.getFullYear(),b=q-(q%10+1),p=zk.parseInt(q/100);l.push('<div id="',this.uuid,'"',this.domAttrs_(),'><table width="100%"',zUtl.cellps0,">",'<tr><td class="',c,'-tdl"><div  class="',c,'-left"><div id="',a,'-ly" class="',c,"-left-icon");if(r=="decade"&&p*100==1900){l.push(" ",c,"-left-icon-disd")}l.push('"></div></div></td>','<td><table class="',c,'-calctrl" width="100%" border="0" cellspacing="0" cellpadding="0">','<tr><td id="',a,'-title">');switch(r){case"day":l.push('<span id="',a,'-tm" class="',c,'-ctrler">',zk.SMON[g],'</span>, <span id="',a,'-ty" class="',c,'-ctrler">',q,"</span>");break;case"month":l.push('<span id="',a,'-tm" class="',c,'-ctrler">',zk.SMON[g],'</span>, <span id="',a,'-ty" class="',c,'-ctrler">',q,"</span>");break;case"year":l.push('<span id="',a,'-tyd" class="',c,'-ctrler">',b+1,"-",b+10,"</span>");break;case"decade":l.push('<span id="',a,'-tyd" class="',c,'-ctrler">',p*100,"-",p*100+99,"</span>");break}l.push("</td></tr></table></td>",'<td class="',c,'-tdr"><div class="',c,'-right"><div id="',a,'-ry" class="',c,"-right-icon");if(r=="decade"&&p*100==2000){l.push(" ",c,"-right-icon-disd")}l.push('"></div></div></td></tr>');switch(r){case"day":l.push('<tr><td colspan="3"><table id="',a,'-mid" class="',c,'-calday" width="100%" border="0" cellspacing="0" cellpadding="0">','<tr class="',c,'-caldow">');var n=(7-zk.DOW_1ST)%7,e=(6+n)%7;for(var i=0;i<7;++i){l.push("<td");if(i==n||i==e){l.push(' style="color:red"')}l.push(">"+zk.S2DOW[i]+"</td>")}l.push("</tr>");for(var i=0;i<6;++i){l.push('<tr class="',c,'-caldayrow" id="',a,"-w",i,'" >');for(var h=0;h<7;++h){l.push("<td></td>")}l.push("</tr>")}l.push("</table></td></tr>");break;case"month":l.push('<tr><td colspan="3" ><table id="',a,'-mid" class="',c,'-calmon" width="100%" border="0" cellspacing="0" cellpadding="0">');for(var i=0;i<12;++i){if(!(i%4)){l.push("<tr>")}l.push('<td id="',a,"-m",i,'"_dt="',i,'"><a href="javascript:;">',zk.SMON[i]+"</a></td>");if(!((i+1)%4)){l.push("</tr>")}}l.push("</table></td></tr>");break;case"year":l.push('<tr><td colspan="3" ><table id="',a,'-mid" class="',c,'-calyear" width="100%" border="0" cellspacing="0" cellpadding="0">');for(var i=0;i<12;++i){if(!(i%4)){l.push("<tr>")}l.push('<td _dt="',b,'" id="',a,"-y",i,'"',(i==0||i==11)?' style="color:gray;"':"",' ><a href="javascript:;">',b,"</a></td>");if(!((i+1)%4)){l.push("</tr>")}b++}l.push("</table></td></tr>");break;case"decade":l.push('<tr><td colspan="3" ><table id="',a,'-mid" class="',c,'-calyear" width="100%" border="0" cellspacing="0" cellpadding="0">');var s=p*100-10;for(var i=0;i<12;++i,s+=10){if(!(i%4)){l.push("<tr>")}if(s<1900||s>2090){l.push("<td>&nbsp;</td>");if(i+1==12){l.push("</tr>")}continue}l.push('<td _dt="',s,'" id="',a,"-de",i,'" class="',(q>=s&&q<=(s+9))?c+"-seld":"",'"',' ><a href="javascript:;"',(i==0||i==11)?'style="color:gray;"':"",">",s,"-<br />",s+9,"</a></td>");if(!((i+1)%4)){l.push("</tr>")}}l.push("</tr></table></td></tr>");break}l.push("</table></div>")};
;zkmld(zk._p.Calendar,zk._m);zul.db.Datebox=zk.$extends(zul.inp.FormatWidget,{_buttonVisible:true,_lenient:true,$init:(function(){function a(){this._pop=new zul.db.CalendarPop();this._tm=new zul.db.CalendarTime();this.appendChild(this._pop);this.appendChild(this._tm)}return function(){this.$supers("$init",arguments);this.$afterInit(a);this.listen({onChange:this},-1000)}})(),$define:{buttonVisible:function(a){var b=this.$n("btn");if(b){a?jq(b).show():jq(b).hide();this.onSize()}},format:function(){if(this._pop){this._pop.setFormat(this._format);if(this._value){this._value=this._pop.getTime()}}var a=this.getInputNode();if(a){a.value=this.coerceToString_(this._value)}},constraint:function(a){if(typeof a=="string"&&a.charAt(0)!="["){this._cst=new zul.inp.SimpleDateConstraint(a)}else{this._cst=a}if(this._cst){delete this._lastRawValVld}if(this._pop){this._pop.setConstraint(this._constraint);this._pop.rerender()}},lenient:null},setValue:function(c){var b;if(c){b=[];for(var a=arguments.length;--a>0;){b.unshift(arguments[a])}b.unshift((typeof c=="string")?this.coerceFromString_(c):c)}else{b=arguments}this.$supers("setValue",b)},onSize:_zkf=function(){var a=this.getWidth();if(!a||a.indexOf("%")!=-1){this.getInputNode().style.width=""}this.syncWidth();this._auxb.fixpos()},onShow:_zkf,getZclass:function(){var a=this._zclass;return a!=null?a:"z-datebox"},getRawText:function(){return this.coerceToString_(this._value)},getTimeFormat:function(){var c=this._format,a=c.indexOf("a"),d=c.indexOf("h"),h=c.indexOf("K"),k=c.indexOf("HH"),b=c.indexOf("k"),e=c.indexOf("m"),l=c.indexOf("s"),i=a>-1,j=i?d>-1||h>-1:false;if(j){var g=d<h?"a KK":"a hh";return g+(e>-1?":mm":"")+(l>-1?":ss":"")}else{var g=k<b?"kk":k>-1?"HH":"";return g+(e>-1?":mm":"")+(l>-1?":ss":"")}},getDateFormat:function(){return this._format.replace(/[ahKHksm]/g,"")},setOpen:function(b){var a=this.$n("pp");if(a){if(!jq(a).zk.isVisible()){this._pop.open()}else{this._pop.close()}}},coerceFromString_:function(b){if(b){var a=zDateFormat.parseDate(b,this.getFormat(),!this._lenient);if(!a){return{error:zMsgFormat.format(msgzul.DATE_REQUIRED+this._format)}}return a}else{return b}},coerceToString_:function(a){return a?zDateFormat.formatDate(a,this.getFormat()):""},getInputNode:function(){return this.$n("real")},syncWidth:function(){var e=this.$n();if(!zk(e).isRealVisible()||(!this._inplace&&!e.style.width)){return}if(this._buttonVisible&&this._inplace){if(!e.style.width){var c=jq(e),f=this.getInplaceCSS();c.removeClass(f);if(zk.opera){e.style.width=jq.px(zk(e).revisedWidth(e.clientWidth)+zk(e).borderWidth())}else{e.style.width=jq.px(zk(e).revisedWidth(e.offsetWidth))}c.addClass(f)}}var b=zk.opera?zk(e).revisedWidth(e.clientWidth)+zk(e).borderWidth():zk(e).revisedWidth(e.offsetWidth),a=this.$n("btn"),d=this.getInputNode();d.style.width=jq.px(zk(d).revisedWidth(b-(a?a.offsetWidth:0)))},doFocus_:function(a){var b=this.$n();if(this._inplace){b.style.width=jq.px(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doFocus_",arguments);if(this._inplace){if(jq(b).hasClass(this.getInplaceCSS())){jq(b).removeClass(this.getInplaceCSS());this.onSize()}}if(this._readonly&&this._pop){this._pop.open()}},doBlur_:function(a){var b=this.$n();if(this._inplace&&this._inplaceout){b.style.width=jq.px(zk(b).revisedWidth(b.offsetWidth))}this.$supers("doBlur_",arguments);if(this._inplace&&this._inplaceout){jq(b).addClass(this.getInplaceCSS());this.onSize();b.style.width=this.getWidth()||""}},afterKeyDown_:function(a){if(this._inplace){jq(this.$n()).toggleClass(this.getInplaceCSS(),a.keyCode==13?null:false)}this.$supers("afterKeyDown_",arguments)},bind_:function(){this.$supers("bind_",arguments);var a=this.$n("btn"),b=this.getInputNode();if(this._inplace){jq(b).addClass(this.getInplaceCSS())}if(a){this._auxb=new zul.Auxbutton(this,a,b);this.domListen_(a,"onClick","_doBtnClick")}this.syncWidth();zWatch.listen({onSize:this,onShow:this});this._pop.setFormat(this.getDateFormat())},unbind_:function(){var a=this.$n("btn");if(a){this._auxb.cleanup();this._auxb=null;this.domUnlisten_(a,"onClick","_doBtnClick")}zWatch.unlisten({onSize:this,onShow:this});this.$supers("unbind_",arguments)},_doBtnClick:function(a){if(!this._disabled){this.setOpen()}a.stop()},onChange:function(a){if(this._pop){this._pop._value=a.data.value}}});zul.db.CalendarPop=zk.$extends(zul.db.Calendar,{$init:function(){this.$supers("$init",arguments);this.listen({onChange:this},-1000)},setFormat:function(b){if(b!=this._fmt){var a=this._fmt;this._fmt=b;if(this.getValue()){this._value=zDateFormat.formatDate(zDateFormat.parseDate(this.getValue(),a),b)}}},close:function(c){var b=this.parent,a=b.$n("pp");if(!a||!zk(a).isVisible()){return}if(this._shadow){this._shadow.hide()}var e=b.getZclass();a.style.display="none";a.className=e+"-pp";jq(a).zk.undoVParent();var d=this.$n("btn");if(d){jq(d).removeClass(e+"-btn-over")}if(!c){jq(b.getInputNode()).focus()}},open:(function(){function a(e){var c=e.$n();if(!c){return}var b=e.$n("pp"),d=e.getInputNode();if(b){zk(b).position(d,"after_start");e._pop.syncShadow();zk(d).focus()}return}return function(){var h=this.parent,e=h.$n(),d=h.$n("pp");if(!e||!d){return}var g=h.getZclass();d.className=e.className+" "+d.className;jq(d).removeClass(g);d.style.width=d.style.height="auto";d.style.position="absolute";d.style.overflow="auto";d.style.display="block";d.style.zIndex="88000";jq(d).zk.makeVParent();if(d.offsetHeight>200){d.style.width="auto"}else{if(d.offsetHeight<10){d.style.height="10px"}}if(d.offsetWidth<e.offsetWidth){d.style.width=e.offsetWidth+"px"}else{var f=jq.innerWidth()-20;if(f<e.offsetWidth){f=e.offsetWidth}if(d.offsetWidth>f){d.style.width=f}}zk(d).position(h.getInputNode(),"after_start");setTimeout(function(){a(h)},150);var c=h.getTimeFormat();if(c){var b=h._tm;b.setVisible(true);b.setFormat(c);b.setValue(h.getValue());b.onShow()}else{h._tm.setVisible(false)}}})(),syncShadow:function(){if(!this._shadow){this._shadow=new zk.eff.Shadow(this.parent.$n("pp"),{left:-4,right:4,top:2,bottom:3,stackup:(zk.useStackup===undefined?zk.ie6_:zk.useStackup)})}this._shadow.sync()},onChange:function(a){var b=this.getTime(),c=this.parent.getValue();if(c){c.setFullYear(b.getFullYear());c.setMonth(b.getMonth());c.setDate(b.getDate())}else{this.parent._value=b}this.parent.getInputNode().value=a.data.value=this.parent.getRawText();this.parent.fire(a.name,a.data);if(this._view=="day"&&a.data.shallClose!==false){this.close();this.parent._inplaceout=true}this.parent.focus();a.stop()},onFloatUp:function(a){if(!zUtl.isAncestor(this.parent,a.origin)){this.close(true)}},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onFloatUp:this})},unbind_:function(){zWatch.unlisten({onFloatUp:this});if(this._shadow){this._shadow.destroy();this._shadow=null}this.$supers("unbind_",arguments)},_setView:function(a){this.parent._tm.setVisible(a=="day");this.$supers("_setView",arguments)},_choiceData:function(a){var b=a.domTarget;b=b.tagName=="TD"?b:b.parentNode;if(b&&jq(b).hasClass(this.getZclass()+"-disd")){this.close()}else{this.$supers("_choiceData",arguments)}}});zul.db.CalendarTime=zk.$extends(zul.inp.Timebox,{$init:function(){this.$supers("$init",arguments);this.listen({onChanging:this},-1000)},onChanging:function(a){var b=this.coerceFromString_(a.data.value),c=this.parent.getValue();if(c){c.setHours(b.getHours());c.setMinutes(b.getMinutes());c.setSeconds(b.getSeconds())}else{this.parent._value=b}this.parent.getInputNode().value=a.data.value=this.parent.getRawText();this.parent.fire(a.name,a.data);if(this._view=="day"&&a.data.shallClose!==false){this.close();this.parent._inplaceout=true}this.parent.focus();a.stop()}});
zkreg('zul.db.Datebox');zk._m={};
zk._m['default']=function(b){var d=this.getZclass(),c=this.uuid;b.push('<span id="',c,'"',this.domAttrs_({text:true}),'><input id="',c,'-real" class="',d,'-inp" autocomplete="off"',this.textAttrs_()," />",'<span id="',c,'-btn" class="',d,'-btn"');if(!this._buttonVisible){b.push(' style="display:none"')}b.push('><span class="',d,'-img" ></span></span><div id="',c,'-pp" class="',d,'-pp" style="display:none" tabindex="-1">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></span>")};
;zkmld(zk._p.Datebox,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.db',1);(function(){zk._n='zul.utl';try{zk._p=zk.$package(zk._n,false,true);
zul.utl.Timer=zk.$extends(zk.Widget,{_running:true,_delay:0,$define:{repeats:_zkf=function(){if(this.desktop){this._sync()}},delay:_zkf,running:_zkf},play:function(){this.setRunning(true)},stop:function(){this.setRunning(false)},_sync:function(){this._stop();this._play()},_play:function(){if(this._running){var a=this.proxy(this._tmfn);if(this._repeats){this._iid=setInterval(a,this._delay)}else{this._tid=setTimeout(a,this._delay)}}},_stop:function(){var a=this._iid;if(a){this._iid=null;clearInterval(a)}a=this._tid;if(a){this._tid=null;clearTimeout(a)}},_tmfn:function(){this.fire("onTimer",null,{ignorable:true})},redraw:function(){},bind_:function(){this.$supers("bind_",arguments);if(this._running){this._play()}},unbind_:function(){this._stop();this.$supers("unbind_",arguments)}});
zkreg('zul.utl.Timer');zul.utl.Iframe=zk.$extends(zul.Widget,{_scrolling:"auto",$define:{src:function(a){var b=this.$n();if(b){b.src=a||""}},scrolling:function(a){if(!a){this._scrolling=a="auto"}var b=this.$n();if(b){if(zk.ie){this.rerender()}else{b.scrolling=a}}},align:function(a){var b=this.$n();if(b){b.align=a||""}},name:function(a){if(n){n.name=a||""}},autohide:function(a){var b=this.$n();if(b){jq(b).attr("z_autohide",a)}}},domAttrs_:function(c){var a=this.$supers("domAttrs_",arguments)+' src="'+(this._src||"")+'" frameborder="0"',b=this._scrolling;if("auto"!=b){a+=' scrolling="'+("true"==b?"yes":"false"==b?"no":b)+'"'}if(b=this._align){a+=' align="'+b+'"'}if(b=this._name){a+=' name="'+b+'"'}if(b=this._autohide){a+=' z_autohide="'+b+'"'}return a}});
zkreg('zul.utl.Iframe');zk._m={};
zk._m['default']=function(a){a.push("<iframe",this.domAttrs_(),">","</iframe>")};
;zkmld(zk._p.Iframe,zk._m);
}finally{zk.setLoaded(zk._n);}})();zk.load('zul.mesh',function(){zk._n='zul.sel';try{zk._p=zk.$package(zk._n,false,true);
zul.sel.SelectWidget=zk.$extends(zul.mesh.MeshWidget,{_rows:0,$init:function(){this.$supers("$init",arguments);this._selItems=[]},$define:{rows:function(a){var b=this.$n();if(b){b._lastsz=null;this.onSize()}},checkmark:function(a){if(this.desktop){this.rerender()}},multiple:function(a){if(!this._multiple&&this._selItems.length){var c=this.getSelectedItem();for(var b;(b=this._selItems.pop());){if(b!=c){if(!this._checkmark){b._setSelectedDirectly(false)}else{b._selected=false}}}this._selItems.push(c);this._chgSel=c.uuid}if(this._checkmark&&this.desktop){this.rerender()}},chgSel:function(g){var a={};for(var d=0;;){var c=g.indexOf(",",d),f=(c>=0?g.substring(d,c):g.substring(d)).trim();if(f){a[f]=true}if(c<0){break}d=c+1}for(var e=this.getBodyWidgetIterator(),b;(b=e.next());){this._changeSelect(b,a[b.uuid]==true)}},selectedIndex:null},setSelectedItem:function(a){a=zk.Widget.$(a);if(this._selectedItem!=a){this._selectedItem=a;if(a){this._selectOne(a,false);zk(a).scrollIntoView(this.ebody)}}},getSelectedItem:function(){return this._selItems[0]},getSelectedItems:function(){return this._selItems.$clone()},setHeight:function(a){if(this._height!=a){this._height=a;var b=this.$n();if(b){b.style.height=a||"";this.onSize()}}},onSize:function(){if(this.isRealVisible()){var a=this.$n();if(a._lastsz&&a._lastsz.height==a.offsetHeight&&a._lastsz.width==a.offsetWidth){this.fireOnRender(155);return}this._calcSize();this.fireOnRender(155);this._shallSize=false}},_calcSize:function(){this._calcHgh();var c=this.$n(),a=c.style.width;if(!a||a=="auto"||a.indexOf("%")>=0){a=zk(c).revisedWidth(c.offsetWidth);if(a<0){a=0}if(a){a+="px"}}if(a){this.ebody.style.width=a;if(this.ehead){this.ehead.style.width=a}if(this.efoot){this.efoot.style.width=a}}var b=this.ebody.clientWidth;if(zk.ie){if(this.eheadtbl&&this.eheadtbl.offsetWidth!=this.ebodytbl.offsetWidth){this.ebodytbl.style.width=""}if(b&&this.ebody.offsetWidth==this.ebodytbl.offsetWidth&&this.ebody.offsetWidth-b>11){if(--b<0){b=0}this.ebodytbl.style.width=b+"px"}}if(this.ehead){if(b){this.ehead.style.width=b+"px"}if(this.isSizedByContent()&&this.ebodyrows&&this.ebodyrows.length){this.$class._adjHeadWd(this)}}else{if(this.efoot){if(b){this.efoot.style.width=b+"px"}if(this.efoottbl.rows.length&&this.ebodyrows&&this.ebodyrows.length){this.$class.cpCellWidth(this)}}}c._lastsz={height:c.offsetHeight,width:c.offsetWidth}},_calcHgh:function(){var g=this.ebodyrows,u=this.$n(),f=u.style.height,s=f&&f!="auto"&&f.indexOf("%")<0;if(s){f=zk.parseInt(f);if(f){f-=this._headHgh(0);if(f<20){f=20}var o=0;l_out:for(var z,y=0,k=g.length;y<k;++o,++y){var p;for(;;++y){if(y>=k){break l_out}p=g[y];if(zk(p).isVisible()){break}}var A=zk(p);z=A.offsetTop()+A.offsetHeight();if(z>=f){if(z>f+2){++o}break}}o=Math.ceil(o&&z?(f*o)/z:f/this._headHgh(20));this._visibleRows(o);f-=(this.efoot?this.efoot.offsetHeight:0);this.ebody.style.height=(f<0?0:f)+"px";if(zk.ie&&this.ebody.offsetHeight){}return}}var c=0,m=this.getRows(),v,b,a;for(var y=0,k=g.length;y<k;++y){var p=g[y];if(zk(p).isVisible()){++c;if(!b){b=p}if(m===c){a=p;break}v=p}}f=0;var l=2;if(!m){if(this.isVflex()){f=this._vflexSize(u.style.height);if(zk.ie&&this._cachehgh!=f){f-=1;this._cachehgh=f}if(f<25){f=25}var q=zk(b).offsetHeight();if(!q){q=this._headHgh(20)}m=Math.round((f-l)/q);if(m<3){m=3;f=q*3+l}}this._visibleRows(m)}if(m){if(!f){if(!c){f=this._headHgh(20)*m}else{if(m<=c){var t=zk(a);f=t.offsetTop()+t.offsetHeight()}else{var x=zk(v);f=x.offsetTop()+x.offsetHeight();f=Math.ceil((m*f)/c)}}if(zk.ie){f+=l}}this.ebody.style.height=f+"px";if(zk.ie&&this.ebody.offsetHeight){}var z=u.style.height;if(!z||z=="auto"){if(zk.ie&&!zk.ie8&&this.ebodytbl){var e=this.ebody.offsetWidth,d=this.ebody.clientWidth,i=e-d;if(d&&i>11){if(e==this.ebodytbl.offsetWidth){this.ebodytbl.style.width=jq.px(zk(this.ebodytbl).revisedWidth(this.ebodytbl.offsetWidth-i))}}}z=this.ebody.offsetHeight-this.ebody.clientHeight;if(this.ebody.clientHeight&&z>11){this.ebody.style.height=f+jq.scrollbarWidth()+"px"}}}else{f=u.style.height;if(zk.ie&&(!f||f=="auto")&&this.ebody.offsetWidth-this.ebody.clientWidth>11){if(!c){this.ebody.style.height=""}else{this.ebody.style.height=(this.ebody.offsetHeight*2-this.ebody.clientHeight)+"px"}}else{this.ebody.style.height=""}if(!f||f=="auto"){f=this.ebody.offsetHeight-this.ebody.clientHeight;if(this.ebody.clientHeight&&f>11){this.ebody.style.height=this.ebody.offsetHeight+jq.scrollbarWidth()+"px"}}}},_visibleRows:function(a){if("number"==typeof a){this._visiRows=a}else{return this.getRows()||this._visiRows||0}},_headHgh:function(d){var b=this.ehead?this.ehead.offsetHeight:0;if(this.paging){var c=this.$n("pgit"),a=this.$n("pgib");if(c){b+=c.offsetHeight}if(a){b+=a.offsetHeight}}return b?b:d},indexOfItem:function(d){if(d.getMeshWidget()==this){for(var b=0,c=this.getBodyWidgetIterator(),a;(a=c.next());b++){if(a==d){return b}}}return -1},toggleItemSelection:function(a){if(a.isSelected()){this._removeItemFromSelection(a)}else{this._addItemToSelection(a)}},selectItem:function(a){if(!a){this.setSelectedIndex(-1)}else{if(this._multiple||!a.isSelected()){this.setSelectedIndex(this.indexOfItem(a))}}},_addItemToSelection:function(b){if(!b.isSelected()){if(!this._multiple){this.selectItem(b)}else{var a=this.indexOfItem(b);if(a<this._selectedIndex||this._selectedIndex<0){this._selectedIndex=a}b._selected=true}this._selItems.push(b)}},_removeItemFromSelection:function(a){if(a.isSelected()){if(!this._multiple){this.clearSelection()}else{a._selected=false;this._selItems.$remove(a)}}},clearSelection:function(){if(this._selItems.length){for(var a;(a=this._selItems.pop());){a._selected=false}this._selectedIndex=-1}},focus:function(d){var b;if(this.isVisible()&&this.canActivate({checkOnly:true})&&(b=this.$n("a"))){if(this._focusItem){for(var c=this.getBodyWidgetIterator(),a;(a=c.next());){if(this._isFocus(a)){a.focus();break}}}zk(b).focus(d);return true}return false},bind_:function(){this.$supers("bind_",arguments);var a=this.$n("a");if(a){this.domListen_(a,"onFocus","doFocus_").domListen_(a,"onKeyDown").domListen_(a,"onBlur","doBlur_")}},unbind_:function(){var a=this.$n("a");if(a){this.domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onKeyDown").domUnlisten_(a,"onBlur","doBlur_")}this.$supers("unbind_",arguments)},doBlur_:function(a){if(this._focusItem){this._lastSelectedItem=this._focusItem;this._focusItem._doFocusOut()}this._focusItem=null;this.$supers("doBlur_",arguments)},_doClick:function(b){if(zk.dragging||this._shallIgnoreEvent(b)){return}var g=b.domTarget,a=g.tagName,c=zk.Widget.$(g);if((a!="TR"&&g.onclick)||a=="A"||(c!=h&&(c.isListen("onDoubleClick")||c.isListen("onClick")))){return}var h=b.target,f=g==h.$n("cm");if(f){if(this.isMultiple()){this._toggleSelect(h,g.checked,b)}else{this._select(h,b)}}else{if((zk.gecko||zk.safari)&&h.isListen("onDoubleClick")){var d=zUtl.now(),e=h._last;h._last=d;if(e&&d-e<900){return}}this._syncFocus(h);if(this.isMultiple()){if(b.data.shiftKey){this._selectUpto(h,b)}else{if(b.data.ctrlKey){this._toggleSelect(h,!h.isSelected(),b)}else{this._select(h,b)}}}else{this._select(h,b)}h.focus()}},doKeyDown_:function(b){if(!this._shallIgnoreEvent(b)){switch(b.data.keyCode){case 33:case 34:case 38:case 40:case 37:case 39:case 32:case 36:case 35:if(b.domTarget.tagName!="A"){this.focus()}b.stop();return false}}var a=b.domTarget.tagName;if(!zk.gecko3||(a!="INPUT"&&a!="TEXTAREA")){zk(this.$n()).disableSelection()}b.target=this._focusItem||this.getSelectedItem()||this;this.$supers("doKeyDown_",arguments)},doKeyUp_:function(a){zk(this.$n()).enableSelection();a.stop({propagation:true});this.$supers("doKeyUp_",arguments)},_doKeyDown:function(h){if(zAu.processing()||this._shallIgnoreEvent(h)){return true}var j=this._focusItem||this.getSelectedItem();if(!j){return true}var f=h.data,c=f.shiftKey,b=f.ctrlKey;if(c&&!this.isMultiple()){c=false}var g=false,d,i;switch(f.keyCode){case 33:case 34:d=this._visibleRows();if(d==0){d=20}if(f.keyCode==33){d=-d}break;case 38:case 40:d=f.keyCode==40?1:-1;break;case 32:if(this.isMultiple()){this._toggleSelect(j,!j.isSelected(),h)}else{this._select(j,h)}break;case 36:case 35:d=f.keyCode==35?1:-1;g=true;break;case 37:this._doLeft(j);break;case 39:this._doRight(j);break}if(d){if(c){this._toggleSelect(j,true,h)}var e=j.$n();for(;e&&(e=d>0?e.nextSibling:e.previousSibling);){var a=zk.Widget.$(e);if(a.$instanceof(zul.sel.Treerow)){a=a.parent}if(!a.isDisabled()){if(c){this._toggleSelect(a,true,h)}if(zk(e).isVisible()){if(!c){i=a}if(!g){if(d>0){--d}else{++d}if(d==0){break}}}}}}if(i){if(b){this._focus(i)}else{this._select(i,h)}this._syncFocus(i);zk(i).scrollIntoView(this.ebody)}switch(f.keyCode){case 33:case 34:case 38:case 40:case 37:case 39:case 32:case 36:case 35:h.stop();return false}return true},_doLeft:zk.$void,_doRight:zk.$void,_shallIgnoreEvent:function(b){var a=b.domTarget.tagName;return !b.domTarget||!b.target.canActivate()||((a=="INPUT"&&!b.domTarget.id.endsWith("-cm"))||a=="TEXTAREA"||(a=="BUTTON"&&!b.domTarget.id.endsWith("-a"))||a=="SELECT"||a=="OPTION"||(zk.isLoaded("zul.wgt")&&b.target.$instanceof(zul.wgt.Button)))},_syncFocus:function(c){var a=this.$n("a"),d=c.$n(),b=zk(d).revisedOffset();b=this._toStyleOffset(a,b[0]+this.ebody.scrollLeft,b[1]);a.style.top=b[1]+"px";a.style.left=b[0]+"px"},_toStyleOffset:function(e,b,f){var a=zk(e).revisedOffset(),c=zk.parseInt(e.style.left),d=zk.parseInt(e.style.top);return[b-a[0]+c,f-a[1]+d]},_select:function(b,a){if(this._selectOne(b,true)){this.fireOnSelect(b,a)}},_selectUpto:function(f,b){if(f.isSelected()){this._focus(f);return}var e=false,d=false;for(var c=this.getBodyWidgetIterator(),a;(a=c.next());){if(a.isDisabled()){continue}if(e){this._changeSelect(a,true);if(a==f){break}}else{if(d){this._changeSelect(a,true);if(this._isFocus(a)||a==this._lastSelectedItem){break}}else{d=a==f;e=this._isFocus(a)||a==this._lastSelectedItem;if(d||e){this._changeSelect(a,true);if(d&&e){break}}}}}this._focus(f);this.fireOnSelect(f,b)},setSelectAll:_zkf=function(c,b){for(var d=this.getBodyWidgetIterator(),a;(a=d.next());){if(!a.isDisabled()){this._changeSelect(a,true)}}if(c){this.fireOnSelect(this.getSelectedItem(),b)}},selectAll:_zkf,_selectOne:function(d,a){var b=this.getSelectedItem();if(this.isMultiple()){if(d&&a){this._unsetFocusExcept(d)}var c=this._unsetSelectAllExcept(d);if(!c&&d&&b==d){if(a){this._setFocus(d,true)}return false}}else{if(b){if(b==d){if(a){this._setFocus(d,true)}return false}this._changeSelect(b,false);if(d){if(a){this._setFocus(b,false)}}}if(d&&a){this._unsetFocusExcept(d)}}if(d){this._changeSelect(d,true);if(a){this._setFocus(d,true)}}return true},_toggleSelect:function(d,c,b){if(!this.isMultiple()){var a=this.getSelectedItem();if(d!=a&&c){this._changeSelect(d,false)}}this._changeSelect(d,c);this._focus(d);this.fireOnSelect(d,b)},fireOnSelect:function(b,c){var f=[];for(var e=this.getSelectedItems(),a=e.length;--a>=0;){if(e[a].isSelected()){f.push(e[a].uuid)}}var g=c.data,d;if(this._multiple){d=g.ctrlKey||g.shiftKey||(c.domTarget.id?c.domTarget.id.endsWith("-cm"):false)}this.fire("onSelect",zk.copy({items:f,reference:b,clearFirst:!d},g))},_focus:function(a){if(this.canActivate({checkOnly:true})){this._unsetFocusExcept(a);this._setFocus(a,true)}},_changeSelect:function(c,a){var b=c.isSelected()!=a;if(b){c.setSelected(a);c._toggleEffect(true)}return b},_isFocus:function(a){return this._focusItem==a},_setFocus:function(c,a){var b=this._isFocus(c)!=a;if(b){if(a){if(!c.focus()){this.focus()}if(!this.paging&&zk.gecko){this.fireOnRender(5)}}}if(!a){c._doFocusOut()}return b},_unsetSelectAllExcept:function(d){var c=false;for(var b=this.getSelectedItems(),a=b.length;--a>=0;){if(b[a]!=d&&this._changeSelect(b[a],false)){c=true}}return c},_unsetFocusExcept:function(a){if(this._focusItem&&this._focusItem!=a){this._setFocus(this._focusItem,false)}else{this._focusItem=null}}});
zul.sel.ItemWidget=zk.$extends(zul.Widget,{_checkable:true,$define:{checkable:function(){if(this.desktop){this.rerender()}},disabled:function(){if(this.desktop){this.rerender()}},value:null},setSelected:function(a){if(this._selected!=a){var b=this.getMeshWidget();if(b){b.toggleItemSelection(this)}this._setSelectedDirectly(a)}},_setSelectedDirectly:function(b){var c=this.$n();if(c){jq(c)[b?"addClass":"removeClass"](this.getZclass()+"-seld");var a=this.$n("cm");if(a){a.checked=b;this._checkClick()}}this._selected=b},getLabel:function(){return this.firstChild?this.firstChild.getLabel():null},isSelected:function(){return this._selected},isStripeable_:function(){return true},getMeshWidget:function(){return this.parent},_getVisibleChild:function(c){for(var b=0,a=c.cells.length;b<a;b++){if(zk(c.cells[b]).isVisible()){return c.cells[b]}}return c},setVisible:function(b){if(this.isVisible()!=b){this.$supers("setVisible",arguments);if(this.isStripeable_()){var a=this.getMeshWidget();if(a){a.stripe()}}}},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass(),a=this.isDisabled()?c+"-disd":this.isSelected()?c+"-seld":"";if(a){b+=(b?" ":"")+a}}return b},_toggleEffect:function(a){var d=this.$n(),c=this.getZclass();if(a){jq(d).removeClass(c+"-over-seld").removeClass(c+"-over")}else{var b=jq(d);b.addClass(b.hasClass(c+"-seld")?c+"-over-seld":c+"-over")}},focus:function(b){this.getMeshWidget()._focusItem=this;if(this.isVisible()&&this.canActivate({checkOnly:true})){var a=this.$n("cm");if(a){zk(a).focus(b);return true}else{this._doFocusIn()}}return false},bind_:function(){this.$supers("bind_",arguments);var a=this.$n("cm");if(a){this.domListen_(a,"onFocus").domListen_(a,"onBlur","_doFocusOut")}},unbind_:function(){var a=this.$n("cm");if(a){this.domUnlisten_(a,"onFocus").domUnlisten_(a,"onBlur","_doFocusOut")}this.$supers("unbind_",arguments)},_doFocusIn:function(){var a=this.$n();if(a){jq(this._getVisibleChild(a)).addClass(this.getZclass()+"-focus")}},_doFocusOut:function(){var b=this.$n();if(b){var a=this.getZclass();jq(b).removeClass(a+"-focus");jq(b.cells).removeClass(a+"-focus")}},_doFocus:function(a){if(this.canActivate({checkOnly:true})){this.doFocus_(a);this._doFocusIn()}},_checkAll:function(){var e=this.getMeshWidget();if(!e||!e._headercm){return}var a=this.$n("cm");if(a&&!a.checked){e._headercm.checked=false;return}var d;for(var c=e.getBodyWidgetIterator(),b;(b=c.next());){if(!b.isDisabled()){if(!(d=(b.$n("cm")||{}).checked)){break}}}if(d){e._headercm.checked=true}},_checkClick:function(a){if(this.getMeshWidget().isMultiple()){this._checkAll()}else{var d=this.$n("cm");for(var b=jq.$$(d.name),c=b.length;c--;){b[c].defaultChecked=false}d.defaultChecked=d.checked}},doClick_:function(a){if(this.isDisabled()){return}a.target=this;this.getMeshWidget()._doClick(a);a.stop({propagation:true});this.$supers("doClick_",arguments)},doRightClick_:function(a){if(this.isDisabled()){return}a.target=this;this.getMeshWidget()._doClick(a);this.$supers("doRightClick_",arguments)},doMouseOver_:function(a){if(this.isDisabled()){return}this._toggleEffect();a.stop();this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){if(this.isDisabled()||(zk.ie&&jq.isAncestor(this.$n(),a.domEvent.relatedTarget||a.domEvent.toElement))){return}this._toggleEffect(true);a.stop({propagation:true});this.$supers("doMouseOut_",arguments)},doKeyDown_:function(b){var a=b.domTarget.tagName,c=this.getMeshWidget();if(!zk.gecko3||(a!="INPUT"&&a!="TEXTAREA")){zk(c.$n()).disableSelection()}c._doKeyDown(b);b.stop({propagation:true});this.$supers("doKeyDown_",arguments)},doKeyUp_:function(a){zk(this.getMeshWidget().$n()).enableSelection();a.stop({propagation:true});this.$supers("doKeyUp_",arguments)}});
zul.sel.Listbox=zk.$extends(zul.sel.SelectWidget,{$init:function(){this.$supers("$init",arguments);this._groupsInfo=[]},getGroupCount:function(){return this._groupsInfo.length},getGroups:function(){return this._groupsInfo.$clone()},hasGroup:function(){return this._groupsInfo.length},nextItem:function(a){if(a){while((a=a.nextSibling)&&!a.$instanceof(zul.sel.Listitem)){}}return a},previousItem:function(a){if(a){while((a=a.previousSibling)&&!a.$instanceof(zul.sel.Listitem)){}}return a},getOddRowSclass:function(){return this._scOddRow==null?this.getZclass()+"-odd":this._scOddRow},setOddRowSclass:function(a){if(!a){a=null}if(this._scOddRow!=a){this._scOddRow=a;var b=this.$n();if(b&&this.rows){this.stripe()}}return this},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onResponse:this});zk.afterMount(this.proxy(this.onResponse))},unbind_:function(){zWatch.unlisten({onResponse:this});this.$supers("unbind_",arguments)},onResponse:function(){if(this.desktop&&this._shallStripe){this.stripe();if(this._shallSize){this.$supers("onResponse",arguments)}}},_syncStripe:function(){this._shallStripe=true;if(!this.inServer&&this.desktop){this.onResponse()}},stripe:function(){var a=this.getOddRowSclass();if(!a){return}for(var c=0,e=true,d=this.getBodyWidgetIterator(),b;(b=d.next());c++){if(b.isVisible()&&b.isStripeable_()){jq(b.$n())[e?"removeClass":"addClass"](a);e=!e}}this._shallStripe=false;return this},rerender:function(){this.$supers("rerender",arguments);this._syncStripe();return this},getCaveNode:function(){var a=this.$n("cave");return a.lastChild||a},insertChildHTML_:function(g,d,f){var e,c;if(d){if(!g.$instanceof(zul.sel.Listitem)||d.$instanceof(zul.sel.Listitem)){e=d._getBeforeNode();if(!e){d=null}}else{d=null}}if(!d){for(var b=this;;){c=b.getCaveNode();if(c){break}var a=b.nextSibling;if(a){e=a._getBeforeNode();if(e){break}}if(!(b=b.parent)){c=document.body;break}}}if(e){jq(e).before(g._redrawHTML())}else{jq(c).append(g._redrawHTML())}g.bind(f)},getZclass:function(){return this._zclass==null?"z-listbox":this._zclass},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.sel.Listitem)){if(a.$instanceof(zul.sel.Listgroup)){this._groupsInfo.push(a)}if(!this.firstItem||!this.previousItem(a)){this.firstItem=a}if(!this.lastItem||!this.nextItem(a)){this.lastItem=a}if(a.isSelected()&&!this._selItems.$contains(a)){this._selItems.push(a)}}else{if(a.$instanceof(zul.sel.Listhead)){this.listhead=a}else{if(a.$instanceof(zul.mesh.Paging)){this.paging=a}else{if(a.$instanceof(zul.sel.Listfoot)){this.listfoot=a}else{if(a.$instanceof(zul.mesh.Frozen)){this.frozen=a}}}}}this._syncStripe();this._syncSize()},onChildRemoved_:function(c){this.$supers("onChildRemoved_",arguments);if(c==this.listhead){this.listhead=null}else{if(c==this.paging){this.paging=null}else{if(c==this.frozen){this.frozen=null}else{if(c==this.listfoot){this.listfoot=null}else{if(!c.$instanceof(zul.mesh.Auxhead)){if(c==this.firstItem){for(var a=this.firstChild,b=zul.sel.Listitem;a&&!a.$instanceof(b);a=a.nextSibling){}this.firstItem=a}if(c==this.lastItem){for(var a=this.lastChild,b=zul.sel.Listitem;a&&!a.$instanceof(b);a=a.previousSibling){}this.lastItem=a}if(c.$instanceof(zul.sel.Listgroup)){this._groupsInfo.$remove(c)}if(c.isSelected()){this._selItems.$remove(c)}}}}}}this._syncStripe();this._syncSize()},getHeadWidgetClass:function(){return zul.sel.Listhead},itemIterator:_zkf=function(){return new zul.sel.ItemIter(this)},getBodyWidgetIterator:_zkf});zul.sel.ItemIter=zk.$extends(zk.Object,{$init:function(a){this.box=a},_init:function(){if(!this._isInit){this._isInit=true;this.p=this.box.firstItem}},hasNext:function(){this._init();return this.p},next:function(){this._init();var a=this.p;if(a){this.p=a.parent.nextItem(a)}return a}});
zkreg('zul.sel.Listbox');zk._m={};
zk._m['paging']=function(h){var b=this.uuid,e=this.getZclass(),k=this.getInnerWidth(),l=k=="100%"?' width="100%"':"",c=k!="100%"?"width:"+k:"",a=this.inPagingMold(),d,o=zk.ie||zk.gecko?"a":"button";h.push("<div",this.domAttrs_(),">");if(a&&this.paging){d=this.getPagingPosition();if(d=="top"||d=="both"){h.push('<div id="',b,'-pgit" class="',e,'-pgi-t">');this.paging.redraw(h);h.push("</div>")}}if(this.listhead){h.push('<div id="',b,'-head" class="',e,'-header">',"<table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'">');this.domFaker_(h,"-hdfaker",e);for(var m=this.heads,g=0,i=m.length;g<i;){m[g++].redraw(h)}h.push("</table></div>")}h.push('<div id="',b,'-body" class="',e,'-body"');var f=this.getHeight();if(f){h.push(' style="overflow:hidden;height:',f,'"')}else{if(this.getRows()>1){h.push(' style="overflow:hidden;height:"',this.getRows()*15,'px"')}}h.push("><table",l,zUtl.cellps0,' id="',b,'-cave"');if(!this.isSizedByContent()){h.push(' style="table-layout:fixed;',c,'"')}h.push(">");if(this.listhead){this.domFaker_(h,"-bdfaker",e)}for(var n=this.firstItem;n;n=this.nextItem(n)){n.redraw(h)}h.push("</table><",o,' id="',b,'-a" tabindex="-1" onclick="return false;" href="javascript:;" class="z-focus-a"></',o,">");h.push("</div>");if(this.listfoot){h.push('<div id="',b,'-foot" class="',e,'-footer">',"<table",l,zUtl.cellps0,' style="table-layout:fixed;',c,'">');if(this.listhead){this.domFaker_(h,"-ftfaker",e)}this.listfoot.redraw(h);h.push("</table></div>")}if(this.frozen){h.push('<div id="',b,'-frozen" class="',e,'-frozen">');this.frozen.redraw(h);h.push("</div>")}if(d=="bottom"||d=="both"){h.push('<div id="',b,'-pgib" class="',e,'-pgi-b">');this.paging.redraw(h);h.push("</div>")}h.push("</div>")};
;zk._m['default']=[zk._p.Listbox,'paging'];zkmld(zk._p.Listbox,zk._m);zul.sel.Listitem=zk.$extends(zul.sel.ItemWidget,{getListbox:zul.sel.ItemWidget.prototype.getMeshWidget,getListgroup:function(){if(this.parent&&this.parent.hasGroup()){for(var a=this.previousSibling;a;a=a.previousSibling){if(a.$instanceof(zul.sel.Listgroup)){return a}}}return null},setLabel:function(a){this._autoFirstCell().setLabel(a)},setImage:function(a){this._autoFirstCell().setImage(a)},_autoFirstCell:function(){if(!this.firstChild){this.appendChild(new zul.sel.Listcell())}return this.firstChild},getZclass:function(){return this._zclass==null?"z-listitem":this._zclass},domStyle_:function(c){if((this.$instanceof(zul.sel.Listgroup)||this.$instanceof(zul.sel.Listgroupfoot))||(c&&c.visible)){return this.$supers("domStyle_",arguments)}var a=this.$supers("domStyle_",arguments),b=this.getListgroup();return b&&!b.isOpen()?a+"display:none;":a}});
zkreg('zul.sel.Listitem');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.Listitem,zk._m);zul.sel.Listcell=zk.$extends(zul.LabelImageWidget,{_colspan:1,$define:{colspan:[function(a){return a>1?a:1},function(){var a=this.$n();if(a){a.colSpan=this._colspan}}]},setLabel:function(){this.$supers("setLabel",arguments);if(this.desktop&&this.parent.$instanceof(zul.sel.Listgroup)){this.parent.rerender()}},getListbox:function(){var a=this.parent;return a?a.parent:null},getZclass:function(){return this._zclass==null?"z-listcell":this._zclass},getTextNode:function(){return jq(this.$n()).find(">div:first")[0]},getMaxlength:function(){var b=this.getListbox();if(!b){return 0}if(b.getMold()=="select"){return b.getMaxlength()}var a=this.getListheader();return a?a.getMaxlength():0},getListheader:function(){var b=this.getListbox();if(b&&b.listhead){var a=this.getChildIndex();if(a<b.listhead.nChildren){return b.listhead.getChildAt(a)}}return null},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},domContent_:function(){var b=this.$supers("domContent_",arguments),a=this._colHtmlPre();return b?a?a+"&nbsp;"+b:b:a},domClass_:function(c){var a=this.$supers("domClass_",arguments);if((!c||!c.zclass)&&(this.parent.$instanceof(zul.sel.Listgroup)||this.parent.$instanceof(zul.sel.Listgroupfoot))){var b=this.parent.getZclass();a+=" "+b+"-inner"}return a},_colHtmlPre:function(){var a="",c=this.getListbox();if(c!=null&&this.parent.firstChild==this){if(this.parent.$instanceof(zul.sel.Listgroup)){var e=this.parent.getZclass();a='<span id="'+this.parent.uuid+'-img" class="'+e+"-img "+e+"-img-"+(this.parent._open?"open":"close")+'"></span>'}if(c.isCheckmark()){var b=this.parent,d=b.isCheckable();a+='<input type="'+(c.isMultiple()?"checkbox":"radio")+'" id="'+b.uuid+'-cm"';if(!d||b.isDisabled()){a+=' disabled="disabled"'}if(b.isSelected()){a+=' checked="checked"'}if(!c.isMultiple()){a+=' name="'+c.uuid+'"'}if(!d){a+=' style="visibility:hidden"'}a+="/>"}if(a){return a}}return(!this.getImage()&&!this.getLabel()&&!this.firstChild)?"&nbsp;":""},doMouseOver_:function(b){if(zk.gecko&&(this._draggable||this.parent._draggable)){var a=b.domTarget.tagName;if(a!="INPUT"&&a!="TEXTAREA"){var c=this.$n();if(c){c.firstChild.style.MozUserSelect="none"}}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){if(zk.gecko&&(this._draggable||this.parent._draggable)){var b=this.$n();if(b){b.firstChild.style.MozUserSelect="none"}}this.$supers("doMouseOut_",arguments)},domAttrs_:function(){var a=this.getListheader(),b;if(a){b=a.getColAttrs()}return this.$supers("domAttrs_",arguments)+(this._colspan>1?' colspan="'+this._colspan+'"':"")+(b?" "+b:"")}});
zkreg('zul.sel.Listcell',true);zk._m={};
zk._m['default']=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass()+"-cnt");var c=this.getListbox();if(c!=null&&!c.isSizedByContent()){b.push(" z-overflow-hidden")}b.push('"',this.domTextStyleAttr_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.Listcell,zk._m);zul.sel.Listhead=zk.$extends(zul.mesh.HeadWidget,{getZclass:function(){return this._zclass==null?"z-listhead":this._zclass}});
zkreg('zul.sel.Listhead');zk._m={};
zk._m['default']=zul.mesh.HeadWidget.redraw;
;zkmld(zk._p.Listhead,zk._m);zul.sel.Listheader=zk.$extends(zul.mesh.SortWidget,{getListbox:zul.mesh.HeaderWidget.prototype.getMeshWidget,getMeshBody:zul.mesh.HeaderWidget.prototype.getMeshWidget,$define:{maxlength:[function(a){return !a||a<0?0:a},function(){if(this.desktop){this.updateCells_()}}]},updateCells_:function(){var d=this.getListbox();if(d==null||d.getMold()=="select"){return}var b=this.getChildIndex();for(var c=this.getBodyWidgetIterator(),a;(a=c.next());){if(b<a.nChildren){return a.getChildAt(b).rerender()}}},getZclass:function(){return this._zclass==null?"z-listheader":this._zclass},bind_:function(){this.$supers("bind_",arguments);var a=this.$n("cm");if(a){this.getListbox()._headercm=a;this.domListen_(a,"onClick")}},unbind_:function(){this.$supers("unbind_",arguments);var a=this.$n("cm");if(a){this.getListbox()._headercm=null;this.domUnlisten_(a,"onClick")}},_doClick:function(a){var b=this.getListbox();if(a.domTarget.checked){b.selectAll(true,a)}else{b._select(null,a)}},domContent_:function(){var a=this.$supers("domContent_",arguments),b=this.getListbox();if(b!=null&&this.parent.firstChild==this&&b.isCheckmark()&&b.isMultiple()){a='<input type="checkbox" id="'+this.uuid+'-cm"/>'+(a?"&nbsp;"+a:"")}return a}});
zkreg('zul.sel.Listheader',true);zk._m={};
zk._m['default']=zul.mesh.HeaderWidget.redraw;
;zkmld(zk._p.Listheader,zk._m);zul.sel.Listfoot=zk.$extends(zul.Widget,{getListbox:function(){return this.parent},getZclass:function(){return this._zclass==null?"z-listfoot":this._zclass}});
zkreg('zul.sel.Listfoot');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.Listfoot,zk._m);zul.sel.Listfooter=zk.$extends(zul.LabelImageWidget,{_span:1,$define:{span:function(a){var b=this.$n();if(b){b.colSpan=a}}},getListbox:function(){return this.parent?this.parent.parent:null},getListheader:function(){var a=this.getListbox();if(a){var b=a.listhead;if(b){return b.getChildAt(this.getChildIndex())}}return null},getZclass:function(){return this._zclass==null?"z-listfooter":this._zclass}});
zkreg('zul.sel.Listfooter',true);zk._m={};
zk._m['default']=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.Listfooter,zk._m);zul.sel.Listgroup=zk.$extends(zul.sel.Listitem,{_open:true,$define:{open:function(a){this._openItem(a,true);if(a){this.getListbox().stripe()}}},getItems:function(){var b=[];for(var a=this.nextSibling;a&&!a.$instanceof(zul.sel.Listgroup);a=a.nextSibling){b.push(a)}return b},getItemCount:function(){return this.getItems().length},getZclass:function(){return this._zclass!=null?this._zclass:"z-listgroup"},getLabel:function(){return this.firstChild!=null?this.firstChild.getLabel():null},domContent_:function(){var b=this.getLabel(),a=this.domImage_();return b?a+" ":a},isStripeable_:function(){return false},_doImgClick:function(b){var c=!this.isOpen(),a=this.getListbox();this._openItem(c);if(c||a.getModel()){if(c){this.parent.stripe()}if(!a.paging){a.onSize()}}b.stop()},_openItem:function(e,d){this._open=e;var c=this.$n("img"),f=this.getZclass();if(c){jq(c)[e?"removeClass":"addClass"](f+"-img-close")[e?"addClass":"removeClass"](f+"-img-open")}var b=this.getListbox(),a=b?b.inPagingMold():false;if(!a){this._openItemNow(e)}if(!d){this.fire("onOpen",{open:e},{toServer:a})}},_openItemNow:function(b){var a=this.$n();if(a){for(var c,a=a.nextSibling;a&&(c=zk.Widget.$(a))&&!zul.sel.Listgroup.isInstance(c)&&!zul.sel.Listgroupfoot.isInstance(c);a=a.nextSibling){if(c.desktop&&c.isVisible()){jq(a)[b?"show":"hide"]()}}}},beforeParentChanged_:function(e){if(e==null){var d=this.getListbox(),b=d.hasGroup();if(b){for(var a=d.getGroups(),f=d.getGroupCount();--f>=0;){if(a[f]==this){b=a[--f];break}}}if(b){this._unbindafter=[function(){if(b){b._openItem(b.isOpen(),true)}}]}else{this._openItemNow(true,true)}}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(this.firstChild==a){this.rerender()}},bind_:function(){this.$supers("bind_",arguments);var g=this.$n(),a=this.$n("img");if(a){this.domListen_(a,"onClick","_doImgClick")}var e=g.parentNode.parentNode;if(e.tBodies.length>1){var d=0;for(var f=e.rows[0],c=f.cells.length;c--;){if(zk(f.cells[c]).isVisible()){d++}}for(var b=g.cells,c=b.length;c--;){d-=b[c].colSpan}if(d>0&&g.cells.length){g.cells[g.cells.length-1].colSpan+=d}}},unbind_:function(b,a){this.domUnlisten_(this.$n("img"),"onClick","_doImgClick");if(this._unbindafter&&this._unbindafter.length){a.push(this._unbindafter.pop())}this._unbindafter=null;this.$supers("unbind_",arguments)}});
zkreg('zul.sel.Listgroup');zul.sel.Listgroupfoot=zk.$extends(zul.sel.Listitem,{getZclass:function(){return this._zclass!=null?this._zclass:"z-listgroupfoot"},isStripeable_:function(){return false}});
zkreg('zul.sel.Listgroupfoot');zul.sel.Option=zk.$extends(zul.Widget,{$define:{disabled:function(a){var b=this.$n();if(b){b.disabled=a?"disabled":""}},value:null},setVisible:function(a){if(this._visible!=a){this._visible=a;if(this.desktop){this.parent.rerender()}}},setSelected:function(a){if(this._selected!=a){if(this.parent){this.parent.toggleItemSelection(this)}var b=this.$n();if(b){b.selected=a?"selected":""}this._selected=a}},isSelected:function(){return this._selected},getLabel:function(){return this.firstChild?this.firstChild.getLabel():null},getMaxlength:function(){return this.parent?this.parent.getMaxlength():0},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},domAttrs_:function(){return this.$supers("domAttrs_",arguments)+(this.isDisabled()?' disabled="disabled"':"")+(this.isSelected()?' selected="selected"':"")}});
zkreg('zul.sel.Option');zk._m={};
zk._m['select']=function(a){a.push("<option",this.domAttrs_(),">",this.domLabel_(),"</option>")};
;zkmld(zk._p.Option,zk._m);zul.sel.Select=zk.$extends(zul.Widget,{_selectedIndex:-1,_tabindex:-1,_rows:0,$init:function(){this.$supers("$init",arguments);this._selItems=[]},$define:{multiple:function(a){var b=this.$n();if(b){b.multiple=a?"multiple":""}},disabled:function(a){var b=this.$n();if(b){b.disabled=a?"disabled":""}},selectedIndex:function(a){var b=this.$n();if(b){b.selectedIndex=a}},tabindex:function(a){var b=this.$n();if(b){b.tabindex=a>=0?a:""}},name:function(a){var b=this.$n();if(b){b.name=a}},rows:function(a){var b=this.$n();if(b){b.size=a}},maxlength:function(a){if(this.desktop){this.rerender()}}},toggleItemSelection:function(a){if(a.isSelected()){this._removeItemFromSelection(a)}else{this._addItemToSelection(a)}},selectItem:function(a){if(!a){this.setSelectedIndex(-1)}else{if(this._multiple||!a.isSelected()){this.setSelectedIndex(a.getChildIndex())}}},_addItemToSelection:function(b){if(!b.isSelected()){if(!this._multiple){this.selectItem(b)}else{var a=b.getChildIndex();if(a<this._selectedIndex||this._selectedIndex<0){this._selectedIndex=a}b._selected=true;this._selItems.push(b)}}},_removeItemFromSelection:function(a){if(a.isSelected()){if(!this._multiple){this.clearSelection()}else{a._selected=false;this._selItems.$remove(a)}}},clearSelection:function(){if(this._selItems.length){var a;for(;(a=this._selItems.pop());){a._selected=false}this._selectedIndex=-1}},domAttrs_:function(){return this.$supers("domAttrs_",arguments)+(this.isDisabled()?' disabled="disabled"':"")+(this.isMultiple()?' multiple="multiple"':"")+(this.getSelectedIndex()>-1?" selectedIndex="+this.getSelectedIndex():"")+(this.getTabindex()>-1?" tabindex="+this.getTabindex():"")+(this.getRows()>0?" size="+this.getRows():"")+(this.getName()?' name="'+this.getName()+'"':"")},bind_:function(){this.$supers("bind_",arguments);var a=this.$n();this.domListen_(a,"onChange").domListen_(a,"onFocus","doFocus_").domListen_(a,"onBlur","doBlur_")},unbind_:function(){var a=this.$n();this.domUnlisten_(a,"onChange").domUnlisten_(a,"onFocus","doFocus_").domUnlisten_(a,"onBlur","doBlur_").$supers("unbind_",arguments)},_doChange:function(i){var g=[],e,d=this.$n();if(this.isMultiple()){var a=d.options;for(var f=0,h=a.length;f<h;++f){var b=a[f],c=zk.Widget.$(b.id);if(c){c.setSelected(b.selected)}if(b.selected){g.push(b.id);if(!e){e=b.id}}}}else{var b=d.options[d.selectedIndex];this.setSelectedIndex(d.selectedIndex);g.push(b.id);e=b.id}this.fire("onSelect",{items:g,reference:e})},doKeyUp_:function(a){if(zk.gecko||zk.safari){if(this.isMultiple()||this.getSelectedIndex()===a.domTarget.selectedIndex){return}this._doChange(a)}else{this.$supers("doKeyUp_",arguments)}},onChildAdded_:_zkf=function(){this.rerender()},onChildRemoved_:_zkf});
zkreg('zul.sel.Select');zk._m={};
zk._m['select']=function(b){b.push("<select",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){if(a.isVisible()){a.redraw(b)}}b.push("</select>")};
;zkmld(zk._p.Select,zk._m);zul.sel.Tree=zk.$extends(zul.sel.SelectWidget,{nextItem:function(a){if(a){while((a=a.nextSibling)&&!a.$instanceof(zul.sel.Listitem)){}}return a},previousItem:function(a){if(a){while((a=a.previousSibling)&&!a.$instanceof(zul.sel.Listitem)){}}return a},clear:function(){if(!this._treechildren||!this._treechildren.nChildren){return}for(var a=this._treechildren.firstChild;a;a=a.nextSibling){a.detach()}},getZclass:function(){return this._zclass==null?"z-tree":this._zclass},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.sel.Treecols)){this.treecols=a}else{if(a.$instanceof(zul.sel.Treefoot)){this.treefoot=a}else{if(a.$instanceof(zul.sel.Treechildren)){this.treechildren=a;this._fixSelectedSet()}else{if(a.$instanceof(zul.mesh.Paging)){this.paging=a}}}}this._syncSize()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.treecols){this.treecols=null}else{if(a==this.treefoot){this.treefoot=null}else{if(a==this.treechildren){this.treechildren=null;_selItems.clear();_sel=null}else{if(a==this.paging){this.paging=null}}}}this._syncSize()},_onTreeitemAdded:function(a){this._fixNewChild(a);this._onTreechildrenAdded(a.treechildren)},_onTreeitemRemoved:function(a){var b;if(a.isSelected()){this._selItems.$remove(a);b=this._sel==a;if(b&&!this._multiple){this._sel=null}}this._onTreechildrenRemoved(a.treechildren);if(b){this._fixSelected()}},_onTreechildrenAdded:function(d){if(!d||d.parent==this){return}for(var c=0,b=d.getItems(),a=b.length;c<a;++c){if(b[c]){this._fixNewChild(b[c])}}},_onTreechildrenRemoved:function(f){if(f==null||f.parent==this){return}var d,e;for(var c=0,b=f.getItems(),a=b.length;c<a;++c){d=b[c];if(d.isSelected()){this._selItems.$remove(d);if(this._sel==d){if(!this._multiple){this._sel=null;return}e=true}}}if(e){this._fixSelected()}},_fixNewChild:function(a){if(a.isSelected()){if(this._sel&&!this._multiple){a._selected=false;a.rerender()}else{if(!this._sel){this._sel=a}this._selItems.push(a)}}},_fixSelectedSet:function(){this._sel=null;this._selItems=[];for(var c=0,b=this.getItems(),a=b.length;c<a;++c){if(b[c].isSelected()){if(_sel==null){_sel=b[c]}else{if(!_multiple){b[c]._selected=false;continue}}this._selItems.push(item)}}},_fixSelected:function(){var d;switch(this._selItems.length){case 1:d=this._selItems[0];case 0:break;default:for(var c=0,b=this.getItems(),a=b.length;c<a;++c){if(b[c].isSelected()){d=b[c];break}}}if(d!=this._sel){this._sel=d;return true}return false},getHeadWidgetClass:function(){return zul.sel.Treecols},itemIterator:_zkf=function(){return new zul.sel.TreeItemIter(this)},getBodyWidgetIterator:_zkf,getItems:function(){return this.treechildren?this.treechildren.getItems():[]},getItemCount:function(){return this.treechildren!=null?this.treechildren.getItemCount():0},_doLeft:function(a){if(a.isOpen()){a.setOpen(false)}},_doRight:function(a){if(!a.isOpen()){a.setOpen(true)}}});zul.sel.TreeItemIter=zk.$extends(zk.Object,{$init:function(a){this.tree=a},_init:function(){if(!this._isInit){this._isInit=true;this.items=this.tree.getItems();this.length=this.items.length;this.cur=0}},hasNext:function(){this._init();return this.cur<this.length},next:function(){this._init();return this.items[this.cur++]}});
zkreg('zul.sel.Tree');zk._m={};
zk._m['paging']=function(h){var b=this.uuid,e=this.getZclass(),k=this.getInnerWidth(),f=k=="100%"?' width="100%"':"",c=k!="100%"?"width:"+k:"",a=this.inPagingMold(),d,m=zk.ie||zk.gecko?"a":"button";h.push("<div",this.domAttrs_(),">");if(a&&this.paging){d=this.getPagingPosition();if(d=="top"||d=="both"){h.push('<div id="',b,'-pgit" class="',e,'-pgi-t">');this.paging.redraw(h);h.push("</div>")}}if(this.treecols){h.push('<div id="',b,'-head" class="',e,'-header">',"<table",f,zUtl.cellps0,' style="table-layout:fixed;',c,'">');this.domFaker_(h,"-hdfaker",e);for(var l=this.heads,g=0,i=l.length;g<i;){l[g++].redraw(h)}h.push("</table></div>")}h.push('<div id="',b,'-body" class="',e,'-body"><table',f,zUtl.cellps0);if(!this.isSizedByContent()){h.push(' style="table-layout:fixed;',c,'"')}h.push(">");if(this.treecols){this.domFaker_(h,"-bdfaker",e)}if(this.treechildren){this.treechildren.redraw(h)}h.push("</table><",m,' id="',b,'-a" tabindex="-1" onclick="return false;" href="javascript:;" class="z-focus-a"></',m,">");h.push("</div>");if(this.treefoot){h.push('<div id="',b,'-foot" class="',e,'-footer">',"<table",f,zUtl.cellps0,' style="table-layout:fixed;',c,'">');if(this.treecols){this.domFaker_(h,"-ftfaker",e)}this.treefoot.redraw(h);h.push("</table></div>")}if(d=="bottom"||d=="both"){h.push('<div id="',b,'-pgib" class="',e,'-pgi-b">');this.paging.redraw(h);h.push("</div>")}h.push("</div>")};
;zk._m['default']=[zk._p.Tree,'paging'];zkmld(zk._p.Tree,zk._m);zul.sel.Treecol=zk.$extends(zul.mesh.HeaderWidget,{getTree:zul.mesh.HeaderWidget.prototype.getMeshWidget,$define:{maxlength:[function(a){return !a||a<0?0:a},function(){if(this.desktop){this.updateCells_()}}]},updateCells_:function(){var a=this.getTree();if(a){zul.sel.Treecol.updateCell(a.treechildren,jcol)}},getZclass:function(){return this._zclass==null?"z-treecol":this._zclass}},{updateCell:function(b,c){if(!b){return}for(var a=b.firstChild;a;a=a.nextSibling){if(a.treerow){if(c<a.treerow.nChildren){a.treerow.getChildAt(c).rerender()}}zul.sel.Treecol.updateCell(a.treechildren,c)}}});
zkreg('zul.sel.Treecol',true);zk._m={};
zk._m['default']=function(b){var c=this.getZclass();b.push("<th",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',c,'-cnt">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></th>")};
;zkmld(zk._p.Treecol,zk._m);zul.sel.Treecols=zk.$extends(zul.mesh.HeadWidget,{getTree:function(){return this.parent},setVisible:function(a){if(this._visible!=a){this.$supers("setVisible",arguments);this.getTree().rerender()}},getZclass:function(){return this._zclass==null?"z-treecols":this._zclass}});
zkreg('zul.sel.Treecols');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),' align="left">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.Treecols,zk._m);zul.sel.Treechildren=zk.$extends(zul.Widget,{getTree:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.sel.Tree)){return a}}return null},getLinkedTreerow:function(){return this.parent&&this.parent.$instanceof(zul.sel.Treeitem)?this.parent.treerow:null},rerender:function(){if(this.desktop){for(var a=this.firstChild;a;a=a.nextSibling){a.rerender()}}return this},insertChildHTML_:function(e,b,d){var c,a;if(b){c=b._getBeforeNode();if(!c){b=null}}else{a=this.getCaveNode()||this.parent.getCaveNode()}if(c){jq(c).before(e._redrawHTML())}else{jq(a).after(e._redrawHTML())}e.bind(d)},getCaveNode:function(){for(var b,a=this.lastChild;a;a=a.previousSibling){if((b=a.getCaveNode())){return b}}},isVisible:function(){if(!this.$supers("isVisible",arguments)){return false}if(!this.parent){return false}if(!(this.parent.$instanceof(zul.sel.Treeitem))){return true}if(!this.parent.isOpen()){return false}return !(this.parent.parent.$instanceof(zul.sel.Treechildren))||this.parent.parent.isVisible()},getItems:function(b){b=b||[];for(var a=this.firstChild;a;a=a.nextSibling){b.push(a);if(a.treechildren){a.treechildren.getItems(b)}}return b},getItemCount:function(){var b=0;for(var a=this.firstChild;a;a=a.nextSibling,++b){if(a.treechildren){b+=a.treechildren.getItemCount()}}return b},getZclass:function(){return this._zclass==null?"z-treechildren":this._zclass},beforeParentChanged_:function(c){var b=this.getTree();if(b){b._onTreechildrenRemoved(this)}if(c){var a=c.$instanceof(zul.sel.Tree)?c:c.getTree();if(a){a._onTreechildrenAdded(this)}}}});
zkreg('zul.sel.Treechildren');zk._m={};
zk._m['default']=function(b){if(this.parent.$instanceof(zul.sel.Tree)){b.push("<tbody",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tbody>")}else{for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}}};
;zkmld(zk._p.Treechildren,zk._m);zul.sel.Treeitem=zk.$extends(zul.sel.ItemWidget,{_open:true,_checkable:true,$define:{open:function(d,c){var b=this.$n("open");if(!b){return}var f=b.className;b.className=d?f.replace("-close","-open"):f.replace("-open","-close");this._showKids(d);this.getMeshWidget().onSize();if(!c){var a=this.getTree(),e=a.inPagingMold()||a.isModel();this.fire("onOpen",{open:d},{toServer:e})}}},rerender:function(){if(this.desktop){if(this.treerow){this.treerow.rerender()}if(this.treechildren){this.treechildren.rerender()}}return this},_showKids:function(b){if(this.treechildren){for(var a=this.treechildren.firstChild;a;a=a.nextSibling){a.$n().style.display=b?"":"none";if(a.isOpen()){a._showKids(b)}}}},isStripeable_:function(){return false},getMeshWidget:_zkf=function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.sel.Tree)){return a}}return null},getNode:function(){if(this.treerow){return this.treerow.$n()}return null},getZclass:function(){if(this.treerow){return this.treerow.getZclass()}return null},$n:function(a){if(this.treerow){return this.treerow.$n(a)}return null},getTree:_zkf,isContainer:function(){return this.treechildren!=null},isEmpty:function(){return !this.treechildren||!this.treechildren.nChildren},getLevel:function(){var b=0;for(var a=this;;++b){if(!a.parent){break}a=a.parent.parent;if(!a||a.$instanceof(zul.sel.Tree)){break}}return b},getLabel:function(){var a=this.getFirstCell();return a?a.getLabel():null},setLabel:function(a){this._autoFirstCell().setLabel(a)},getFirstCell:function(){return this.treerow?this.treerow.firstChild:null},_autoFirstCell:function(){if(!this.treerow){this.appendChild(new zul.sel.Treerow())}var a=this.treerow.getFirstChild();if(!a){a=new zul.sel.Treecell();this.treerow.appendChild(a)}return a},getImage:function(){var a=this.getFirstCell();return a?a.getImage():null},setImage:function(a){this._autoFirstCell().setImage(a);return this},getParentItem:function(){var a=this.parent&&this.parent.parent?this.parent.parent:null;return a&&a.$instanceof(zul.sel.Treeitem)?a:null},setVisible:function(a){if(this._visible!=a){this.$supers("setVisible",arguments);if(this.treerow){this.treerow.setVisible(a)}}return this},beforeParentChanged_:function(c){var b=this.getTree();if(b){b._onTreeitemRemoved(this)}if(c){var a=c.getTree();if(a){a._onTreeitemAdded(this)}}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.sel.Treerow)){this.treerow=a}else{if(a.$instanceof(zul.sel.Treechildren)){this.treechildren=a;if(this.treerow){this.rerender()}}}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.treerow){this.treerow=null}else{if(a==this.treechildren){this.treechildren=null;this.rerender()}}},doClick_:function(a){if(this.isDisabled()){return}if(a.domTarget==this.$n("open")){this.setOpen(!this._open);a.stop()}else{this.$supers("doClick_",arguments)}}});
zkreg('zul.sel.Treeitem');zk._m={};
zk._m['default']=function(a){if(this.treerow){this.treerow.redraw(a)}if(this.treechildren){this.treechildren.redraw(a)}};
;zkmld(zk._p.Treeitem,zk._m);zul.sel.Treerow=zk.$extends(zul.Widget,{setContext:zk.$void,setPopup:zk.$void,setTooltip:zk.$void,setTooltiptext:zk.$void,getTree:function(){return this.parent?this.parent.getTree():null},getLevel:function(){return this.parent?this.parent.getLevel():0},getLinkedTreechildren:function(){return this.parent?this.parent.treechildren:null},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a=this.parent?this.parent.isDisabled()?this.getZclass()+"-disd":this.parent.isSelected()?this.getZclass()+"-seld":"":"";if(a){b+=(b?" ":"")+a}}return b},getZclass:function(){return this._zclass==null?"z-treerow":this._zclass},getContext:function(){return this.parent?this.parent.getContext():null},getPopup:function(){return this.parent?this.parent.getPopup():null},getTooltip:function(){return this.parent?this.parent.getTooltip():null},getTooltiptext:function(){return this.parent?this.parent.getTooltiptext():null},isVisible:function(){if(!this.parent||!this.$supers("isVisible",arguments)){return false}if(!this.parent.isVisible()){return false}var a=this.parent.parent;return a&&a.isVisible()}});
zkreg('zul.sel.Treerow');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.Treerow,zk._m);zul.sel.Treecell=zk.$extends(zul.LabelImageWidget,{setWidth:zk.$void,_span:1,$define:{span:function(a){var b=this.$n();if(b){b.colSpan=a}}},getTree:function(){return this.parent?this.parent.getTree():null},domStyle_:function(c){var b=this.$supers("domStyle_",arguments),a=this.getTreecol();return this.isVisible()&&a&&!a.isVisible()?b+"display:none;":b},getTreecol:function(){var a=this.getTree();if(a&&a.treecols){var b=this.getChildIndex();if(b<a.treecols.nChildren){return a.treecols.getChildAt(b)}}return null},getLevel:function(){return this.parent?this.parent.getLevel():0},getMaxlength:function(){var b=this.getTree();if(!b){return 0}var a=this.getTreecol();return a?a.getMaxlength():0},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},getTextNode:function(){return zDom.firstChild(this.$n(),"DIV")},domContent_:function(){var b=this.$supers("domContent_",arguments),a=this._colHtmlPre();return b?a?a+"&nbsp;"+b:b:a},_colHtmlPre:function(){if(this.parent.firstChild==this){var g=this.parent.parent,a=g.getTree(),h=[];if(a){if(a.isCheckmark()){var e=g.isCheckable();h.push('<input type="',a.isMultiple()?"checkbox":"radio",'"');if(!e||g.isDisabled()){h.push(' disabled="disabled"')}if(g.isSelected()){h.push(' checked="checked"')}if(!a.isMultiple()){h.push(' name="',a.uuid,'"')}if(!e){h.push(' style="visibility:hidden;"/>')}else{h.push(' id="',this.parent.uuid,'-cm"/>')}}}var f=a?a.getZclass():"",c=this._getTreeitems(g,a);for(var d=0,b=c.length;d<b;++d){this._appendIcon(h,f,d==0||c[d]==this.parent.lastChild?zul.sel.Treecell.SPACER:zul.sel.Treecell.VBAR,false)}if(g.isContainer()){this._appendIcon(h,f,g.isOpen()?c.length==0?zul.sel.Treecell.ROOT_OPEN:g==this.parent.lastChild?zul.sel.Treecell.LAST_OPEN:zul.sel.Treecell.TEE_OPEN:c.length==0?zul.sel.Treecell.ROOT_CLOSE:g==this.parent.lastChild?zul.sel.Treecell.LAST_CLOSE:zul.sel.Treecell.TEE_CLOSE,true)}else{this._appendIcon(h,f,c.length==0?zul.sel.Treecell.FIRSTSPACER:g==this.parent.lastChild?zul.sel.Treecell.LAST:zul.sel.Treecell.TEE,false)}return h.join("")}else{return !this.getImage()&&!this.getLabel()&&!this.nChildren?"&nbsp;":null}},_getTreeitems:function(d,a){var b=[];for(;;){var c=d.parent;if(!c){break}d=c.parent;if(!d||d==a){break}b.unshift(d)}return b},getZclass:function(){return this._zclass==null?"z-treecell":this._zclass},_appendIcon:function(e,c,a,b){e.push('<span class="');if(a==zul.sel.Treecell.TEE||a==zul.sel.Treecell.LAST||a==zul.sel.Treecell.VBAR||a==zul.sel.Treecell.SPACER){e.push(c+"-line ",c,"-",a,'"')}else{e.push(c+"-ico ",c,"-",a,'"')}if(b){var d=this.parent.parent;if(d&&d.treerow){e.push(' id="',d.treerow.uuid,'-open"')}}e.push("></span>")},getWidth:function(){var a=this.getTreecol();return a?a.getWidth():null}},{ROOT_OPEN:"root-open",ROOT_CLOSE:"root-close",LAST_OPEN:"last-open",LAST_CLOSE:"last-close",TEE_OPEN:"tee-open",TEE_CLOSE:"tee-close",TEE:"tee",LAST:"last",VBAR:"vbar",SPACER:"spacer",FIRSTSPACER:"firstspacer"});
zkreg('zul.sel.Treecell',true);zk._m={};
zk._m['default']=function(c){c.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass()+"-cnt");var a=this.getTree();if(a!=null&&!a.isSizedByContent()){c.push(" z-overflow-hidden")}c.push('"',this.domTextStyleAttr_(),">",this.domContent_());for(var b=this.firstChild;b;b=b.nextSibling){b.redraw(c)}c.push("</div></td>")};
;zkmld(zk._p.Treecell,zk._m);zul.sel.Treefoot=zk.$extends(zul.Widget,{getTree:function(){return this.parent},getZclass:function(){return this._zclass==null?"z-treefoot":this._zclass}});
zkreg('zul.sel.Treefoot');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.Treefoot,zk._m);zul.sel.Treefooter=zk.$extends(zul.LabelImageWidget,{_span:1,$define:{span:function(a){var b=this.$n();if(b){b.colSpan=a}}},getTree:function(){return this.parent?this.parent.parent:null},getTreecol:function(){var a=this.getTree();if(a){var b=a.treecols;if(b){return b.getChildAt(this.getChildIndex())}}return null},getZclass:function(){return this._zclass==null?"z-treefooter":this._zclass}});
zkreg('zul.sel.Treefooter',true);zk._m={};
zk._m['default']=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.Treefooter,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.sel',1);zk.load('zul.wgt',function(){zk._n='zul.wnd';try{zk._p=zk.$package(zk._n,false,true);
zul.wnd.Window=zk.$extends(zul.Widget,{_mode:"embedded",_border:"none",_minheight:100,_minwidth:200,_shadow:true,$init:function(){if(!zk.light){this._fellows={}}this.$supers("$init",arguments);this.listen({onClose:this,onMove:this,onSize:this.onSizeEvent,onZIndex:this},-1000);this._skipper=new zul.wnd.Skipper(this)},$define:{mode:_zkf=function(){this._updateDomOuter()},title:_zkf,border:_zkf,closable:_zkf,sizable:function(a){if(this.desktop){if(a){this._makeSizer()}else{if(this._sizer){this._sizer.destroy();this._sizer=null}}}},maximizable:_zkf,minimizable:_zkf,maximized:function(c,k){var n=this.$n();if(n){var r=zk(n),v=this.isRealVisible();if(!v&&c){return}var o,i,g,q,j=n.style,b=this.getZclass();if(c){jq(this.$n("max")).addClass(b+"-maxd");this._hideShadow();var a=this._mode!="embedded",e=a?jq(n).offsetParent():jq(n).parent();o=j.left;i=j.top;g=j.width;q=j.height;j.top="-10000px";j.left="-10000px";var m=zk.ie6_&&e[0].clientWidth==0?e[0].offsetWidth-e.zk.borderWidth():e[0].clientWidth,u=zk.ie6_&&e[0].clientHeight==0?e[0].offsetHeight-e.zk.borderHeight():e[0].clientHeight;if(!a){m-=e.zk.paddingWidth();m=r.revisedWidth(m);u-=e.zk.paddingHeight();u=r.revisedHeight(u)}j.width=jq.px(m);j.height=jq.px(u);this._lastSize={l:o,t:i,w:g,h:q};j.top="0";j.left="0"}else{var p=this.$n("max"),d=jq(p);d.removeClass(b+"-maxd").removeClass(b+"-maxd-over");if(this._lastSize){j.left=this._lastSize.l;j.top=this._lastSize.t;j.width=this._lastSize.w;j.height=this._lastSize.h;this._lastSize=null}o=j.left;i=j.top;g=j.width;q=j.height;var f=this.$n("cave");if(f){f.style.width=f.style.height=""}}if(!k||v){this._visible=true;this._syncMask();this.fire("onMaximize",{left:o,top:i,width:g,height:q,maximized:c,fromServer:k})}if(v){this.__maximized=true;zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}}},minimized:function(d,c){if(this.isMaximized()){this.setMaximized(false)}var i=this.$n();if(i){var g=i.style,b=g.left,e=g.top,a=g.width,f=g.height;if(d){zWatch.fireDown("onHide",this);jq(i).hide()}else{jq(i).show();zWatch.fireDown("onShow",this)}if(!c){this._visible=false;this._syncShadow();this._syncMask();this.fire("onMinimize",{left:g.left,top:g.top,width:g.width,height:g.height,minimized:d})}}},contentStyle:_zkf,contentSclass:_zkf,position:function(a){if(this.desktop&&this._mode!="embedded"){this._updateDomPos()}},minheight:null,minwidth:null,shadow:function(){if(this._shadow){this._syncShadow()}else{if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}}}},doOverlapped:function(){this.setMode("overlapped")},doPopup:function(){this.setMode("popup")},doHighlighted:function(){this.setMode("highlighted")},doModal:function(){this.setMode("modal")},doEmbedded:function(){this.setMode("embedded")},_doOverlapped:function(){var d=this.getPosition(),c=this.$n(),a=zk(c);if(!d&&!c.style.top&&!c.style.left){var b=a.revisedOffset();c.style.left=jq.px(b[0],true);c.style.top=jq.px(b[1],true)}else{if(d=="parent"){this._posByParent()}}a.makeVParent();this._syncShadow();this._updateDomPos();if(this.isRealVisible()){a.cleanVisibility()}this.setTopmost();this._makeFloat()},_doModal:function(){var h=this.getPosition(),g=this.$n(),b=zk(g);if(h=="parent"){this._posByParent()}b.makeVParent();this._syncShadow();this._updateDomPos(true);if(!h){var d=zk.parseInt(g.style.top),f=jq.innerY();if(f){var a=d-f;if(a>100){g.style.top=jq.px(d-(a-100))}}else{if(d>100){g.style.top="100px"}}}var e=this.isRealVisible();if(e){b.cleanVisibility()}this.setTopmost();this._mask=new zk.eff.FullMask({id:this.uuid+"-mask",anchor:this._shadowWgt?this._shadowWgt.getBottomElement():this.$n(),zIndex:this._zIndex,stackup:(zk.useStackup===undefined?zk.ie6_:zk.useStackup),visible:e});if(e){this._prevmodal=zk.currentModal;zk.currentModal=this;this._prevfocus=zk.currentFocus;var c=this;setTimeout(function(){if(!zUtl.isAncestor(c,zk.currentFocus)){c.focus()}},0)}this._makeFloat()},_posByParent:function(){var d=this.$n(),a=zk(d.parentNode).revisedOffset(),c=zk.parseInt(d.style.left),b=zk.parseInt(d.style.top);this._offset=a;d.style.left=jq.px(a[0]+zk.parseInt(d.style.left),true);d.style.top=jq.px(a[1]+zk.parseInt(d.style.top),true)},_syncShadow:_zkf=function(){if(this._mode=="embedded"){if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}}else{if(this._shadow){if(!this._shadowWgt){this._shadowWgt=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3,stackup:true})}if(this.isMaximized()||this.isMinimized()){this._hideShadow()}else{this._shadowWgt.sync()}}}},zsync:_zkf,_syncMask:function(){if(this._mask&&this._shadowWgt){this._mask.sync(this._shadowWgt.getBottomElement())}},_hideShadow:function(){var a=this._shadowWgt;if(a){a.hide()}},_makeSizer:function(){if(!this._sizer){var a=this.$class;this._sizer=new zk.Draggable(this,null,{stackup:true,draw:a._drawsizing,starteffect:a._startsizing,ghosting:a._ghostsizing,endghosting:a._endghostsizing,ignoredrag:a._ignoresizing,endeffect:a._aftersizing})}},_makeFloat:function(){var b=this.$n("cap");if(b&&!this._drag){b.style.cursor="move";var a=this.$class;this._drag=new zk.Draggable(this,null,{handle:b,stackup:true,starteffect:a._startmove,ghosting:a._ghostmove,endghosting:a._endghostmove,ignoredrag:a._ignoremove,endeffect:a._aftermove})}},_updateDomPos:function(c){var d=this.$n(),h=this._position;if(h=="parent"||(!h&&!c)){return}var j=d.style;j.position="absolute";var g=j.left,f=j.top;zk(d).center(h);var b=this._shadowWgt;if(h&&b){var a=b.opts,e=d.offsetLeft,i=d.offsetTop;if(h.indexOf("left")>=0&&a.left<0){j.left=jq.px(e-a.left,true)}else{if(h.indexOf("right")>=0&&a.right>0){j.left=jq.px(e-a.right,true)}}if(h.indexOf("top")>=0&&a.top<0){j.top=jq.px(i-a.top,true)}else{if(h.indexOf("bottom")>=0&&a.bottom>0){j.top=jq.px(i-a.bottom,true)}}}this._syncShadow();if(g!=j.left||f!=j.top){this._fireOnMove()}},_updateDomOuter:function(){this.rerender(this._skipper)},onClose:function(){if(!this.inServer){this.parent.removeChild(this)}},onMove:function(a){this._left=a.left;this._top=a.top},onSizeEvent:function(a){var e=a.data,d=this.$n(),c=d.style;this._hideShadow();if(e.width!=c.width){c.width=e.width;this._fixWdh()}if(e.height!=c.height){c.height=e.height;this._fixHgh()}if(e.left!=c.left||e.top!=c.top){c.left=e.left;c.top=e.top;this._fireOnMove(a.keys)}this._syncShadow();var b=this;setTimeout(function(){zWatch.fireDown("beforeSize",b);zWatch.fireDown("onSize",b)},zk.ie6_?800:0)},onZIndex:function(a){this._syncShadow();this._syncMask()},onShow:function(b){var a=b.origin;if(this!=a&&this._mode!="embedded"&&this.isRealVisible({until:a,dom:true})){zk(this.$n()).cleanVisibility();this._syncShadow()}this.onSize(a)},onHide:function(b){var a=b.origin;if(this!=a&&this._mode!="embedded"&&this.isRealVisible({until:a,dom:true})){this.$n().style.visibility="hidden";this._syncShadow()}},onSize:(function(){function a(h){if(!h._lastSize){return}var e=h.$n(),f=h._mode!="embedded",g=f?jq(e).offsetParent():jq(e).parent(),d=e.style;var b=zk.ie6_&&g[0].clientWidth==0?g[0].offsetWidth-g.zk.borderWidth():g[0].clientWidth,c=zk.ie6_&&g[0].clientHeight==0?g[0].offsetHeight-g.zk.borderHeight():g[0].clientHeight;if(!f){b-=g.zk.paddingWidth();b=g.zk.revisedWidth(b);c-=g.zk.paddingHeight();c=g.zk.revisedHeight(c)}d.width=jq.px(b);d.height=jq.px(c)}return function(){this._hideShadow();if(this.isMaximized()){if(!this.__maximized){a(this)}this.__maximized=false}this._fixHgh();this._fixWdh();if(this._mode!="embedded"){this._updateDomPos();this._syncShadow()}}})(),onFloatUp:function(a){if(!this.isVisible()||this._mode=="embedded"){return}var c=a.origin;if(this._mode=="popup"){for(var b;c;c=c.parent){if(c==this){if(!b){this.setTopmost()}return}b=b||c.isFloating_()}this.setVisible(false);this.fire("onOpen",{open:false})}else{for(;c;c=c.parent){if(c==this){this.setTopmost();return}if(c.isFloating_()){return}}}},_fixWdh:zk.ie7?function(){if(this._mode!="embedded"&&this._mode!="popup"&&this.isRealVisible()){var c=this.$n(),i=this.$n("cave").parentNode,e=c.style.width,f=jq(c),g=f.find(">div:first"),j=g[0],a=j&&this.$n("cap")?g.nextAll("div:first")[0]:null,d=f.find(">div:last")[0];if(!e||e=="auto"){var b=zk(i.parentNode),h=b.padBorderWidth()+zk(i.parentNode.parentNode).padBorderWidth();if(j){j.firstChild.style.width=jq.px(i.offsetWidth+h)}if(a){a.firstChild.firstChild.style.width=jq.px(i.offsetWidth-(zk(a).padBorderWidth()+zk(a.firstChild).padBorderWidth()-h))}if(d){d.firstChild.style.width=jq.px(i.offsetWidth+h)}}else{if(j){j.firstChild.style.width=""}if(a){a.firstChild.style.width=""}if(d){d.firstChild.style.width=""}}}}:zk.$void,_fixHgh:function(){if(this.isRealVisible()){var d=this.$n(),a=d.style.height,c=this.$n("cave"),b=c.style.height;if(a&&a!="auto"){if(zk.ie6_){c.style.height="0px"}zk(c).setOffsetHeight(this._offsetHeight(d))}else{if(b&&b!="auto"){if(zk.ie6_){c.style.height="0px"}c.style.height=""}}}},_offsetHeight:function(e){var b=e.offsetHeight-this._titleHeight(e);if(this._mode!="embedded"&&this._mode!="popup"){var d=this.$n("cave"),c=jq(e).find(">div:last")[0],a=this.$n("cap");b-=c.offsetHeight;if(d){b-=zk(d.parentNode).padBorderHeight()}if(a){b-=zk(a.parentNode).padBorderHeight()}}return b-zk(e).padBorderHeight()},_titleHeight:function(d){var c=this.$n("cap"),a=jq(d).find(">div:first"),b=a[0];return c?c.offsetHeight+b.offsetHeight:this._mode!="embedded"&&this._mode!="popup"?b.offsetHeight:0},_fireOnMove:function(d){var g=this._position,c=this.$n(),a=zk.parseInt(c.style.left),f=zk.parseInt(c.style.top);if(g=="parent"){var b=zk(c).vparentNode();if(b){var e=zk(b).revisedOffset();a-=e[0];f-=e[1]}}this.fire("onMove",zk.copy({left:a+"px",top:f+"px"},d),{ignorable:true})},setVisible:function(a){if(this._visible!=a){if(this.isMaximized()){this.setMaximized(false)}else{if(this.isMinimized()){this.setMinimized(false)}}this.$supers("setVisible",arguments)}},setHeight:function(a){this.$supers("setHeight",arguments);if(this.desktop){this._fixHgh();this._syncShadow();zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.desktop){this._fixWdh();this._syncShadow();zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}},setTop:function(){this._hideShadow();this.$supers("setTop",arguments);this._syncShadow()},setLeft:function(){this._hideShadow();this.$supers("setLeft",arguments);this._syncShadow()},setDomVisible_:function(){this.$supers("setDomVisible_",arguments);this._syncShadow();this._syncMask()},setZIndex:_zkf=function(){this.$supers("setZIndex",arguments);this._syncShadow();this._syncMask()},setZindex:_zkf,focus:function(c){if(this.desktop&&this.isVisible()&&this.canActivate({checkOnly:true})){var b=this.caption;for(var a=this.firstChild;a;a=a.nextSibling){if(a!=b&&a.focus(c)){return true}}return b&&b.focus(c)}return false},getZclass:function(){var a=this._zclass;return a!=null?a:"z-window-"+this._mode},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Caption)){this.caption=a}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.caption){this.caption=null}},domStyle_:function(b){var a=this.$supers("domStyle_",arguments);if((!b||!b.visible)&&this.isMinimized()){a="display:none;"+a}if(this._mode!="embedded"){a="position:absolute;visibility:hidden;"+a}return a},bind_:function(e,d,c){this.$supers("bind_",arguments);var b=this._mode;zWatch.listen({onSize:this,onShow:this});if(b!="embedded"){zWatch.listen({onFloatUp:this,onHide:this});this.setFloating_(true);if(b=="modal"||b=="highlighted"){this._doModal()}else{this._doOverlapped()}}if(this._sizable){this._makeSizer()}this.domListen_(this.$n(),"onMouseOver");if(this.isMaximizable()&&this.isMaximized()){var a=this;c.push(function(){a._maximized=false;a.setMaximized(true,true)})}if(this._mode!="embedded"&&(zk.ie||zk.opera||zk.gecko2_)){jq.zsync(this)}},unbind_:function(){var e=this.$n();e.style.visibility="hidden";if(zk.ie||zk.opera||zk.gecko2_){jq.zsync(this,false)}if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}if(this._drag){this._drag.destroy();this._drag=null}if(this._sizer){this._sizer.destroy();this._sizer=null}if(this._mask){this._mask.destroy();this._mask=null}zk(e).undoVParent();zWatch.unlisten({onFloatUp:this,onSize:this,onShow:this,onHide:this});this.setFloating_(false);if(zk.currentModal==this){zk.currentModal=this._prevmodal;var f=this._prevfocus;if(f){f.focus(0)}this._prevfocus=this._prevmodal=null}var d=this.$class;for(var c=["close","max","min"],b=3;b--;){var a=c[b],g=this["e"+a];if(g){this["e"+a]=null;jq(g).unbind("click",d[a+"click"]).unbind("mouseover",d[a+"over"]).unbind("mouseout",d[a+"out"])}}this.$supers("unbind_",arguments)},_doMouseOver:function(a){if(this._sizer){var e=this.$n(),d=this.$class._insizer(e,zk(e).revisedOffset(),a.pageX,a.pageY),b=this._mode=="embedded"?false:this.$n("cap");if(!this.isMaximized()&&d){if(this.isMaximized()){return}if(this._backupCursor==undefined){this._backupCursor=e.style.cursor}e.style.cursor=d==1?"n-resize":d==2?"ne-resize":d==3?"e-resize":d==4?"se-resize":d==5?"s-resize":d==6?"sw-resize":d==7?"w-resize":"nw-resize";if(b){b.style.cursor=""}}else{e.style.cursor=this._backupCursor;if(b){b.style.cursor="move"}}}},doClick_:function(a){switch(a.domTarget){case this.$n("close"):this.fire("onClose");break;case this.$n("max"):this.setMaximized(!this.isMaximized());break;case this.$n("min"):this.setMinimized(!this.isMinimized());break;default:this.$supers("doClick_",arguments);return}a.stop()},doMouseOver_:function(a){switch(a.domTarget){case this.$n("close"):jq(this.$n("close")).addClass(this.getZclass()+"-close-over");break;case this.$n("max"):var c=this.getZclass(),b=this.isMaximized()?" "+c+"-maxd-over":"";jq(this.$n("max")).addClass(c+"-max-over"+b);break;case this.$n("min"):jq(this.$n("min")).addClass(this.getZclass()+"-min-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){switch(a.domTarget){case this.$n("close"):jq(this.$n("close")).removeClass(this.getZclass()+"-close-over");break;case this.$n("max"):var c=this.getZclass(),b=jq(this.$n("max"));if(this.isMaximized()){b.removeClass(c+"-maxd-over")}b.removeClass(c+"-max-over");break;case this.$n("min"):jq(this.$n("min")).removeClass(this.getZclass()+"-min-over");break}this.$supers("doMouseOut_",arguments)}},{_startmove:function(b){var a=b.node;if(a.style.top&&a.style.top.indexOf("%")>=0){a.style.top=a.offsetTop+"px"}if(a.style.left&&a.style.left.indexOf("%")>=0){a.style.left=a.offsetLeft+"px"}zWatch.fire("onFloatUp",b.control)},_ghostmove:function(i,g,l){var b=i.control,a=i.node;b._hideShadow();var m=jq(a),d=m.find(">div:first"),j=d[0],f=d.nextAll("div:first")[0],c=jq(j).clone()[0],k=jq(f).clone()[0];jq(document.body).prepend('<div id="zk_wndghost" class="'+b.getZclass()+'-move-ghost" style="position:absolute;top:'+g[1]+"px;left:"+g[0]+"px;width:"+m.zk.offsetWidth()+"px;height:"+m.zk.offsetHeight()+"px;z-index:"+a.style.zIndex+'"><dl></dl></div>');i._wndoffs=g;a.style.visibility="hidden";var e=a.offsetHeight-j.offsetHeight-f.offsetHeight;a=jq("#zk_wndghost")[0];a.firstChild.style.height=jq.px(zk(a.firstChild).revisedHeight(e));a.insertBefore(c,a.firstChild);a.insertBefore(k,a.lastChild);return a},_endghostmove:function(c,a){var b=c.node;a.style.top=jq.px(a.offsetTop+b.offsetTop-c._wndoffs[1],true);a.style.left=jq.px(a.offsetLeft+b.offsetLeft-c._wndoffs[0],true);document.body.style.cursor=""},_ignoremove:function(c,e,a){var b=c.node,d=c.control;switch(a.domTarget){case d.$n("close"):case d.$n("max"):case d.$n("min"):return true}if(!d.isSizable()||(b.offsetTop+4<e[1]&&b.offsetLeft+4<e[0]&&b.offsetLeft+b.offsetWidth-4>e[0])){return false}return true},_aftermove:function(b,a){b.node.style.visibility="";var c=b.control;c._syncShadow();c._fireOnMove(a.data)},_startsizing:function(a){zWatch.fire("onFloatUp",a.control)},_ghostsizing:function(f,e,a){var d=f.control,c=f.node;d._hideShadow();d.setTopmost();var b=jq(c);jq(document.body).append('<div id="zk_ddghost" class="'+d.getZclass()+'-resize-faker" style="position:absolute;top:'+e[1]+"px;left:"+e[0]+"px;width:"+b.zk.offsetWidth()+"px;height:"+b.zk.offsetHeight()+"px;z-index:"+c.style.zIndex+'"><dl></dl></div>');return jq("#zk_ddghost")[0]},_endghostsizing:function(c,a){var b=c.node;if(a){c.z_szofs={top:b.offsetTop+"px",left:b.offsetLeft+"px",height:zk(b).revisedHeight(b.offsetHeight)+"px",width:zk(b).revisedWidth(b.offsetWidth)+"px"}}},_insizer:function(e,f,c,g){var d=f[0]+e.offsetWidth,a=f[1]+e.offsetHeight;if(c-f[0]<=5){if(g-f[1]<=5){return 8}else{if(a-g<=5){return 6}else{return 7}}}else{if(d-c<=5){if(g-f[1]<=5){return 2}else{if(a-g<=5){return 4}else{return 3}}}else{if(g-f[1]<=5){return 1}else{if(a-g<=5){return 5}}}}},_ignoresizing:function(e,g,a){var c=e.node,f=e.control;if(f.isMaximized()){return true}var d=zk(c).revisedOffset(),b=f.$class._insizer(c,d,g[0],g[1]);if(b){f._hideShadow();e.z_dir=b;e.z_box={top:d[1],left:d[0],height:c.offsetHeight,width:c.offsetWidth,minHeight:zk.parseInt(f.getMinheight()),minWidth:zk.parseInt(f.getMinwidth())};e.z_orgzi=c.style.zIndex;return false}return true},_aftersizing:function(c,a){var d=c.control,b=c.z_szofs;d.fire("onSize",zk.copy(b,a.keys),{ignorable:true});c.z_szofs=null},_drawsizing:function(d,e,b){if(d.z_dir==8||d.z_dir<=2){var c=d.z_box.height+d.z_box.top-e[1];if(c<d.z_box.minHeight){e[1]=d.z_box.height+d.z_box.top-d.z_box.minHeight;c=d.z_box.minHeight}d.node.style.height=jq.px(c);d.node.style.top=e[1]+"px"}if(d.z_dir>=4&&d.z_dir<=6){var c=d.z_box.height+e[1]-d.z_box.top;if(c<d.z_box.minHeight){c=d.z_box.minHeight}d.node.style.height=jq.px(c)}if(d.z_dir>=6&&d.z_dir<=8){var a=d.z_box.width+d.z_box.left-e[0];if(a<d.z_box.minWidth){e[0]=d.z_box.width+d.z_box.left-d.z_box.minWidth;a=d.z_box.minWidth}d.node.style.width=jq.px(a);d.node.style.left=e[0]+"px"}if(d.z_dir>=2&&d.z_dir<=4){var a=d.z_box.width+e[0]-d.z_box.left;if(a<d.z_box.minWidth){a=d.z_box.minWidth}d.node.style.width=jq.px(a)}}});zul.wnd.Skipper=zk.$extends(zk.Skipper,{$init:function(a){this._w=a},restore:function(){this.$supers("restore",arguments);var a=this._w;if(a._mode!="embedded"){a._updateDomPos();a._syncShadow()}}});
zkreg('zul.wnd.Window',true);zk._m={};
zk._m['default']=function(c,k){var b=this.getZclass(),a=this.uuid,h=this.getTitle(),j=this.caption,l=this.getContentStyle(),e=this.getContentSclass(),f=this.getMode(),d="embedded"!=f&&"popup"!=f,g="normal"!=this.getBorder()?"-noborder":"";c.push("<div",this.domAttrs_(),">");if(j||h){c.push('<div class="',b,'-tl"><div class="',b,'-tr"></div></div><div class="',b,'-hl"><div class="',b,'-hr"><div class="',b,'-hm"><div id="',a,'-cap" class="',b,'-header">');if(j){j.redraw(c)}else{if(this.isClosable()){c.push('<div id="',a,'-close" class="',b,"-icon ",b,'-close"></div>')}if(this.isMaximizable()){c.push('<div id="',a,'-max" class="',b,"-icon ",b,"-max");if(this.isMaximized()){c.push(" ",b,"-maxd")}c.push('"></div>')}if(this.isMinimizable()){c.push('<div id="'+a,'-min" class="',b,"-icon ",b,'-min"></div>')}c.push(zUtl.encodeXML(h))}c.push("</div></div></div></div>")}else{if(d){c.push('<div class="',b,"-tl",g,'"><div class="',b,"-tr",g,'"></div></div>')}}if(d){c.push('<div class="',b,"-cl",g,'"><div class="',b,"-cr",g,'"><div class="',b,"-cm",g,'">')}c.push('<div id="',a,'-cave" class="');if(e){c.push(e," ")}c.push(b,"-cnt",g,'"');if(l){c.push(' style="',l,'"')}c.push(">");if(!k){for(var i=this.firstChild;i;i=i.nextSibling){if(i!=j){i.redraw(c)}}}c.push("</div>");if(d){c.push('</div></div></div><div class="',b,"-bl",g,'"><div class="',b,"-br",g,'"></div></div>')}c.push("</div>")};
;zkmld(zk._p.Window,zk._m);zul.wnd.Panel=zk.$extends(zul.Widget,{_border:"none",_title:"",_open:true,$init:function(){this.$supers("$init",arguments);this.listen({onClose:this,onMove:this},-1000)},$define:{framable:_zkf=function(){this.rerender()},movable:_zkf,floatable:_zkf,maximizable:_zkf,minimizable:_zkf,collapsible:_zkf,closable:_zkf,border:_zkf,title:_zkf,open:function(b,a){var c=this.$n();if(c){var e=this.getZclass(),d=jq(this.$n("body"));if(d[0]&&!d.is(":animated")){if(b){jq(c).removeClass(e+"-colpsd");d.zk.slideDown(this,{afterAnima:this._afterSlideDown})}else{jq(c).addClass(e+"-colpsd");this._hideShadow();if(zk.ie6_&&!c.style.width){c.runtimeStyle.width="100%"}d.zk.slideUp(this,{beforeAnima:this._beforeSlideUp})}if(!a){this.fire("onOpen",{open:b})}}}},maximized:function(c,k){var n=this.$n();if(n){var r=zk(n),v=r.isRealVisible();if(!v&&c){return}var o,i,f,q,j=n.style,b=this.getZclass();if(c){jq(this.$n("max")).addClass(b+"-maxd");this._hideShadow();if(this.isCollapsible()&&!this.isOpen()){r.jq.removeClass(b+"-colpsd");var g=this.$n("body");if(g){g.style.display=""}}var a=this.isFloatable(),e=a?jq(n).offsetParent():jq(n).parent();o=j.left;i=j.top;f=j.width;q=j.height;j.top="-10000px";j.left="-10000px";var m=zk.ie6_&&e[0].clientWidth==0?e[0].offsetWidth-e.zk.borderWidth():e[0].clientWidth,u=zk.ie6_&&e[0].clientHeight==0?e[0].offsetHeight-e.zk.borderHeight():e[0].clientHeight;if(!a){m-=e.zk.paddingWidth();m=r.revisedWidth(m);u-=e.zk.paddingHeight();u=r.revisedHeight(u)}j.width=jq.px(m);j.height=jq.px(u);this._lastSize={l:o,t:i,w:f,h:q};j.top="0";j.left="0"}else{var p=this.$n("max"),d=jq(p);d.removeClass(b+"-maxd").removeClass(b+"-maxd-over");if(this._lastSize){j.left=this._lastSize.l;j.top=this._lastSize.t;j.width=this._lastSize.w;j.height=this._lastSize.h;this._lastSize=null}o=j.left;i=j.top;f=j.width;q=j.height;if(this.isCollapsible()&&!this.isOpen()){jq(n).addClass(b+"-colpsd");var g=this.$n("body");if(g){g.style.display="none"}}var g=this.panelchildren?this.panelchildren.$n():null;if(g){g.style.width=g.style.height=""}}if(!k||v){this._visible=true;this.fire("onMaximize",{left:o,top:i,width:f,height:q,maximized:c,fromServer:k})}if(v){this.__maximized=true;zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}}},minimized:function(d,c){if(this.isMaximized()){this.setMaximized(false)}var i=this.$n();if(i){var g=i.style,b=g.left,e=g.top,a=g.width,f=g.height;if(d){zWatch.fireDown("onHide",this);jq(i).hide()}else{jq(i).show();zWatch.fireDown("onShow",this)}if(!c){this._visible=false;this.fire("onMinimize",{left:g.left,top:g.top,width:g.width,height:g.height,minimized:d})}}}},setVisible:function(a){if(this._visible!=a){if(this.isMaximized()){this.setMaximized(false)}else{if(this.isMinimized()){this.setMinimized(false)}}this.$supers("setVisible",arguments)}},setHeight:function(){this.$supers("setHeight",arguments);if(this.desktop){zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}},setWidth:function(){this.$supers("setWidth",arguments);if(this.desktop){zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}},setTop:function(){this._hideShadow();this.$supers("setTop",arguments);this._syncShadow()},setLeft:function(){this._hideShadow();this.$supers("setLeft",arguments);this._syncShadow()},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){zWatch.fireDown("beforeSize",this);zWatch.fireDown("onSize",this)}},addToolbar:function(a,b){switch(a){case"tbar":this.tbar=b;break;case"bbar":this.bbar=b;break;case"fbar":this.fbar=b;break;default:return false}return this.appendChild(b)},onClose:function(){if(!this.inServer||!this.isListen("onClose",{asapOnly:1})){this.parent.removeChild(this)}},onMove:function(a){this._left=a.left;this._top=a.top},onSize:_zkf=(function(){function a(h){if(!h._lastSize){return}var e=h.$n(),f=h.isFloatable(),g=f?jq(e).offsetParent():jq(e).parent(),d=e.style;var b=zk.ie6_&&g[0].clientWidth==0?g[0].offsetWidth-g.zk.borderWidth():g[0].clientWidth;if(!f){b-=g.zk.paddingWidth();b=g.zk.revisedWidth(b)}d.width=jq.px(b);if(h.isOpen()){var c=zk.ie6_&&g[0].clientHeight==0?g[0].offsetHeight-g.zk.borderHeight():g[0].clientHeight;if(!f){c-=g.zk.paddingHeight();c=g.zk.revisedHeight(c)}d.height=jq.px(c)}}return function(b){this._hideShadow();if(this.isMaximized()){if(!this.__maximized){a(this)}this.__maximized=false}this._fixWdh();if(this.tbar){b.fireDown(this.tbar)}if(this.bbar){b.fireDown(this.bbar)}if(this.fbar){b.fireDown(this.fbar)}this._fixHgh();this._syncShadow()}})(),onShow:_zkf,onHide:function(){this._hideShadow()},_fixWdh:zk.ie7?function(){if(!this.isFramable()||!this.panelchildren){return}var f=jq(this.$n()),d=f[0].style.width,j=f.find("> :first-child")[0],a=this.$n("cap")?jq(j).next()[0]:null,b=f.find("> :last-child")[0],e=this.$n("bb"),i=this.$n("fb")?jq(b).prev()[0]:null,c=this.panelchildren.$n(),h=c.parentNode;if(!d||d=="auto"){var g=zk(h.parentNode).padBorderWidth()+zk(h.parentNode.parentNode).padBorderWidth();if(j){j.firstChild.style.width=jq.px(h.offsetWidth+g)}if(a){a.firstChild.firstChild.style.width=jq.px(h.offsetWidth-(zk(a).padBorderWidth()+zk(a.firstChild).padBorderWidth()-g))}if(e){e.style.width=zk(e).revisedWidth(c.offsetWidth)}if(i){i.firstChild.firstChild.style.width=jq.px(h.offsetWidth-(zk(i).padBorderWidth()+zk(i.firstChild).padBorderWidth()-g))}if(b){b.firstChild.style.width=jq.px(h.offsetWidth+g)}}else{if(j){j.firstChild.style.width=""}if(a){a.firstChild.style.width=""}if(e){e.style.width=""}if(i){i.firstChild.style.width=""}if(b){b.firstChild.style.width=""}}}:zk.$void,_fixHgh:function(){if(!this.panelchildren||!this.isRealVisible()){return}var c=this.$n(),a=this.panelchildren.$n(),b=c.style.height;if(zk.ie6_&&((b&&b!="auto")||a.style.height)){a.style.height="0"}if(b&&b!="auto"){zk(a).setOffsetHeight(this._offsetHeight(c))}if(zk.ie6_){zk(a).redoCSS()}},_offsetHeight:function(i){var c=i.offsetHeight-this._titleHeight(i);if(this.isFramable()){var a=this.panelchildren.$n(),g=jq(this.$n("body")).find(":last")[0],f=this.$n("cap");c-=g.offsetHeight;if(a){c-=zk(a.parentNode).padBorderHeight()}if(f){c-=zk(f.parentNode).padBorderHeight()}}c-=zk(i).padBorderHeight();var b=this.$n("tb"),e=this.$n("bb"),d=this.$n("fb");if(b){c-=b.offsetHeight}if(e){c-=e.offsetHeight}if(d){c-=d.offsetHeight}return c},_titleHeight:function(d){var b=this.isFramable(),a=b?jq(d).find("> div:first-child").next()[0]:this.$n("cap"),c=b?jq(d).find("> div:first-child")[0].offsetHeight:0;return a?a.offsetHeight+c:c},onFloatUp:function(a){if(!this.isVisible()||!this.isFloatable()){return}for(var b=a.origin;b;b=b.parent){if(b==this){this.setTopmost();return}if(b.isFloating_()){return}}},getZclass:function(){return this._zclass==null?"z-panel":this._zclass},_afterSlideDown:function(a){zWatch.fireDown("onShow",this)},_beforeSlideUp:function(a){zWatch.fireDown("onHide",this)},_initFloat:function(){var b=this.$n();if(!b.style.top&&!b.style.left){var a=zk(b).revisedOffset();b.style.left=jq.px(a[0],true);b.style.top=jq.px(a[1],true)}b.style.position="absolute";if(this.isMovable()){this._initMove()}this._syncShadow();if(this.isRealVisible()){zk(b).cleanVisibility();this.setTopmost()}},_initMove:function(b){var c=this.$n("cap");if(c&&!this._drag){c.style.cursor="move";var a=this.$class;this._drag=new zk.Draggable(this,null,{handle:c,stackup:true,starteffect:a._startmove,ignoredrag:a._ignoremove,endeffect:a._aftermove})}},_syncShadow:function(){if(!this.isFloatable()){if(this._shadow){this._shadow.destroy();this._shadow=null}}else{var a=this.$n("body");if(a&&zk(a).isRealVisible()){if(!this._shadow){this._shadow=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3,stackup:(zk.useStackup===undefined?zk.ie6_:zk.useStackup)})}if(this.isMaximized()||this.isMinimized()){this._hideShadow()}else{this._shadow.sync()}}}},_hideShadow:function(){var a=this._shadow;if(a){a.hide()}},bind_:function(f,e,d){this.$supers("bind_",arguments);zWatch.listen({onSize:this,onShow:this,onHide:this});var c=this.uuid,b=this.$class;if(this.isFloatable()){zWatch.listen({onFloatUp:this});this.setFloating_(true);this._initFloat()}if(this.isMaximizable()&&this.isMaximized()){var a=this;d.push(function(){a._maximized=false;a.setMaximized(true,true)})}},unbind_:function(){zWatch.unlisten({onSize:this,onShow:this,onHide:this,onFloatUp:this});this.setFloating_(false);if(this._shadow){this._shadow.destroy();this._shadow=null}if(this._drag){this._drag.destroy();this._drag=null}this.$supers("unbind_",arguments)},doClick_:function(b){switch(b.domTarget){case this.$n("close"):this.fire("onClose");break;case this.$n("max"):this.setMaximized(!this.isMaximized());break;case this.$n("min"):this.setMinimized(!this.isMinimized());break;case this.$n("exp"):var a=this.$n("body"),c=a?zk(a).isVisible():this.isOpen();if(!c==this.isOpen()){this._open=c}this.setOpen(!c);break;default:this.$supers("doClick_",arguments);return}b.stop()},doMouseOver_:function(a){switch(a.domTarget){case this.$n("close"):jq(this.$n("close")).addClass(this.getZclass()+"-close-over");break;case this.$n("max"):var c=this.getZclass(),b=this.isMaximized()?" "+c+"-maxd-over":"";jq(this.$n("max")).addClass(c+"-max-over"+b);break;case this.$n("min"):jq(this.$n("min")).addClass(this.getZclass()+"-min-over");break;case this.$n("exp"):jq(this.$n("exp")).addClass(this.getZclass()+"-exp-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){switch(a.domTarget){case this.$n("close"):jq(this.$n("close")).removeClass(this.getZclass()+"-close-over");break;case this.$n("max"):var c=this.getZclass(),b=jq(this.$n("max"));if(this.isMaximized()){b.removeClass(c+"-maxd-over")}b.removeClass(c+"-max-over");break;case this.$n("min"):jq(this.$n("min")).removeClass(this.getZclass()+"-min-over");break;case this.$n("exp"):jq(this.$n("exp")).removeClass(this.getZclass()+"-exp-over");break}this.$supers("doMouseOut_",arguments)},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass();var a="normal"==this.getBorder()?"":c+"-noborder";if(a){b+=(b?" ":"")+a}a=this.isOpen()?"":c+"-colpsd";if(a){b+=(b?" ":"")+a}}return b},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Caption)){this.caption=a}else{if(a.$instanceof(zul.wnd.Panelchildren)){this.panelchildren=a}else{if(a.$instanceof(zul.wgt.Toolbar)){if(this.firstChild==a||(this.nChildren==(this.caption?2:1))){this.tbar=a}else{if(this.lastChild==a&&a.previousSibling.$instanceof(zul.wgt.Toolbar)){this.fbar=a}else{if(a.previousSibling.$instanceof(zul.wnd.Panelchildren)){this.bbar=a}}}}}}this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.caption){this.caption=null}else{if(a==this.panelchildren){this.panelchildren=null}else{if(a==this.tbar){this.tbar=null}else{if(a==this.bbar){this.bbar=null}else{if(a==this.fbar){this.fbar=null}}}}}this.rerender()}},{_startmove:function(b){b.control._hideShadow();var a=b.node;if(a.style.top&&a.style.top.indexOf("%")>=0){a.style.top=a.offsetTop+"px"}if(a.style.left&&a.style.left.indexOf("%")>=0){a.style.left=a.offsetLeft+"px"}},_ignoremove:function(b,d,a){var c=b.control;switch(a.domTarget){case c.$n("close"):case c.$n("max"):case c.$n("min"):case c.$n("exp"):return true}return false},_aftermove:function(c,a){var d=c.control;d._syncShadow();var b=d.$n();d.fire("onMove",zk.copy({left:b.style.left,top:b.style.top},a.data),{ignorable:true})}});
zkreg('zul.wnd.Panel');zk._m={};
zk._m['default']=function(c,i){var b=this.getZclass(),a=this.uuid,d=this.getTitle(),h=this.caption,g=this.isFramable(),e=this.getBorder()!="normal",f=!h&&!d;c.push("<div",this.domAttrs_(),">");if(h||d){if(g){c.push('<div class="',b,'-tl"><div class="',b,'-tr"></div></div>');c.push('<div class="',b,'-hl"><div class="',b,'-hr"><div class="',b,'-hm">')}c.push('<div id="',a,'-cap" class="',b,"-header ");if(!g&&e){c.push(b,"-header-noborder")}c.push('">');if(!h){if(this.isClosable()){c.push('<div id="',a,'-close" class="',b,"-icon ",b,'-close"></div>')}if(this.isMaximizable()){c.push('<div id="',a,'-max" class="',b,"-icon ",b,"-max");if(this.isMaximized()){c.push(" ",b,"-maxd")}c.push('"></div>')}if(this.isMinimizable()){c.push('<div id="',a,'-min" class="',b,"-icon ",b,'-min"></div>')}if(this.isCollapsible()){c.push('<div id="',a,'-exp" class="',b,"-icon ",b,'-exp"></div>')}c.push(zUtl.encodeXML(d))}else{h.redraw(c)}c.push("</div>");if(g){c.push("</div></div></div>")}}else{if(g){c.push('<div class="',b,'-tl"><div class="',b,'-tr"></div></div>')}}c.push('<div id="',a,'-body" class="',b,'-body"');if(!this.isOpen()){c.push(' style="display:none;"')}c.push(">");if(g){c.push('<div class="',b,'-cl"><div class="',b,'-cr"><div class="',b,"-cm");if(f){c.push(" ",b,"-noheader")}c.push('">')}if(this.tbar){c.push('<div id="',a,'-tb" class="',b,"-top");if(e){c.push(" ",b,"-top-noborder")}if(f){c.push(" ",b,"-noheader")}c.push('">');this.tbar.redraw(c);c.push("</div>")}if(this.panelchildren){this.panelchildren.redraw(c)}if(this.bbar){c.push('<div id="',a,'-bb" class="',b,"-btm");if(e){c.push(" ",b,"-btm-noborder")}if(f){c.push(" ",b,"-noheader")}c.push('">');this.bbar.redraw(c);c.push("</div>")}if(g){c.push('</div></div></div><div class="',b,"-fl");if(!this.fbar){c.push(" ",b,"-nobtm2")}c.push('"><div class="',b,'-fr"><div class="',b,'-fm">')}if(this.fbar){c.push('<div id="',a,'-fb" class="',b,'-btm2">');this.fbar.redraw(c);c.push("</div>")}if(g){c.push('</div></div></div><div class="',b,'-bl"><div class="',b,'-br"></div></div>')}c.push("</div></div>")};
;zkmld(zk._p.Panel,zk._m);zul.wnd.Panelchildren=zk.$extends(zul.Widget,{setHeight:zk.$void,setWidth:zk.$void,getZclass:function(){return this._zclass==null?"z-panel-children":this._zclass},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass();var a=!this.parent.getTitle()&&!this.parent.caption?c+"-noheader":"";if(a){b+=(b?" ":"")+a}a=this.parent.getBorder()=="normal"?"":c+"-noborder";if(a){b+=(b?" ":"")+a}}return b},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){zWatch.fireDown("beforeSize",this.parent);zWatch.fireDown("onSize",this.parent)}}});
zkreg('zul.wnd.Panelchildren',true);zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.Panelchildren,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.wnd',1);zk.load('zul',function(){zk._n='zul.tab';try{zk._p=zk.$package(zk._n,false,true);
zul.tab.Tabbox=zk.$extends(zul.Widget,{_orient:"horizontal",_tabscroll:true,$define:{tabscroll:_zkf=function(){this.rerender()},orient:_zkf,panelSpacing:function(a){if(a!=null&&a.length==0){this._panelSpacing=a=null}this.rerender()}},getTabs:function(){return this.tabs},getTabpanels:function(){return this.tabpanels},getToolbar:function(){return this.toolbar},getZclass:function(){return this._zclass==null?"z-tabbox"+(this.inAccordionMold()?"-"+this.getMold():this.isVertical()?"-ver":""):this._zclass},isHorizontal:function(){return"horizontal"==this.getOrient()},isVertical:function(){return"vertical"==this.getOrient()},inAccordionMold:function(){return this.getMold().indexOf("accordion")!=-1},getSelectedIndex:function(){var a=zk(this._selTab).jq[0],b=zk.Widget.$(a);return b!=null?b.getIndex():-1},setSelectedIndex:function(a){var b=this.getTabs();if(!b){return}this.setSelectedTab(b.getChildAt(a))},getSelectedPanel:function(){var a=zk(this._selTab).jq[0],b=zk.Widget.$(a);return b!=null?b.getLinkedPanel():null},setSelectedPanel:function(a){if(a!=null&&a.getTabbox()!=this){return}var b=a.getLinkedTab();if(!b){return}this.setSelectedTab(b)},getSelectedTab:function(){var a=zk(this._selTab).jq[0];return zk.Widget.$(a)},setSelectedTab:function(a){if(zul.tab.Tab.isInstance(a)){a=a.uuid}if(this._selTab!=a){this._selTab=a;var b=zk.Widget.$(a);if(b){b.setSelected(true)}}},onSize:_zkf=function(){zk(this.$n()).cleanVisibility()},onShow:_zkf,bind_:function(){this.$supers("bind_",arguments);this.tabs=this.getTabs();this.tabpanels=this.getTabpanels();this._scrolling=false;zWatch.listen({onSize:this,onShow:this});zk.afterMount(this.proxy(function(){var b=zk(this._selTab).jq[0],a=zk.Widget.$(b);if(a){a.setSelected(true)}}))},unbind_:function(){zWatch.unlisten({onSize:this,onShow:this});this.$supers("unbind_",arguments)},removeChildHTML_:function(b,a){this.$supers("removeChildHTML_",arguments);if(this.isVertical()&&b.$instanceof(zul.tab.Tabs)){jq(b.uuid+"-line",zk).remove()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Toolbar)){this.toolbar=a}else{if(a.$instanceof(zul.tab.Tabs)){this.tabs=a}else{if(a.$instanceof(zul.tab.Tabpanels)){this.tabpanels=a}}}this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.toolbar){this.toolbar=null}else{if(a==this.tabs){this.tabs=null}else{if(a==this.tabpanels){this.tabpanels=null}}}this.rerender()},setWidth:function(a){this.$supers("setWidth",arguments);zWatch.fireDown("onSize",this)},setHeight:function(a){this.$supers("setHeight",arguments);zWatch.fireDown("onSize",this)}});
zkreg('zul.tab.Tabbox');zk._m={};
zk._m['accordion-lite']=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();if(b){b.redraw(a)}a.push("</div>")};
;zk._m['default']=function(a){a.push("<div ",this.domAttrs_(),">");if(this.tabs){this.tabs.redraw(a)}if(this.tabpanels){this.tabpanels.redraw(a)}if(this.isVertical()){a.push('<div class="z-clear" ></div>')}a.push("</div>")};
;zk._m['accordion']=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();if(b){b.redraw(a)}a.push("</div>")};
;zkmld(zk._p.Tabbox,zk._m);zul.tab.Tabs=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent?this.parent:null},getZclass:function(){var a=this.getTabbox();return this._zclass==null?"z-tabs"+(a._mold=="default"?(a.isVertical()?"-ver":""):""):this._zclass},onSize:_zkf=function(){this._fixWidth()},onShow:_zkf,insertChildHTML_:function(e,c,d){var b=e.previousSibling;if(c){jq(c).before(e._redrawHTML())}else{if(b){jq(b).after(e._redrawHTML())}else{var a=this.$n("edge");if(a){jq(a).before(e._redrawHTML())}else{jq(this.getCaveNode()).append(e._redrawHTML())}}}e.bind(d)},domClass_:function(d){var c=this.$supers("domClass_",arguments),b=this.getTabbox();if(!d||!d.zclass){var a=b.isTabscroll()?c+"-scroll":"";if(a){c+=(c?" ":"")+a}}return c},bind_:function(f,e,d){this.$supers("bind_",arguments);zWatch.listen({onSize:this,onShow:this});for(var c,b=["right","left","down","up"],a=b.length;a--;){if((c=this.$n(b[a]))){this.domListen_(c,"onClick")}}this._inited=false;zk.afterMount(this.proxy(function(){if(this.desktop){var g=this;function h(){g._scrollcheck("init");g._fixWidth();g._inited=true}if(this.parent.toolbar&&zk.safari||zk.opera){setTimeout(h,50)}else{h()}}}));this._fixWidth()},unbind_:function(){zWatch.unlisten({onSize:this,onShow:this});this.$supers("unbind_",arguments)},_isInited:function(){return this._inited},_scrollcheck:function(g,i){var j=this.$n(),f=this.getTabbox(),y=f.$n();if(!f.isRealVisible()||!f.isTabscroll()){return}if(!j){return}if(f.isVertical()){var s=this.$n("header"),k=this.$n("cave"),v=s.offsetHeight,z=s.scrollTop,p=f.getSelectedTab(),l=i?i:(p?p.$n():null),q=l?l.offsetTop:0,r=l?l.offsetHeight:0,e=0,w=this._getArrowSize();jq(k).children().each(function(){e+=this.offsetHeight});if(f._scrolling){if(j.offsetHeight<w){return}if(e<=v+w){f._scrolling=false;this._showbutton(false);s.style.height=jq.px(y.offsetHeight-2);s.scrollTop=0}switch(g){case"end":var u=e-v-z;this._doScroll(u>=0?"down":"up",u>=0?u:Math.abs(u));break;case"init":if(q<z){this._doScroll("up",z-q)}else{if(q+r>z+v){this._doScroll("down",q+r-z-v)}}break;case"vsel":if(q<z){this._doScroll("up",z-q)}else{if(q+r>z+v){this._doScroll("down",q+r-z-v)}}break}}else{if(e-(v-10)>0){f._scrolling=true;this._showbutton(true);var t=y.offsetHeight-this._getArrowSize();s.style.height=t>0?t+"px":"";if(g=="end"){var u=e-v-z+2;if(u>=0){this._doScroll(this.uuid,"down",u)}}}}}else{if(!f.inAccordionMold()){var k=this.$n("cave"),s=this.$n("header"),p=f.getSelectedTab(),l=i?i:(p?p.$n():null),n=l?l.offsetLeft:0,b=l?l.offsetWidth:0,o=s.offsetWidth,x=s.scrollLeft,c=0,w=this._getArrowSize(),m=f.toolbar;jq(k).children().each(function(){c+=this.offsetWidth});if(m){m=m.$n()}if(f._scrolling){if(m){var a,h;if(zk.gecko2_){a=m.parentNode.parentNode;a.style.height="";h=a.offsetHeight}this.$n("right").style.right=m.offsetWidth+"px";if(zk.gecko2_){a.style.height=jq.px(zk(a).revisedHeight(h))}}if(j.offsetWidth<w){return}if(c<=o+w){f._scrolling=false;this._showbutton(false);s.style.width=jq.px(y.offsetWidth-(m?m.offsetWidth:0));s.scrollLeft=0}switch(g){case"end":var u=c-o-x;this._doScroll(u>=0?"right":"left",u>=0?u:Math.abs(u));break;case"init":if(n<x){this._doScroll("left",x-n)}else{if(n+b>x+o){this._doScroll("right",n+b-x-o)}}break;case"sel":if(n<x){this._doScroll("left",x-n)}else{if(n+b>x+o){this._doScroll("right",n+b-x-o)}}break}}else{if(c-(o-10)>0){f._scrolling=true;this._showbutton(true);var k=this.$n("cave"),t=y.offsetWidth-(m?m.offsetWidth:0)-this._getArrowSize();k.style.width="5555px";s.style.width=t>0?t+"px":"";if(g=="sel"){if(n<x){this._doScroll("left",x-n)}else{if(n+b>x+o){this._doScroll("right",n+b-x-o)}}}}}}}},_doScroll:function(to,move){if(move<=0){return}var step,header=this.$n("header");step=move<=60?5:eval(5*(zk.parseInt(move/60)+1));var run=setInterval(function(){if(!move){clearInterval(run);return}else{move<step?goscroll(header,to,move):goscroll(header,to,step);move=move-step;move=move<0?0:move}},10);goscroll=function(header,to,step){switch(to){case"right":header.scrollLeft+=step;break;case"left":header.scrollLeft-=step;break;case"up":header.scrollTop-=step;break;default:header.scrollTop+=step}header.scrollLeft=(header.scrollLeft<=0?0:header.scrollLeft);header.scrollTop=(header.scrollTop<=0?0:header.scrollTop)}},_getArrowSize:function(){var c=this.getTabbox(),d=c.isVertical(),b=d?this.$n("up"):this.$n("left"),a=d?this.$n("down"):this.$n("right");return b&&a?(d?b.offsetHeight+a.offsetHeight:b.offsetWidth+a.offsetWidth):0},_showbutton:function(a){var b=this.getTabbox(),c=this.getZclass();if(b.isTabscroll()){var d=this.$n("header");if(b.isVertical()){if(a){jq(d).addClass(c+"-header-scroll");jq(this.$n("down")).addClass(c+"-down-scroll");jq(this.$n("up")).addClass(c+"-up-scroll")}else{jq(d).removeClass(c+"-header-scroll");jq(this.$n("down")).removeClass(c+"-down-scroll");jq(this.$n("up")).removeClass(c+"-up-scroll")}}else{if(a){jq(d).addClass(c+"-header-scroll");jq(this.$n("right")).addClass(c+"-right-scroll");jq(this.$n("left")).addClass(c+"-left-scroll")}else{jq(d).removeClass(c+"-header-scroll");jq(this.$n("right")).removeClass(c+"-right-scroll");jq(this.$n("left")).removeClass(c+"-left-scroll")}}}},_doClick:function(m){var n=m.domTarget,b=0,a=this.getTabbox(),l=this.$n("cave"),j=this.$n("header"),g=jq(l).children(),c=a.isVertical()?j.scrollTop:j.scrollLeft,f=a.isVertical()?j.offsetHeight:j.offsetWidth;if(!g.length){return}if(n.id==this.uuid+"-right"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetLeft+g[e].offsetWidth>c+f){b=g[e].offsetLeft+g[e].offsetWidth-c-f;if(!b||isNaN(b)){return null}this._doScroll("right",b);return}}}else{if(n.id==this.uuid+"-left"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetLeft>=c){var k=jq(g[e]).prevAll("li")[0];if(k==null){return}b=c-k.offsetLeft;if(isNaN(b)){return}this._doScroll("left",b);return}}b=c-g[g.length-1].offsetLeft;if(isNaN(b)){return}this._doScroll("left",b);return}else{if(n.id==this.uuid+"-up"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetTop>=c){var d=jq(g[e]).prev("li")[0];if(d==null){return}b=c-d.offsetTop;this._doScroll("up",b);return}}var d=g[g.length-1];if(d==null){return}b=c-d.offsetTop;this._doScroll("up",b);return}else{if(n.id==this.uuid+"-down"){for(var e=0,h=g.length;e<h;e++){if(g[e].offsetTop+g[e].offsetHeight>c+f){b=g[e].offsetTop+g[e].offsetHeight-c-f;if(!b||isNaN(b)){return}this._doScroll("down",b);return}}}}}}},_fixWidth:function(){var f=this.$n(),b=this.getTabbox(),j=b.$n(),i=this.$n("cave"),g=this.$n("header"),d=this.$n("left"),a=this.$n("right"),c=b._scrolling?d&&a?d.offsetWidth+a.offsetWidth:0:0;this._fixHgh();if(this.parent.isVertical()){var e=0;if(f.style.width){f._width=f.style.width}else{this._forceStyle(f,"w",f._width!=null?f._width:"50px")}}else{if(!b.inAccordionMold()){if(j.offsetWidth<c){return}if(b.isTabscroll()){var h=b.toolbar;if(h){h=h.$n()}if(!j.style.width){this._forceStyle(j,"w","100%");this._forceStyle(f,"w",jq(f).zk.revisedWidth(j.offsetWidth)+"px");if(b._scrolling){this._forceStyle(g,"w",j.offsetWidth-(h?h.offsetWidth:0)-c+"px")}else{this._forceStyle(g,"w",jq(g).zk.revisedWidth(j.offsetWidth-(h?h.offsetWidth:0))+"px")}}else{this._forceStyle(f,"w",jq(f).zk.revisedWidth(j.offsetWidth)+"px");this._forceStyle(g,"w",f.style.width);if(b._scrolling){this._forceStyle(g,"w",g.offsetWidth-(h?h.offsetWidth:0)-c+"px")}else{this._forceStyle(g,"w",g.offsetWidth-(h?h.offsetWidth:0)+"px")}}if(h&&b._scrolling){this.$n("right").style.right=h.offsetWidth+"px"}}else{if(!j.style.width){this._forceStyle(j,"w",j.offsetWidth+"px");this._forceStyle(f,"w",j.offsetWidth+"px")}else{this._forceStyle(f,"w",j.offsetWidth+"px")}}}}},_fixHgh:function(){var f=this.$n(),a=this.getTabbox(),i=a.$n(),g=this.$n("header"),j=this.$n("up"),e=this.$n("down"),h=this.$n("cave"),c=j&&e?isNaN(j.offsetHeight+e.offsetHeight)?0:j.offsetHeight+e.offsetHeight:0;if(a.isVertical()){var b=jq(i).children("div");allTab=jq(h).children();if(i.style.height){this._forceStyle(f,"h",jq(f).zk.revisedHeight(i.offsetHeight,true)+"px")}else{this._forceStyle(i,"h",allTab.length*35+"px");this._forceStyle(f,"h",jq(f).zk.revisedHeight(i.offsetHeight,true)+"px")}if(a._scrolling){this._forceStyle(g,"h",(f.offsetHeight-c)+"px")}else{this._forceStyle(g,"h",jq(g).zk.revisedHeight(f.offsetHeight,true)+"px")}this._forceStyle(b[1],"h",jq(b[1]).zk.revisedHeight(f.offsetHeight,true)+"px");this._forceStyle(b[2],"h",jq(b[1]).zk.revisedHeight(f.offsetHeight,true)+"px")}else{if(g){g.style.height=""}}},_forceStyle:function(b,a,c){if(c==null||zk.parseInt(c)<0){return}switch(a){case"h":b.style.height=zk.ie6_?"0px":"";b.style.height=c;break;case"w":b.style.width=zk.ie6_?"0px":"";b.style.width="";b.style.width=c;break}}});
zkreg('zul.tab.Tabs');zk._m={};
zk._m['default']=function(c){var f=this.getZclass(),e=this.getTabbox(),d=this.uuid;c.push("<div ",this.domAttrs_(),">");if(e.isVertical()){c.push('<div id="',d,'-header" class="',f,'-header">','<ul id="',d,'-cave" class="',f,'-cnt">');for(var b=this.firstChild;b;b=b.nextSibling){b.redraw(c)}c.push('<li id="',d,'-edge" class="',f,'-edge" ></li></ul></div>');c.push('<div id="',d,'-up"> </div>','<div id="',d,'-down"></div></div><div id="',d,'-line" class="',f,'-space" ></div>')}else{var a=e.isTabscroll()&&e.toolbar;if(a){c.push('<div class="',e.toolbar.getZclass(),'-outer">');e.toolbar.redraw(c)}c.push('<div id="',d,'-right">',"</div>",'<div id="',d,'-left">',"</div>",'<div id="',d,'-header"',' class="',f,'-header" >','<ul id="',d,'-cave"','class="',f,'-cnt">');for(var b=this.firstChild;b;b=b.nextSibling){b.redraw(c)}c.push('<li id="',d,'-edge"',' class="',f,'-edge" ></li>','<div id="',d,'-clear" class="z-clear"> </div>',"</ul></div>");if(a){c.push("</div>")}c.push('<div id="',d,'-line"',' class="',f,'-space" ></div></div>')}};
;zkmld(zk._p.Tabs,zk._m);zul.tab.Tab=zk.$extends(zul.LabelImageWidget,{$init:function(){this.$supers("$init",arguments);this.listen({onClose:this},-1000)},$define:{closable:_zkf=function(){this.rerender()},image:_zkf,disabled:_zkf,selected:function(a){if(this.$n()){this._selTab(false)}}},getTabbox:function(){return this.parent?this.parent.parent:null},getIndex:function(){return this.getChildIndex()},getZclass:function(){var a=this.getTabbox();return this._zclass==null?"z-tab"+(a._mold=="default"?(a.isVertical()?"-ver":""):"-"+a._mold):this._zclass},getLinkedPanel:function(){var c=this.getTabbox(),a=c.getTabpanels(),b=this.getIndex();return a?a.getChildAt(b):null},_doCloseClick:function(a){if(!this._disabled){this.fire("onClose");a.stop()}},_toggleBtnOver:function(a){var c=this.getZclass(),b=a.domTarget;jq(b).toggleClass(c+"-close-over")},_selTab:function(d,g){var c=this.getTabbox(),b=this.parent,e=c.$n(),a=this.$n(),f=this._getSelTab();if(!a){return}if(f!=a||g){if(c.isVertical()){b._scrollcheck("vsel",a)}else{if(!c.inAccordionMold()){b._scrollcheck("sel",a)}}if(f){this._setTabSel(f,false,false,d)}this._setTabSel(a,true,d,d)}},_setTabSel:function(i,e,l,h){var b=this.getTabbox(),j=b.inAccordionMold(),d=this.getZclass(),f=zk.Widget.$(i),a=f.getLinkedPanel();if(f.isSelected()==e&&l){return}if(e){b.setSelectedTab(f)}f._selected=e;if(e){jq(i).addClass(d+"-seld")}else{jq(i).removeClass(d+"-seld")}if(a){if(j&&h){var c=a.$n("real");zk(c)[e?"slideDown":"slideUp"](a)}else{var g=j?a.$n("real"):a.$n();if(e){jq(g).show();zWatch.fireDown("onShow",a)}else{zWatch.fireDown("onHide",a);jq(g).hide()}}}if(!j){var k=this.parent;if(k){k._fixWidth()}}if(l){this.fire("onSelect",{items:[this.uuid],reference:this.uuid})}},_getSelTab:function(){var b=this.getTabbox();if(!b){return null}if(b.inAccordionMold()){var a=this._getSelTabFromTop();return a?a.$n():null}else{for(var c=this;(c=c.nextSibling);){if(c.isSelected()){return c.$n()}}for(var c=this;(c=c.previousSibling);){if(c.isSelected()){return c.$n()}}if(this.isSelected()){return this.$n()}}return null},_getSelTabFromTop:function(){var a=this.getTabbox();return a?a.getSelectedTab():null},doClick_:function(a){if(this._disabled){return}this._selTab(true);this.$supers("doClick_",arguments)},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a=this.isDisabled()?this.getZclass()+"-disd":"";if(a){b+=(b?" ":"")+a}}return b},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this.getImage();if(!a){return b}a='<img src="'+a+'" align="absmiddle" class="'+this.getZclass()+'-img"/>';return b?a+" "+b:a},bind_:function(g,f,e){this.$supers("bind_",arguments);var a=this.$n("close"),b=this.parent,d=this,c=this.isSelected();if(a){this.domListen_(a,"onClick","_doCloseClick");if(!a.style.cursor){a.style.cursor="default"}if(zk.ie6_){this.domListen_(a,"onMouseOver","_toggleBtnOver").domListen_(a,"onMouseOut","_toggleBtnOver")}}e.push(function(){if(c){d._selTab(false,true)}else{if(b._isInited()){b._scrollcheck("init")}}})},unbind_:function(){var a=this.$n("close");if(a){this.domUnlisten_(a,"onClick","_doCloseClick");if(zk.ie6_){this.domUnlisten_(a,"onMouseOver","_toggleBtnOver").domUnlisten_(a,"onMouseOut","_toggleBtnOver")}}this.$supers("unbind_",arguments)},onClose:function(){if(this.isSelected()){var a=this.getTabbox();for(var b=this;b=b.nextSibling;){if(!b.isDisabled()){b._selTab(true);return null}}for(var b=this;b=b.previousSibling;){if(!b.isDisabled()){b._selTab(true);return null}}}}});
zkreg('zul.tab.Tab',true);zk._m={};
zk._m['default']=function(a){var d=this.getZclass(),c=this.getTabbox(),b=this.uuid;if(c.inAccordionMold()){if(c.getMold()=="accordion-lite"){a.push('<div id="',this.uuid,'"',this.domAttrs_(),">");a.push('<div align="left" class="',d,'-header">');if(this.isClosable()){a.push('<a id="',this.uuid,'-close" class="',d,'-close"></a>')}a.push('<div href="javascript:;" id="',this.uuid,'-tl" class="',d,'-tl">','<div class="',d,'-tr">','<span class="',d,'-tm">','<span class="',d,'-text">',this.domContent_(),"</span></span></div></div></div></div>")}else{if(c.getPanelSpacing()!=null&&this.getIndex()!=0){a.push('<div style="margin:0;display:list-item;width:100%;height:',c.getpanelSpacing(),';"></div>')}a.push('<div id="',this.uuid,'"',this.domAttrs_(),">",'<div align="left" class="',d,'-header" >','<div class="',d,'-tl" ><div class="',d,'-tr" ></div></div>','<div class="',d,'-hl" >','<div class="',d,'-hr" >','<div class="',d,'-hm" >');if(this.isClosable()){a.push('<a id="',this.uuid,'-close"  class="',d,'-close"></a>')}a.push('<span class="',d,'-text">',this.domContent_(),"</span></div></div></div></div></div>")}}else{a.push("<li ",this.domAttrs_(),">");if(this.isClosable()){a.push('<a id="',b,'-close" class="',d,'-close"','onClick="return false;" ></a>')}else{if(c.isVertical()){a.push('<a class="',d,'-noclose" ></a>')}}a.push('<div id="',b,'-hl" class="',d,'-hl"><div id="',b,'-hr" class="',d,'-hr">');if(this.isClosable()){a.push('<div id="',b,'-hm" class="',d,"-hm ",d,'-hm-close">')}else{a.push('<div id="',b,'-hm" class="',d,'-hm ">')}a.push('<span class="',d,'-text">',this.domContent_(),"</span></div></div></div></li>")}};
;zkmld(zk._p.Tab,zk._m);zul.tab.Tabpanels=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent?this.parent:null},getZclass:function(){var a=this.getTabbox();return this._zclass==null?"z-tabpanels"+(a._mold=="default"?(a.isVertical()?"-ver":""):"-"+a._mold):this._zclass}});
zkreg('zul.tab.Tabpanels');zk._m={};
zk._m['default']=function(b){b.push('<div id="',this.uuid,'"',this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.Tabpanels,zk._m);zul.tab.Tabpanel=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent?this.parent.parent:null},isVisible:function(){return this.$supers("isVisible",arguments)&&this.isSelected()},getZclass:function(){var a=this.getTabbox();return this._zclass==null?"z-tabpanel"+(a._mold=="default"?(a.isVertical()?"-ver":""):"-"+a._mold):this._zclass},getLinkedTab:function(){var c=this.getTabbox(),b=c.getTabs(),a=this.getIndex();return b?b.getChildAt(a):null},getIndex:function(){return this.getChildIndex()},isSelected:function(){var a=this.getLinkedTab();return a!=null&&a.isSelected()},_fixPanelHgh:function(){var b=this.getTabbox();if(!b.inAccordionMold()){var c=b.$n(),e=this.$n(),a=c.style.height,d;if(zk.ie){if(e.style.position){d=e.style.position}e.style.position="relative"}if(a&&a!="auto"){a=zk(e.parentNode).vflexHeight();zk(e).setOffsetHeight(a)}jq(this.$n("real")).addClass(this.getZclass()+"-cnt");if(zk.ie&&d){e.style.position=d}}},onSize:_zkf=function(){this._fixPanelHgh();if(zk.ie){zk(this.getTabbox().$n()).redoCSS()}},onShow:_zkf,bind_:function(){this.$supers("bind_",arguments);if(this.getTabbox().isHorizontal()){zWatch.listen({onSize:this,onShow:this})}},unbind_:function(){zWatch.unlisten({onSize:this,onShow:this});this.$supers("unbind_",arguments)}});
zkreg('zul.tab.Tabpanel',true);zk._m={};
zk._m['default']=function(b){var e=this.uuid,f=this.getZclass(),d=this.getLinkedTab(),c=this.getTabbox();if(c.inAccordionMold()){b.push('<div class="',f,'-outer" id="',e,'">');if(d){d.redraw(b)}b.push('<div id="',e,'-real"',this.domAttrs_(),">",'<div id="',e,'-cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></div></div>")}else{b.push('<div id="',e,'"',this.domAttrs_(),">");if(c.isHorizontal()){b.push('<div id="',e,'-real">')}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}if(c.isHorizontal()){b.push("</div>")}b.push("</div>")}};
;zkmld(zk._p.Tabpanel,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.tab',1);zk.load('zul',function(){zk._n='zul.layout';try{zk._p=zk.$package(zk._n,false,true);
zul.layout.Borderlayout=zk.$extends(zul.Widget,{setResize:function(){this.resize()},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);var a=zul.layout.Borderlayout;if(b.getPosition()==a.NORTH){this.north=b}else{if(b.getPosition()==a.SOUTH){this.south=b}else{if(b.getPosition()==a.CENTER){this.center=b}else{if(b.getPosition()==a.WEST){this.west=b}else{if(b.getPosition()==a.EAST){this.east=b}}}}}this.resize()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.north){this.north=null}else{if(a==this.south){this.south=null}else{if(a==this.center){this.center=null}else{if(a==this.west){this.west=null}else{if(a==this.east){this.east=null}}}}}this.resize()},getZclass:function(){return this._zclass==null?"z-borderlayout":this._zclass},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onSize:this,onShow:this})},unbind_:function(){zWatch.unlisten({onSize:this,onShow:this});this.$supers("unbind_",arguments)},afterChildrenFlex_:function(){if(this._isOnSize){this._resize(true)}},resize:function(){if(this.desktop){this._resize()}},_resize:function(h){this._isOnSize=h;if(!this.isRealVisible()){return}var e=["north","south","west","east"],f=e.length;for(var i,g=0;g<f;++g){i=this[e[g]];if(i&&zk(i.$n()).isVisible()&&((i._nvflex&&i._vflexsize===undefined)||(i._nhflex&&i._hflexsize===undefined))){return}}var c=this.$n(),b=c.offsetWidth,m=c.offsetHeight,a={x:0,y:0,w:b,h:m};for(var i,l,d,g=0;g<f;++g){i=this[e[g]];if(i&&zk(i.$n()).isVisible()){l=i._ambit();switch(e[g]){case"north":case"south":l.w=b-l.w;if(e[g]=="north"){a.y=l.ts}else{l.y=m-l.y}a.h-=l.ts;break;default:l.y+=a.y;l.h=a.h-l.h;if(e[g]=="east"){l.x=b-l.x}else{a.x+=l.ts}a.w-=l.ts;break}this._resizeWgt(i,l)}}if(this.center&&zk(this.center.$n()).isVisible()){var n=this.center.getCurrentMargins_();a.x+=n.left;a.y+=n.top;a.w-=n.left+n.right;a.h-=n.top+n.bottom;this._resizeWgt(this.center,a)}zk(c).cleanVisibility();this._isOnSize=false},_resizeWgt:function(d,a,e){if(d._open){if(!e&&d.$n("split")){d._fixSplit();a=d._reszSplt(a)}zk.copy(d.$n("real").style,{left:jq.px(a.x),top:jq.px(a.y)});this._resizeBody(d,a)}else{d.$n("split").style.display="none";var b=d.$n("colled");if(b){var c=zk(b);zk.copy(b.style,{left:jq.px(a.x),top:jq.px(a.y),width:jq.px(c.revisedWidth(a.w)),height:jq.px(c.revisedHeight(a.h))})}}},_resizeBody:function(d,a){a.w=Math.max(0,a.w);a.h=Math.max(0,a.h);var c=d.$n("real"),b=d.isFlex()&&d.firstChild?d.firstChild.$n():d.$n("cave");if(!this._ignoreResize(c,a.w,a.h)){a.w=zk(c).revisedWidth(a.w);c.style.width=jq.px(a.w);a.w=zk(b).revisedWidth(a.w);b.style.width=jq.px(a.w);a.h=zk(c).revisedHeight(a.h);c.style.height=jq.px(a.h);a.h=zk(b).revisedHeight(a.h);if(d.$n("cap")){a.h=Math.max(0,a.h-d.$n("cap").offsetHeight)}b.style.height=jq.px(a.h);if(d.isAutoscroll()){b.style.overflow="auto";b.style.position="relative"}else{b.style.overflow="hidden";b.style.position=""}if(!this._isOnSize){zWatch.fireDown("beforeSize",d);zWatch.fireDown("onSize",d)}}},_ignoreResize:function(c,a,b){if(c._lastSize&&c._lastSize.width==a&&c._lastSize.height==b){return true}else{c._lastSize={width:a,height:b};return false}},onSize:_zkf=function(){this._resize(true)},onShow:_zkf},{NORTH:"north",SOUTH:"south",EAST:"east",WEST:"west",CENTER:"center"});
zkreg('zul.layout.Borderlayout');zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.Borderlayout,zk._m);zul.layout.LayoutRegion=zk.$extends(zul.Widget,{_open:true,_border:"normal",$init:function(){this.$supers("$init",arguments);this._margins=[0,0,0,0]},$define:{flex:function(){this.rerender()},border:function(a){if(!a||"0"==a){this._border=a="none"}if(this.desktop){(this.$n("real")||{})._lastSize=null}this.updateDomClass_()},autoscroll:null},getCurrentMargins_:function(){return zul.layout.LayoutRegion._aryToObject(this._margins)},getMargins:function(){return zUtl.intsToString(this._margins)},setMargins:function(a){if(this.getMargins()!=a){this._margins=zUtl.stringToInts(a,0);if(this.parent&&this.desktop){this.parent.resize()}}},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a="normal"==this.getBorder()?"":this.getZclass()+"-noborder";if(a){b+=(b?" ":"")+a}}return b},getZclass:function(){return this._zclass==null?"z-"+this.getPosition():this._zclass},setWidth:function(a){this._width=a;var b=this.$n("real");if(b){b.style.width=a?a:"";b._lastSize=null}return this},setHeight:function(a){this._height=a;var b=this.$n("real");if(b){b.style.height=a?a:"";b._lastSize=null}return this},setVisible:function(a){if(this._visible!=a){this.$supers("setVisible",arguments);var b=this.$n("real");if(b){b.style.display=b.parentNode.style.display;this.parent.resize()}}return this},setFlexSize_:function(c){var e=this.$n("real");if(c.height!==undefined){if(c.height=="auto"){e.style.height=""}else{if(c.height==""){e.style.height=this._height?this._height:""}else{var d=this.$n("cave"),b=d?(d.offsetHeight+d.offsetTop):zk(e).revisedHeight(c.height,true);if(zk.ie){e.style.height=""}e.style.height=jq.px(b)}}}if(c.width!==undefined){if(c.width=="auto"){e.style.width=""}else{if(c.width==""){e.style.width=this._width?this._width:""}else{var a=zk(e).revisedWidth(c.width,true);if(zk.ie){e.style.width=""}e.style.width=jq.px(a)}}}return{height:e.offsetHeight,width:e.offsetWidth}},updateDomClass_:function(){if(this.desktop){var a=this.$n("real");if(a){a.className=this.domClass_();if(this.parent){this.parent.resize()}}}},updateDomStyle_:function(){if(this.desktop){var a=this.$n("real");if(a){zk(a).setStyles(jq.parseStyle(this.domStyle_()));if(this.parent){this.parent.resize()}}}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.layout.Borderlayout)){this.setFlex(true);jq(this.$n()).addClass(this.getZclass()+"-nested")}(this.$n("real")||{})._lastSize=null;if(this.parent&&this.desktop){this.parent.resize()}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a.$instanceof(zul.layout.Borderlayout)){this.setFlex(false);jq(this.$n()).removeClass(this.getZclass()+"-nested")}(this.$n("real")||{})._lastSize=null;if(this.parent&&this.desktop){this.parent.resize()}},rerender:function(){this.$supers("rerender",arguments);if(this.parent){this.parent.resize()}return this},bind_:function(){this.$supers("bind_",arguments);if(this.getPosition()!=zul.layout.Borderlayout.CENTER){var d=this.$n("split");if(d){this._fixSplit();var c=this._isVertical();if(!this._open){var b=this.$n("colled"),f=this.$n("real");if(b){jq(b).show()}jq(f).hide()}}}var e=this.$n(),f=e.firstChild;if(this._open&&!this.isVisible()){e.style.display="none"}if(this.isAutoscroll()){var a=this.isFlex()&&this.firstChild?this.firstChild.$n():this.$n("cave");this.domListen_(a,"onScroll")}},unbind_:function(){if(this.isAutoscroll()){var a=this.isFlex()&&this.firstChild?this.firstChild.$n():this.$n("cave");this.domUnlisten_(a,"onScroll")}this.$supers("unbind_",arguments)},_doScroll:function(){zWatch.fireDown("onScroll",this)},_fixSplit:function(){jq(this.$n("split"))[this._splittable?"show":"hide"]()},_isVertical:function(){var a=zul.layout.Borderlayout;return this.getPosition()!=a.WEST&&this.getPosition()!=a.EAST},_ambit:function(f){var j,k=this.getCurrentMargins_(),g=this.getPosition();if(g&&!this._open){var d=this.$n("colled");j={x:k.left,y:k.top,w:d?d.offsetWidth:0,h:d?d.offsetHeight:0};f=true}else{var b=this.parent.$n(),i=this.getWidth()||"",c=this.getHeight()||"",a;j={x:k.left,y:k.top,w:(a=i.indexOf("%"))>0?Math.max(Math.floor(b.offsetWidth*zk.parseInt(i.substring(0,a))/100),0):this.$n("real").offsetWidth,h:(a=c.indexOf("%"))>0?Math.max(Math.floor(b.offsetHeight*zk.parseInt(c.substring(0,a))/100),0):this.$n("real").offsetHeight}}var e=f?{offsetHeight:0,offsetWidth:0}:this.$n("split")||{offsetHeight:0,offsetWidth:0};if(!f){this._fixSplit()}this._ambit2(j,k,e);return j},_ambit2:zk.$void,_reszSplt:function(a){var c=this.$n("split"),b=zul.layout.LayoutRegion;if(zk(c).isVisible()){zk.copy(c.style,this._reszSp2(a,{w:c.offsetWidth,h:c.offsetHeight}))}return a},_reszSp2:zk.$void},{_aryToObject:function(a){return{top:a[0],left:a[1],right:a[2],bottom:a[3]}}});
zkreg('zul.layout.LayoutRegion');zk._m={};
zk._m['default']=function(b){var c=this.uuid,e=this.getZclass(),d=this.getPosition()!=zul.layout.Borderlayout.CENTER,f=this.parent.getZclass();b.push('<div id="',c,'">','<div id="',c,'-real"',this.domAttrs_({id:1}),">");b.push('<div id="',c,'-cave" class="',e,'-body">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></div>");if(d){b.push('<div id="',c,'-split" class="',e,'-splt"></div>')}b.push("</div>")};
;zkmld(zk._p.LayoutRegion,zk._m);zul.layout.North=zk.$extends(_zkf=zul.layout.LayoutRegion,zul.layout._North={setWidth:zk.$void,sanchor:"t",getPosition:function(){return zul.layout.Borderlayout.NORTH},getSize:_zkf.prototype.getHeight,setSize:_zkf.prototype.setHeight,_ambit2:function(a,b,c){a.w=b.left+b.right;a.h+=c.offsetHeight;a.ts=a.y+a.h+b.bottom},_reszSp2:function(a,b){a.h-=b.h;return{left:jq.px(a.x),top:jq.px(a.y+a.h),width:jq.px(a.w)}}});
zkreg('zul.layout.North');zul.layout.South=zk.$extends(_zkf=zul.layout.LayoutRegion,zul.layout._South={setWidth:zk.$void,sanchor:"b",getPosition:function(){return zul.layout.Borderlayout.SOUTH},getSize:_zkf.prototype.getHeight,setSize:_zkf.prototype.setHeight,_ambit2:function(a,b,c){a.w=b.left+b.right;a.h+=c.offsetHeight;a.ts=a.y+a.h+b.bottom;a.y=a.h+b.bottom},_reszSp2:function(a,b){a.h-=b.h;a.y+=b.h;return{left:jq.px(a.x),top:jq.px(a.y-b.h),width:jq.px(a.w)}}});
zkreg('zul.layout.South');zul.layout.Center=zk.$extends(zul.layout.LayoutRegion,zul.layout._Center={setHeight:zk.$void,setWidth:zk.$void,setVisible:zk.$void,getSize:zk.$void,setSize:zk.$void,getPosition:function(){return zul.layout.Borderlayout.CENTER}});
zkreg('zul.layout.Center');zul.layout.East=zk.$extends(_zkf=zul.layout.LayoutRegion,zul.layout._East={setHeight:zk.$void,sanchor:"r",getPosition:function(){return zul.layout.Borderlayout.EAST},getSize:_zkf.prototype.getWidth,setSize:_zkf.prototype.setWidth,_ambit2:function(a,b,c){a.w+=c.offsetWidth;a.h=b.top+b.bottom;a.ts=a.x+a.w+b.right;a.x=a.w+b.right},_reszSp2:function(a,b){a.w-=b.w;a.x+=b.w;return{left:jq.px(a.x-b.w),top:jq.px(a.y),height:jq.px(a.h)}}});
zkreg('zul.layout.East');zul.layout.West=zk.$extends(_zkf=zul.layout.LayoutRegion,zul.layout._West={setHeight:zk.$void,sanchor:"l",getPosition:function(){return zul.layout.Borderlayout.WEST},getSize:_zkf.prototype.getWidth,setSize:_zkf.prototype.setWidth,_ambit2:function(a,b,c){a.w+=c.offsetWidth;a.h=b.top+b.bottom;a.ts=a.x+a.w+b.right},_reszSp2:function(a,b){a.w-=b.w;return{left:jq.px(a.x+a.w),top:jq.px(a.y),height:jq.px(a.h)}}});
zkreg('zul.layout.West');
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.layout',1);zk.load('zul',function(){zk._n='zul.med';try{zk._p=zk.$package(zk._n,false,true);
zul.med.Applet=zk.$extends(zul.Widget,{$init:function(){this._params={};this.$supers("$init",arguments)},$define:{code:_zkf=function(){this.rerender()},codebase:_zkf},invoke:zk.ie?function(){var n=this.$n(),len=arguments.length;if(n&&len>=1){var single=len<3,begin=single?"(":"([",end=single?")":"])",expr="n."+arguments[0]+begin;for(var j=1;j<len;){if(j!=1){expr+=","}var s=arguments[j++];expr+='"'+(s?s.replace('"','\\"'):"")+'"'}try{eval(expr+end)}catch(e){zk.error("Failed to invoke applet's method: "+expr+"\n"+e.message)}}}:function(){var i=this.$n();if(i&&arguments.length>=1){var f=arguments[0],g=i[f];if(!g){zk.error("Method not found: "+f);return}try{var c=[],d=[];if(arguments.length<3){if(arguments[1]){c.push(arguments[1])}}else{for(var b=1,a=arguments.length;b<a;){d.push(arguments[b++])}c.push(d)}g.apply(i,c)}catch(h){zk.error("Failed to invoke applet's method: "+f+"\n"+h.message)}}},getField:function(a){var b=this.$n();return b?b[a]:null},setField:function(a,b){var d=this.$n();if(d){try{d[a]=b}catch(c){zk.error("Failed to set applet's field: "+a+"\n"+c.message)}}},setParam:function(a,b){if(arguments.length==1){b=a[1];a=a[0]}if(b!=null){this._params[a]=b}else{delete this._params[a]}},domAttrs_:function(a){return this.$supers("domAttrs_",arguments)+' code="'+(this._code||"")+'" codebase="'+(this._codebase||"")+'"'},_outParamHtml:function(b){var c=this._params;for(var a in c){b.push('<param name="',zUtl.encodeXML(a),'" value="',zUtl.encodeXML(c[a]),'"/>')}}});
zkreg('zul.med.Applet');zk._m={};
zk._m['default']=function(a){a.push("<applet",this.domAttrs_(),">");this._outParamHtml(a);a.push("</applet>")};
;zkmld(zk._p.Applet,zk._m);zul.med.Audio=zk.$extends(zul.Widget,{$define:{src:function(){this.rerender()},align:function(a){var b=this.$n();if(b){b.align=a||""}},border:function(a){var b=this.$n();if(b){b.border=a||""}},autostart:function(a){var b=this.$n();if(b){b.autostart=a}},loop:function(a){var b=this.$n();if(b){b.loop=a}}},play:function(){var b=this.$n();if(b){try{b.play()}catch(a){try{b.Play()}catch(a){jq.alert(msgzul.NO_AUDIO_SUPPORT+"\n"+a.message)}}}},stop:function(a){var c=this.$n();if(c){try{c.stop()}catch(b){try{c.Stop()}catch(b){if(!a){jq.alert(msgzul.NO_AUDIO_SUPPORT+"\n"+b.message)}}}}},pause:function(){var b=this.$n();if(b){try{b.pause()}catch(a){try{b.Pause()}catch(a){jq.alert(msgzul.NO_AUDIO_SUPPORT+"\n"+a.message)}}}},unbind_:function(){this.stop(true);this.$supers("unbind_",arguments)},domAttrs_:function(c){var a=this.$supers("domAttrs_",arguments)+' src="'+(this._src||"")+'" z_autohide="true"',b;if(b=this._align){a+=' align="'+b+'"'}if(b=this._border){a+=' border="'+b+'"'}if(b=this._autostart){a+=' autostart="'+b+'"'}if(b=this._loop){a+=' loop="'+b+'"'}return a}});
zkreg('zul.med.Audio');zk._m={};
zk._m['default']=function(a){a.push("<embed",this.domAttrs_(),' mastersound enablejavascript="true"/>')};
;zkmld(zk._p.Audio,zk._m);zul.med.Flash=zk.$extends(zul.Widget,{_wmode:"transparent",_quality:"high",_autoplay:true,_loop:false,_version:"6,0,0,0",$define:{version:function(){this.rerender()},src:function(a){var b=this._embedNode();if(b){b.movie=a||""}},wmode:function(a){var b=this._embedNode();if(b){b.wmode=v||""}},bgcolor:function(a){var b=this._embedNode();if(b){b.bgcolor=a||""}},quality:function(a){var b=this._embedNode();if(b){b.quality=a||""}},autoplay:function(a){var b=this._embedNode();if(b){b.autoplay=v||""}},loop:function(a){var b=this._embedNode();if(b){b.loop=a||""}}},setHeight:function(a){this._height=a;var b=this._embedNode();if(b){b.height=a?a:""}},setWidth:function(a){this._width=a;var b=this._embedNode();if(b){b.width=a?a:""}},_embedNode:function(){return this.$n("emb")}});
zkreg('zul.med.Flash');zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_({width:true,height:true}),'><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=',this._version,'" width="',this._width||"",'" height="',this._height||"",'"><param name="movie" value="',this._src,'"></param><param name="wmode" value="',this._wmode,'"></param><param name="quality" value="',this._quality,'"></param><param name="autoplay" value="',this._autoplay,'"></param><param name="loop" value="',this._loop,'"></param>');var a;if(a=this._bgcolor){b.push('<param name="bgcolor" value="',a,'"')}b.push('<embed id="',this.uuid,'-emb" src="',this._src,'" type="application/x-shockwave-flash" wmode="',this._wmode,'" quality="',this._quality,'" autoplay="',this._autoplay,'" loop="',this._loop,'" width="',this._width||"",'" height="',this._height||"",'"');if(a){b.push(' bgcolor="',a,'"')}b.push("></embed></object></div>")};
;zkmld(zk._p.Flash,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.med',1);